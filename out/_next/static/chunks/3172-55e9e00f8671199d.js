(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3172],{8989:(e,t,a)=>{"use strict";a.d(t,{R:()=>c});var n=a(75155),r=a(67270),s=a(12482),l=a(49672),o=a(81973),i=a(78550);function c(e,t){let a,c,d,m,u,h=(0,n.c)(16);h[0]!==e?(a={...e,with:void 0},h[0]=e,h[1]=a):a=h[1];let x=a,p=(0,l.fu)(),b=(0,i.Ge)(),f=x?.source;h[2]!==f?(c={id:f},h[2]=f,h[3]=c):c=h[3];let{data:g,isLoading:j}=(0,o.Fo)(c);h[4]!==x?(d=["explain",x],h[4]=x,h[5]=d):d=h[5],h[6]!==p||h[7]!==x||h[8]!==b||h[9]!==g?.querySettings?(m=async e=>{let{signal:t}=e,a=await (0,r.PV)(x,b,g?.querySettings);return(await p.query({query:`EXPLAIN ESTIMATE ${a.sql}`,query_params:a.params,format:"JSONEachRow",abort_signal:t,connectionId:x.connection})).json()},h[6]=p,h[7]=x,h[8]=b,h[9]=g?.querySettings,h[10]=m):m=h[10];let y=!j;return h[11]!==t||h[12]!==d||h[13]!==m||h[14]!==y?(u={queryKey:d,queryFn:m,retry:!1,staleTime:6e4,enabled:y,...t},h[11]=t,h[12]=d,h[13]=m,h[14]=y,h[15]=u):u=h[15],(0,s.I)(u)}},24207:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(6029),r=a(75155),s=a(56513),l=a(25062),o=a(90993);function i(e){let t,a,i,c=(0,r.c)(4),{onDelete:d}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(s.W.Target,{children:(0,n.jsx)(l.$,{variant:"danger",size:"xs",children:"Delete"})}),c[0]=t):t=c[0],c[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(o.A,{size:16}),c[1]=a):a=c[1],c[2]!==d?(i=(0,n.jsxs)(s.W,{withArrow:!0,children:[t,(0,n.jsx)(s.W.Dropdown,{children:(0,n.jsx)(s.W.Item,{leftSection:a,onClick:d,children:"Confirm Delete"})})]}),c[2]=d,c[3]=i):i=c[3],i}},24314:(e,t,a)=>{"use strict";a.d(t,{Eb:()=>eH});var n=a(6029),r=a(75155),s=a(55729),l=a(1909),o=a(35467),i=a(82641),c=a(43517),d=a(34834),m=a(63085),u=a(53061),h=a(78253),x=a(60481),p=a(48378),b=a(76013),f=a(25062),g=a(3635),j=a(92789),y=a(38206),S=a(23935),v=a(9953),w=a(18341),C=a(58061),E=a(289),N=a(3465),_=a(60665),z=a(97702),T=a(90515),A=a(90993),$=a(28975),k=a(95316),I=a(57478),F=a(98142),L=a(93108),H=a(8989),V=a(78550),M=a(81973),D=a(36600),Z=a(76089);let q=["avg","count","max","min","quantile","sum","histogram"],O=[{value:"1 second",label:"1 second"},{value:Z.Z7.FifteenSecond,label:"15 seconds"},{value:Z.Z7.ThirtySecond,label:"30 seconds"},{value:Z.Z7.OneMinute,label:"1 minute"},{value:Z.Z7.FiveMinute,label:"5 minutes"},{value:Z.Z7.FifteenMinute,label:"15 minutes"},{value:Z.Z7.ThirtyMinute,label:"30 minutes"},{value:Z.Z7.OneHour,label:"1 hour"},{value:Z.Z7.TwoHour,label:"2 hours"},{value:Z.Z7.SixHour,label:"6 hours"},{value:Z.Z7.TwelveHour,label:"12 hours"},{value:Z.Z7.OneDay,label:"1 day"},{value:Z.Z7.TwoDay,label:"2 days"},{value:Z.Z7.SevenDay,label:"7 days"},{value:Z.Z7.ThirtyDay,label:"30 days"}],G=/MATERIALIZED VIEW [^\s]+\.[^\s]+ TO ([^\s]+)\.([^\s]+)/;function B(e){return e.engine?.includes("AggregatingMergeTree")??!1}function R(e){return e.engine?.includes("SummingMergeTree")??!1}async function P({databaseName:e,tableName:t,connectionId:a},n){try{let r=await n.getTableMetadata({databaseName:e,tableName:t,connectionId:a});if(r.engine?.startsWith("MaterializedView")){let e=function(e){let t=e.create_table_query.match(G);if(t&&t[1]&&t[2])return{databaseName:t[1],tableName:t[2]}}(r);if(e){let t=await n.getTableMetadata({...e,connectionId:a});return B(t)||R(t)?{mvMetadata:r,mvTableMetadata:t}:void 0}}else if(B(r)||R(r)){let s=await n.queryMaterializedViewsByTarget({databaseName:e,tableName:t,connectionId:a});if(1===s.length)return{mvMetadata:await n.getTableMetadata({...s[0],connectionId:a}),mvTableMetadata:r};return{mvTableMetadata:r}}}catch(e){console.error("Error fetching materialized view metadata",e)}}function K(e){let t=e.as_select??"",a=t.slice(0,t.toLowerCase().indexOf("from")).replace(/^select/i,"").trim();return(0,Z.AB)(a)}function Y(e,t,a,n){if("count"===e)return"";let r=t.name.split("__")[1];if(a.find(e=>e.name===r))return r;if(n){let e=K(n).find(e=>e.endsWith(t.name)),r=e&&a.find(t=>RegExp(`\\b${t.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`).test(e));if(r)return r.name}return""}async function W(e,t,a){let{databaseName:n,tableName:r,connectionId:s}=e,{databaseName:l,tableName:i}=t;if(!r)return;let c=await P({databaseName:n,tableName:r,connectionId:s},a);if(!c)return;let{mvMetadata:d,mvTableMetadata:m}=c,[u,h]=await Promise.all([a.getColumns({databaseName:m.database,tableName:m.name,connectionId:s}),a.getColumns({databaseName:l,tableName:i,connectionId:s})]),x=u.filter(e=>e.type.includes("AggregateFunction")).map(e=>{let t,a=e.type.match(/AggregateFunction\(([a-zA-Z0-9_]+)/)?.[1];if("sum"===a&&e.name.toLowerCase().includes("count")?a="count":a?.startsWith("quantile")&&(a="quantile"),t=a,!q.includes(t??""))return;let n=Y(a,e,h,d);return{mvColumn:e.name,aggFn:a,sourceColumn:n}}).filter(e=>void 0!=e),p=R(m)?function(e){if(!R(e))return;let t=e.engine_full?.match(/SummingMergeTree\((\(?[^(]*)\)/)?.[1],a=t?.at(0)==="("&&t?.at(-1)===")"?t.slice(1,-1):t;if(a)return new Set((0,Z.AB)(a))}(m):void 0;for(let e of p??[]){let t=e.toLowerCase().includes("count")?"count":"sum",a=u.find(t=>t.name===e);if(a){let n=Y(t,a,h,d);x.push({mvColumn:e,aggFn:t,sourceColumn:n})}}let b=new Set((0,o.bZ)(m.primary_key)),f=(0,o.P1)(u,[o.A2.Date])??[],g=f?.find(e=>b.has(e.name))?.name??"",j="";d&&(j=function(e,t){try{let a=K(e).find(e=>e.match(/toStartOf|toDate/)&&e.includes(t));if(!a)return;for(let[e,t]of Object.entries({toStartOfSecond:"1 second",toStartOfMinute:"1 minute",toStartOfFiveMinutes:"5 minute",toStartOfFifteenMinutes:"15 minute",toStartOfHour:"1 hour",toStartOfDay:"1 day",toDate:"1 day",toDateTime:"1 second"}))if(a?.includes(`${e}(`))return t;if(a.includes("toStartOfInterval(")){let e=a.match(/INTERVAL\s+(\d+)\s+(SECOND|MINUTE|HOUR|DAY)S?\)/i),t=a.match(/toInterval(Second|Minute|Hour|Day)\((\d+)\)/),n=e?`${e[1]} ${e[2].toLowerCase()}`:t?`${t[2]} ${t[1].toLowerCase()}`:null;if(n&&O.map(e=>e.value).includes(n)&&O.map(e=>e.value).includes(n))return n}}catch(e){console.error("Error inferring timestamp column granularity",e)}}(d,g)??"");let y=u.filter(e=>!e.type.includes("AggregateFunction")&&!p?.has(e.name)&&!f.includes(e)).map(e=>e.name).join(", ");return{databaseName:m.database,tableName:m.name,dimensionColumns:y,minGranularity:j,timestampColumn:g,aggregatedColumns:x}}var X=a(24207),U=a(62453),Q=a(66980),J=a(49672);function ee(e){let t,a,s,l,o,i,c,d,m=(0,r.c)(21),{database:u,setDatabase:h,connectionId:x,onBlur:p,name:b,inputRef:f,size:g}=e,j=x??"";m[0]!==j?(t={connectionId:j},m[0]=j,m[1]=t):t=m[1];let S=!!x;m[2]!==S?(a={enabled:S},m[2]=S,m[3]=a):a=m[3];let{data:v,isLoading:w}=(0,J.VH)(t,a);m[4]!==v?.data?(s=v?.data||[],m[4]=v?.data,m[5]=s):s=m[5],m[6]!==s?(l=s.map(et),m[6]=s,m[7]=l):l=m[7];let C=l;return m[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(Q.A,{size:16}),m[8]=o):o=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(i={withinPortal:!1},m[9]=i):i=m[9],m[10]!==h?(c=e=>h(e??void 0),m[10]=h,m[11]=c):c=m[11],m[12]!==C||m[13]!==u||m[14]!==f||m[15]!==w||m[16]!==b||m[17]!==p||m[18]!==g||m[19]!==c?(d=(0,n.jsx)(y.l,{searchable:!0,placeholder:"Database",leftSection:o,maxDropdownHeight:280,data:C,disabled:w,comboboxProps:i,value:u,onChange:c,onBlur:p,name:b,ref:f,size:g}),m[12]=C,m[13]=u,m[14]=f,m[15]=w,m[16]=b,m[17]=p,m[18]=g,m[19]=c,m[20]=d):d=m[20],d}function et(e){return{value:e.name,label:e.name}}function ea(e){let t,a=(0,r.c)(7),{field:s}=(0,l.as)(e);return a[0]!==s.name||a[1]!==s.onBlur||a[2]!==s.onChange||a[3]!==s.ref||a[4]!==s.value||a[5]!==e?(t=(0,n.jsx)(ee,{...e,database:s.value,setDatabase:s.onChange,onBlur:s.onBlur,name:s.name,inputRef:s.ref}),a[0]=s.name,a[1]=s.onBlur,a[2]=s.onChange,a[3]=s.ref,a[4]=s.value,a[5]=e,a[6]=t):t=a[6],t}var en=a(45519),er=a(86761);function es(e){let t,a,s,l,o,i,c,d,m,u,x=(0,r.c)(29),{database:p,setTable:b,table:f,onBlur:g,name:j,size:S,inputRef:v,connectionId:w}=e,C=p??"",E=w??"";x[0]!==C||x[1]!==E?(t={database:C,connectionId:E},x[0]=C,x[1]=E,x[2]=t):t=x[2];let N=!!p&&!!w;x[3]!==N?(a={enabled:N},x[3]=N,x[4]=a):a=x[4];let{data:_,isLoading:z}=(0,J.uI)(t,a);x[5]!==_?.data?(s=_?.data||[],x[5]=_?.data,x[6]=s):s=x[6],x[7]!==s?(l=s.map(el),x[7]=s,x[8]=l):l=x[8];let T=l;x[9]!==w||x[10]!==p||x[11]!==f?(o=w&&p&&f?(0,n.jsx)(er.A,{source:{connection:w,from:{databaseName:p,tableName:f}},variant:"text"}):void 0,x[9]=w,x[10]=p,x[11]=f,x[12]=o):o=x[12],x[13]!==o?(i=(0,I.J)({sourceSchemaPreview:o}),x[13]=o,x[14]=i):i=x[14];let A=i;return x[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(en.A,{size:16}),x[15]=c):c=x[15],x[16]===Symbol.for("react.memo_cache_sentinel")?(d={withinPortal:!1},x[16]=d):d=x[16],x[17]!==b?(m=e=>b(e??void 0),x[17]=b,x[18]=m):m=x[18],x[19]!==T||x[20]!==v||x[21]!==z||x[22]!==j||x[23]!==g||x[24]!==A||x[25]!==S||x[26]!==m||x[27]!==f?(u=(0,n.jsx)(h.s,{align:"center",gap:8,children:(0,n.jsx)(y.l,{searchable:!0,placeholder:"Table",leftSection:c,maxDropdownHeight:280,data:T,disabled:z,value:f,comboboxProps:d,onChange:m,onBlur:g,name:j,ref:v,size:S,className:"flex-grow-1",...A})}),x[19]=T,x[20]=v,x[21]=z,x[22]=j,x[23]=g,x[24]=A,x[25]=S,x[26]=m,x[27]=f,x[28]=u):u=x[28],u}function el(e){return{value:e.name,label:e.name}}function eo(e){let t,a,s,o,i=(0,r.c)(13);i[0]!==e?({database:a,connectionId:t,...s}=e,i[0]=e,i[1]=t,i[2]=a,i[3]=s):(t=i[1],a=i[2],s=i[3]);let{field:c}=(0,l.as)(s);return i[4]!==t||i[5]!==a||i[6]!==c.name||i[7]!==c.onBlur||i[8]!==c.onChange||i[9]!==c.ref||i[10]!==c.value||i[11]!==s?(o=(0,n.jsx)(es,{...s,database:a,connectionId:t,table:c.value,setTable:c.onChange,onBlur:c.onBlur,name:c.name,inputRef:c.ref}),i[4]=t,i[5]=a,i[6]=c.name,i[7]=c.onBlur,i[8]=c.onChange,i[9]=c.ref,i[10]=c.value,i[11]=s,i[12]=o):o=i[12],o}var ei=a(24589),ec=a(22599),ed=a(70114),em=a(18205);function eu(e){let t,a,l,o,i,c,d,m,u=(0,r.c)(16),{summary:h,details:x}=e,[p,b]=(0,s.useState)(!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>b(eh),u[0]=t):t=u[0];let g=p?"rotate(90deg)":"rotate(0deg)";return u[1]!==g?(a=(0,n.jsx)(ed.A,{size:14,style:{transform:g,transition:"transform 150ms ease"}}),u[1]=g,u[2]=a):a=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(em.A,{size:14,className:"me-2"}),u[3]=l):l=u[3],u[4]!==h||u[5]!==a?(o=(0,n.jsxs)(f.$,{variant:"subtle",size:"compact-xs",color:"red",onClick:t,leftSection:a,children:[l," ",h]}),u[4]=h,u[5]=a,u[6]=o):o=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i={whiteSpace:"pre-wrap",wordBreak:"break-word"},u[7]=i):i=u[7],u[8]!==x?(c=(0,n.jsx)(ei.C,{block:!0,c:"red",mt:"xs",style:i,children:x}),u[8]=x,u[9]=c):c=u[9],u[10]!==p||u[11]!==c?(d=(0,n.jsx)(ec.S,{in:p,children:c}),u[10]=p,u[11]=c,u[12]=d):d=u[12],u[13]!==o||u[14]!==d?(m=(0,n.jsxs)(n.Fragment,{children:[o,d]}),u[13]=o,u[14]=d,u[15]=m):m=u[15],m}function eh(e){return!e}var ex=a(71781),ep=a(9211),eb=a(64467);let ef="default",eg=q.map(e=>({value:e,label:e})),ej={timestampValueExpression:"TimeUnix",resourceAttributesExpression:"ResourceAttributes"},ey={[i.GL.Log]:{metricSourceId:[{targetKind:i.GL.Metric,targetField:"logSourceId"}],traceSourceId:[{targetKind:i.GL.Trace,targetField:"logSourceId"}]},[i.GL.Trace]:{logSourceId:[{targetKind:i.GL.Log,targetField:"traceSourceId"}],sessionSourceId:[{targetKind:i.GL.Session,targetField:"traceSourceId"}],metricSourceId:[{targetKind:i.GL.Metric,targetField:"logSourceId"}]},[i.GL.Session]:{traceSourceId:[{targetKind:i.GL.Trace,targetField:"sessionSourceId"}]},[i.GL.Metric]:{logSourceId:[{targetKind:i.GL.Log,targetField:"metricSourceId"}]}};function eS(e){let t,a,s,l,o,i,p,b,f,g,j,y=(0,r.c)(22),{label:S,children:v,helpText:w}=e;return y[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:220,minWidth:220,height:"36px"},y[0]=t):t=y[0],y[1]!==S?(a="string"==typeof S?(0,n.jsx)(c.E,{tt:"capitalize",size:"sm",children:S}):S,y[1]=S,y[2]=a):a=y[2],y[3]!==a?(s=(0,n.jsx)(d.B,{justify:"center",style:t,children:a}),y[3]=a,y[4]=s):s=y[4],y[5]!==w?(l={...!w?{opacity:0,pointerEvents:"none"}:{}},y[5]=w,y[6]=l):l=y[6],y[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(z.A,{size:20,className:"cursor-pointer"}),y[7]=o):o=y[7],y[8]!==w?(i=(0,n.jsx)(m.m,{label:w,color:"dark",c:"white",multiline:!0,maw:600,children:o}),y[8]=w,y[9]=i):i=y[9],y[10]!==l||y[11]!==i?(p=(0,n.jsx)(u.o,{me:"sm",ms:"sm",style:l,children:i}),y[10]=l,y[11]=i,y[12]=p):p=y[12],y[13]!==s||y[14]!==p?(b=(0,n.jsxs)(h.s,{align:"center",children:[s,p]}),y[13]=s,y[14]=p,y[15]=b):b=y[15],y[16]===Symbol.for("react.memo_cache_sentinel")?(f={minWidth:0},y[16]=f):f=y[16],y[17]!==v?(g=(0,n.jsx)(x.a,{w:"100%",style:f,children:v}),y[17]=v,y[18]=g):g=y[18],y[19]!==g||y[20]!==b?(j=(0,n.jsxs)(h.s,{align:"flex-start",children:[b,g]}),y[19]=g,y[20]=b,y[21]=j):j=y[21],j}function ev(e){let t,a,i,d,u,x,f,g,j,y,S,v,w,C,_,$,k,I,F,L,V,M,D,Z,q,O,G=(0,r.c)(75),{id:B,index:R,control:P,databaseName:K,name:Y,tableName:W,connectionId:X,removeHighlightedAttribute:U}=e,Q=`${Y}.${R}.sqlExpression`;G[0]!==P||G[1]!==Q?(t={control:P,name:Q},G[0]=P,G[1]=Q,G[2]=t):t=G[2];let J=(0,l.FH)(t),ee=`${Y}.${R}.alias`;G[3]!==P||G[4]!==ee?(a={control:P,name:ee},G[3]=P,G[4]=ee,G[5]=a):a=G[5];let et=(0,l.FH)(a),[ea,en]=(0,s.useState)();G[6]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{en(e)},G[6]=i):i=G[6];let er=(0,E.Y)(i,1e3);G[7]!==et||G[8]!==J||G[9]!==er?(d=()=>{er({expression:J,alias:et})},G[7]=et,G[8]=J,G[9]=er,G[10]=d):d=G[10],G[11]!==et||G[12]!==J?(u=[J,et],G[11]=et,G[12]=J,G[13]=u):u=G[13],(0,N.C)(d,u),G[14]!==K||G[15]!==W?(x={databaseName:K,tableName:W},G[14]=K,G[15]=W,G[16]=x):x=G[16];let es=ea?.alias,el=ea?.expression??"";G[17]!==el||G[18]!==es?(f=[{alias:es,valueExpression:el}],G[17]=el,G[18]=es,G[19]=f):f=G[19],G[20]!==X||G[21]!==f||G[22]!==x?(g={from:x,connection:X,select:f,where:""},G[20]=X,G[21]=f,G[22]=x,G[23]=g):g=G[23];let eo=!!ea?.expression;G[24]!==eo?(j={enabled:eo},G[24]=eo,G[25]=j):j=G[25];let{data:ei,error:ec,isLoading:ed}=(0,H.R)(g,j);G[26]!==et||G[27]!==J?(y=()=>{en({expression:J,alias:et})},G[26]=et,G[27]=J,G[28]=y):y=G[28];let em=y,eh=!!ei?.length,ep=ec instanceof o.p1,ef=ea?.expression===J&&ea?.alias===et&&(eh||ep);G[29]===Symbol.for("react.memo_cache_sentinel")?(S={display:"contents"},G[29]=S):S=G[29];let eg=`${Y}.${R}.sqlExpression`;G[30]!==X||G[31]!==K||G[32]!==W?(v={databaseName:K,tableName:W,connectionId:X},G[30]=X,G[31]=K,G[32]=W,G[33]=v):v=G[33];let ej=`${Y}.${R}.sqlExpression`;G[34]!==P||G[35]!==v||G[36]!==ej?(w=(0,n.jsx)(eb.Z,{tableConnection:v,control:P,name:ej,disableKeywordAutocomplete:!0,placeholder:"ResourceAttributes['http.host']"}),G[34]=P,G[35]=v,G[36]=ej,G[37]=w):w=G[37],G[38]!==eg||G[39]!==w?(C=(0,n.jsx)(p.x.Col,{span:3,pe:0,children:(0,n.jsx)("div",{style:S,"data-name":eg,children:w})}),G[38]=eg,G[39]=w,G[40]=C):C=G[40],G[41]===Symbol.for("react.memo_cache_sentinel")?(_=(0,n.jsx)(c.E,{c:"gray",children:"AS"}),G[41]=_):_=G[41];let ey=`${Y}.${R}.alias`;G[42]!==P||G[43]!==ey?($=(0,n.jsx)(eb.Z,{control:P,name:ey,placeholder:"Optional Alias",disableKeywordAutocomplete:!0}),G[42]=P,G[43]=ey,G[44]=$):$=G[44];let eS=!J||ed;G[45]===Symbol.for("react.memo_cache_sentinel")?(k=(0,n.jsx)(T.A,{size:16}),G[45]=k):k=G[45],G[46]!==ed||G[47]!==em||G[48]!==eS?(I=(0,n.jsx)(m.m,{label:"Validate expression",children:(0,n.jsx)(b.M,{size:"xs",variant:"subtle",color:"gray",loading:ed,disabled:eS,onClick:em,children:k})}),G[46]=ed,G[47]=em,G[48]=eS,G[49]=I):I=G[49],G[50]!==R||G[51]!==U?(F=()=>U(R),G[50]=R,G[51]=U,G[52]=F):F=G[52],G[53]===Symbol.for("react.memo_cache_sentinel")?(L=(0,n.jsx)(A.A,{size:16}),G[53]=L):L=G[53],G[54]!==F?(V=(0,n.jsx)(b.M,{size:"xs",variant:"subtle",color:"gray",onClick:F,children:L}),G[54]=F,G[55]=V):V=G[55],G[56]!==$||G[57]!==I||G[58]!==V?(M=(0,n.jsx)(p.x.Col,{span:2,ps:"xs",children:(0,n.jsxs)(h.s,{align:"center",gap:"sm",children:[_,$,I,V]})}),G[56]=$,G[57]=I,G[58]=V,G[59]=M):M=G[59],G[60]!==ec?.message||G[61]!==ep||G[62]!==eh||G[63]!==ef?(D=ef&&(0,n.jsxs)(p.x.Col,{span:5,pe:0,pt:0,children:[eh&&(0,n.jsx)(c.E,{c:"green",size:"xs",children:"Expression is valid."}),ep&&(0,n.jsx)(eu,{summary:"Expression is invalid",details:ec?.message})]}),G[60]=ec?.message,G[61]=ep,G[62]=eh,G[63]=ef,G[64]=D):D=G[64];let ev=`${Y}.${R}.luceneExpression`;return G[65]!==P||G[66]!==ev?(Z=(0,n.jsx)(p.x.Col,{span:3,pe:0,children:(0,n.jsx)(ex.t4,{control:P,name:ev,placeholder:"ResourceAttributes.http.host (Optional) "})}),G[65]=P,G[66]=ev,G[67]=Z):Z=G[67],G[68]===Symbol.for("react.memo_cache_sentinel")?(q=(0,n.jsx)(p.x.Col,{span:1,pe:0,children:(0,n.jsx)(c.E,{me:"sm",mt:6,children:(0,n.jsx)(m.m,{label:"An optional, Lucene version of the above expression. If provided, it is used when searching for this attribute value.",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer"})})})}),G[68]=q):q=G[68],G[69]!==B||G[70]!==C||G[71]!==M||G[72]!==D||G[73]!==Z?(O=(0,n.jsxs)(s.Fragment,{children:[C,M,D,Z,q]},B),G[69]=B,G[70]=C,G[71]=M,G[72]=D,G[73]=Z,G[74]=O):O=G[74],O}function ew(e){let t,a,s,o,i,c,d,m,u,h,x=(0,r.c)(37),{control:b,name:g,label:j,helpText:y}=e;x[0]!==b?(t={control:b,name:"from.databaseName",defaultValue:ef},x[0]=b,x[1]=t):t=x[1];let S=(0,l.FH)(t);x[2]!==b?(a={control:b,name:"from.tableName"},x[2]=b,x[3]=a):a=x[3];let v=(0,l.FH)(a);x[4]!==b?(s={control:b,name:"connection"},x[4]=b,x[5]=s):s=x[5];let w=(0,l.FH)(s);x[6]!==b||x[7]!==g?(o={control:b,name:g},x[6]=b,x[7]=g,x[8]=o):o=x[8];let{fields:C,append:E,remove:N}=(0,l.jz)(o);if(x[9]!==w||x[10]!==b||x[11]!==S||x[12]!==C||x[13]!==g||x[14]!==N||x[15]!==v){let e;x[17]!==w||x[18]!==b||x[19]!==S||x[20]!==g||x[21]!==N||x[22]!==v?(e=(e,t)=>{let{id:a}=e;return(0,n.jsx)(ev,{id:a,index:t,name:g,control:b,databaseName:S,tableName:v,connectionId:w,removeHighlightedAttribute:N},a)},x[17]=w,x[18]=b,x[19]=S,x[20]=g,x[21]=N,x[22]=v,x[23]=e):e=x[23],i=C.map(e),x[9]=w,x[10]=b,x[11]=S,x[12]=C,x[13]=g,x[14]=N,x[15]=v,x[16]=i}else i=x[16];x[24]!==i?(c=(0,n.jsx)(p.x,{columns:5,children:i}),x[24]=i,x[25]=c):c=x[25];let _=C.length?"sm":"md";return x[26]!==E?(d=()=>{E({sqlExpression:"",luceneExpression:"",alias:""},{shouldFocus:!1})},x[26]=E,x[27]=d):d=x[27],x[28]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)($.A,{size:14,className:"me-2"}),x[28]=m):m=x[28],x[29]!==_||x[30]!==d?(u=(0,n.jsxs)(f.$,{variant:"secondary",size:"sm",className:"align-self-start",mt:_,onClick:d,children:[m,"Add expression"]}),x[29]=_,x[30]=d,x[31]=u):u=x[31],x[32]!==y||x[33]!==j||x[34]!==u||x[35]!==c?(h=(0,n.jsxs)(eS,{label:j,helpText:y,children:[c,u]}),x[32]=y,x[33]=j,x[34]=u,x[35]=c,x[36]=h):h=x[36],h}function eC(e){let t,a,s,o,i,c,m,u=(0,r.c)(22),{control:h,setValue:x}=e;u[0]!==h?(t={control:h,name:"from.databaseName",defaultValue:ef},u[0]=h,u[1]=t):t=u[1];let p=(0,l.FH)(t);u[2]!==h?(a={control:h,name:"materializedViews"},u[2]=h,u[3]=a):a=u[3];let{fields:b,append:j,remove:y}=(0,l.jz)(a);if(u[4]!==h||u[5]!==b||u[6]!==y||u[7]!==x){let e;u[9]!==h||u[10]!==y||u[11]!==x?(e=(e,t)=>(0,n.jsx)(eE,{control:h,mvIndex:t,setValue:x,onRemove:()=>y(t)},e.id),u[9]=h,u[10]=y,u[11]=x,u[12]=e):e=u[12],s=b.map(e),u[4]=h,u[5]=b,u[6]=y,u[7]=x,u[8]=s}else s=u[8];return u[13]!==j||u[14]!==p?(o=()=>{j({databaseName:p,tableName:"",dimensionColumns:"",minGranularity:"",timestampColumn:"",aggregatedColumns:[]})},u[13]=j,u[14]=p,u[15]=o):o=u[15],u[16]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsxs)(g.Y,{children:[(0,n.jsx)($.A,{size:16}),"Add Materialized View"]}),u[16]=i):i=u[16],u[17]!==o?(c=(0,n.jsx)(f.$,{variant:"secondary",onClick:o,children:i}),u[17]=o,u[18]=c):c=u[18],u[19]!==s||u[20]!==c?(m=(0,n.jsx)(d.B,{gap:"md",children:(0,n.jsx)(eS,{label:"Materialized Views",helpText:"Configure materialized views for query optimization. These pre-aggregated views can significantly improve query performance on aggregation queries.",children:(0,n.jsxs)(d.B,{gap:"md",children:[s,c]})})}),u[19]=s,u[20]=c,u[21]=m):m=u[21],m}function eE(e){let t,a,s,o,i,u,h,f,y,S,v,w,C,E,N,_,T,$,k,I,F,L,H,V,M,Z=(0,r.c)(72),{control:q,mvIndex:O,onRemove:G,setValue:B}=e,R=(0,D.Kh)();Z[0]!==q?(t={control:q,name:"connection"},Z[0]=q,Z[1]=t):t=Z[1];let P=(0,l.FH)(t);Z[2]!==q?(a={control:q,name:"from.databaseName",defaultValue:ef},Z[2]=q,Z[3]=a):a=Z[3];let K=(0,l.FH)(a),Y=`materializedViews.${O}.databaseName`;Z[4]!==q||Z[5]!==K||Z[6]!==Y?(s={control:q,name:Y,defaultValue:K},Z[4]=q,Z[5]=K,Z[6]=Y,Z[7]=s):s=Z[7];let W=(0,l.FH)(s),X=`materializedViews.${O}.tableName`;Z[8]!==q||Z[9]!==X?(o={control:q,name:X,defaultValue:""},Z[8]=q,Z[9]=X,Z[10]=o):o=Z[10];let U=(0,l.FH)(o),Q=`materializedViews.${O}.databaseName`;Z[11]!==P||Z[12]!==q||Z[13]!==Q?(i=(0,n.jsx)(p.x.Col,{span:1,children:(0,n.jsx)(ea,{control:q,name:Q,connectionId:P})}),Z[11]=P,Z[12]=q,Z[13]=Q,Z[14]=i):i=Z[14];let J=`materializedViews.${O}.tableName`;Z[15]!==P||Z[16]!==q||Z[17]!==W||Z[18]!==J?(u=(0,n.jsx)(x.a,{flex:1,children:(0,n.jsx)(eo,{database:W,control:q,name:J,connectionId:P})}),Z[15]=P,Z[16]=q,Z[17]=W,Z[18]=J,Z[19]=u):u=Z[19],Z[20]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(A.A,{size:16}),Z[20]=h):h=Z[20],Z[21]!==G?(f=(0,n.jsx)(b.M,{size:"sm",onClick:G,children:h}),Z[21]=G,Z[22]=f):f=Z[22],Z[23]!==u||Z[24]!==f?(y=(0,n.jsx)(p.x.Col,{span:1,children:(0,n.jsxs)(g.Y,{children:[u,f]})}),Z[23]=u,Z[24]=f,Z[25]=y):y=Z[25],Z[26]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(c.E,{size:"xs",fw:500,mb:4,children:"Timestamp Column"}),Z[26]=S):S=Z[26],Z[27]!==P||Z[28]!==W||Z[29]!==U?(v={databaseName:W,tableName:U,connectionId:P},Z[27]=P,Z[28]=W,Z[29]=U,Z[30]=v):v=Z[30];let ee=`materializedViews.${O}.timestampColumn`;Z[31]!==q||Z[32]!==v||Z[33]!==ee?(w=(0,n.jsxs)(p.x.Col,{span:2,children:[S,(0,n.jsx)(eb.Z,{tableConnection:v,control:q,placeholder:"Timestamp",name:ee,disableKeywordAutocomplete:!0})]}),Z[31]=q,Z[32]=v,Z[33]=ee,Z[34]=w):w=Z[34],Z[35]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Granularity",(0,n.jsx)(m.m,{label:"The granularity of the timestamp column",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),Z[35]=C):C=Z[35];let et=`materializedViews.${O}.minGranularity`;Z[36]!==q||Z[37]!==et?(E=(0,n.jsxs)(p.x.Col,{span:1,children:[C,(0,n.jsx)(l.xI,{control:q,name:et,render:e_})]}),Z[36]=q,Z[37]=et,Z[38]=E):E=Z[38];let en=`(Optional) The earliest date and time (in the local timezone) for which the materialized view contains data. If not provided, then ${R} will assume that the materialized view contains data for all dates for which the source table contains data.`;Z[39]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"}),Z[39]=N):N=Z[39],Z[40]!==en?(_=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Minimum Date",(0,n.jsx)(m.m,{label:en,color:"dark",c:"white",multiline:!0,maw:600,children:N})]}),Z[40]=en,Z[41]=_):_=Z[41];let er=`materializedViews.${O}.minDate`;Z[42]!==q||Z[43]!==er?(T=(0,n.jsx)(l.xI,{control:q,name:er,render:eN}),Z[42]=q,Z[43]=er,Z[44]=T):T=Z[44],Z[45]!==_||Z[46]!==T?($=(0,n.jsxs)(p.x.Col,{span:1,children:[_,T]}),Z[45]=_,Z[46]=T,Z[47]=$):$=Z[47],Z[48]!==y||Z[49]!==w||Z[50]!==E||Z[51]!==$||Z[52]!==i?(k=(0,n.jsxs)(p.x,{columns:2,flex:1,children:[i,y,w,E,$]}),Z[48]=y,Z[49]=w,Z[50]=E,Z[51]=$,Z[52]=i,Z[53]=k):k=Z[53],Z[54]===Symbol.for("react.memo_cache_sentinel")?(I=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Dimension Columns (comma-separated)",(0,n.jsx)(m.m,{label:"Columns which are not pre-aggregated in the materialized view and can be used for filtering and grouping.",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),Z[54]=I):I=Z[54],Z[55]!==P||Z[56]!==W||Z[57]!==U?(F={databaseName:W,tableName:U,connectionId:P},Z[55]=P,Z[56]=W,Z[57]=U,Z[58]=F):F=Z[58];let es=`materializedViews.${O}.dimensionColumns`;return Z[59]!==q||Z[60]!==F||Z[61]!==es?(L=(0,n.jsxs)(x.a,{children:[I,(0,n.jsx)(eb.Z,{tableConnection:F,control:q,name:es,placeholder:"ServiceName, StatusCode",disableKeywordAutocomplete:!0})]}),Z[59]=q,Z[60]=F,Z[61]=es,Z[62]=L):L=Z[62],Z[63]!==q||Z[64]!==O||Z[65]!==B?(H=(0,n.jsx)(ez,{control:q,mvIndex:O,setValue:B}),Z[63]=q,Z[64]=O,Z[65]=B,Z[66]=H):H=Z[66],Z[67]===Symbol.for("react.memo_cache_sentinel")?(V=(0,n.jsx)(j.c,{}),Z[67]=V):V=Z[67],Z[68]!==k||Z[69]!==L||Z[70]!==H?(M=(0,n.jsxs)(d.B,{gap:"sm",children:[k,L,H,V]}),Z[68]=k,Z[69]=L,Z[70]=H,Z[71]=M):M=Z[71],M}function eN(e){let{field:t}=e;return(0,n.jsx)(C.J,{...t,value:t.value?new Date(t.value):void 0,onChange:e=>t.onChange(e?e.toISOString():null),clearable:!0,highlightToday:!0,placeholder:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss"})}function e_(e){let{field:t}=e;return(0,n.jsx)(y.l,{...t,data:O,placeholder:"Granularity",size:"sm"})}function ez({control:e,setValue:t,mvIndex:a}){let{fields:r,append:o,remove:d,replace:u}=(0,l.jz)({control:e,name:`materializedViews.${a}.aggregatedColumns`}),h=(0,s.useCallback)(()=>{o({sourceColumn:"",aggFn:"avg",mvColumn:""})},[o]),b=(0,l.FH)({control:e,name:"kind"}),j=(0,l.FH)({control:e,name:"connection"}),y=(0,l.FH)({control:e,name:`materializedViews.${a}.tableName`}),S=(0,l.FH)({control:e,name:`materializedViews.${a}.databaseName`}),v=(0,l.FH)({control:e,name:"from.databaseName"}),w=(0,l.FH)({control:e,name:"from.tableName"}),C=(0,s.useRef)(y),E=(0,V.Ge)();return(0,s.useEffect)(()=>{(async()=>{try{if(y!==C.current&&(C.current=y,(b===i.GL.Log||b===i.GL.Trace)&&j&&S&&y&&v&&w)){let e=await W({databaseName:S,tableName:y,connectionId:j},{databaseName:v,tableName:w,connectionId:j},E);e?(t(`materializedViews.${a}`,e),u(e.aggregatedColumns??[]),_.$e.show({color:"green",id:"mv-infer-success",message:"Partially inferred materialized view configuration from view schema."})):_.$e.show({color:"yellow",id:"mv-infer-failure",message:"Unable to infer materialized view configuration."})}}catch(e){console.error(e)}})()},[y,b,j,S,v,w,a,u,t,E]),(0,n.jsxs)(x.a,{children:[(0,n.jsxs)(c.E,{size:"xs",mb:4,children:["Pre-aggregated Columns",(0,n.jsx)(m.m,{label:"Columns which are pre-aggregated by the materialized view",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),(0,n.jsx)(p.x,{columns:10,children:r.map((r,s)=>(0,n.jsx)(eT,{setValue:t,control:e,mvIndex:a,colIndex:s,onRemove:()=>d(s)},r.id))}),(0,n.jsx)(f.$,{size:"sm",variant:"secondary",onClick:h,mt:"lg",children:(0,n.jsxs)(g.Y,{children:[(0,n.jsx)($.A,{size:16}),"Add Column"]})})]})}function eT(e){let t,a,s,o,i,c,d,m,u,h,f,j,y,S,v,w=(0,r.c)(48),{control:C,mvIndex:E,colIndex:N,onRemove:_}=e;w[0]!==C?(t={control:C,name:"connection"},w[0]=C,w[1]=t):t=w[1];let z=(0,l.FH)(t);w[2]!==C?(a={control:C,name:"from.databaseName",defaultValue:ef},w[2]=C,w[3]=a):a=w[3];let T=(0,l.FH)(a);w[4]!==C?(s={control:C,name:"from.tableName"},w[4]=C,w[5]=s):s=w[5];let $=(0,l.FH)(s),k=`materializedViews.${E}.databaseName`;w[6]!==C||w[7]!==T||w[8]!==k?(o={control:C,name:k,defaultValue:T},w[6]=C,w[7]=T,w[8]=k,w[9]=o):o=w[9];let I=(0,l.FH)(o),F=`materializedViews.${E}.tableName`;w[10]!==C||w[11]!==F?(i={control:C,name:F},w[10]=C,w[11]=F,w[12]=i):i=w[12];let L=(0,l.FH)(i),H=`materializedViews.${E}.aggregatedColumns.${N}.aggFn`;w[13]!==C||w[14]!==H?(c={control:C,name:H},w[13]=C,w[14]=H,w[15]=c):c=w[15];let V="count"===(0,l.FH)(c),M=`materializedViews.${E}.aggregatedColumns.${N}.aggFn`;w[16]!==C||w[17]!==M?(d=(0,n.jsx)(p.x.Col,{span:2,children:(0,n.jsx)(ep.A,{control:C,name:M,data:eg,size:"sm"})}),w[16]=C,w[17]=M,w[18]=d):d=w[18],w[19]!==N||w[20]!==z||w[21]!==C||w[22]!==V||w[23]!==E||w[24]!==T||w[25]!==$?(m=!V&&(0,n.jsx)(p.x.Col,{span:4,children:(0,n.jsx)(eb.Z,{tableConnection:{databaseName:T,tableName:$,connectionId:z},control:C,name:`materializedViews.${E}.aggregatedColumns.${N}.sourceColumn`,placeholder:"Source Column",disableKeywordAutocomplete:!0})}),w[19]=N,w[20]=z,w[21]=C,w[22]=V,w[23]=E,w[24]=T,w[25]=$,w[26]=m):m=w[26];let D=V?8:4;w[27]!==z||w[28]!==I||w[29]!==L?(u={databaseName:I,tableName:L,connectionId:z},w[27]=z,w[28]=I,w[29]=L,w[30]=u):u=w[30];let Z=`materializedViews.${E}.aggregatedColumns.${N}.mvColumn`;return w[31]!==C||w[32]!==u||w[33]!==Z?(h=(0,n.jsx)(x.a,{flex:1,children:(0,n.jsx)(eb.Z,{tableConnection:u,control:C,name:Z,placeholder:"View Column",disableKeywordAutocomplete:!0})}),w[31]=C,w[32]=u,w[33]=Z,w[34]=h):h=w[34],w[35]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(A.A,{size:16}),w[35]=f):f=w[35],w[36]!==_?(j=(0,n.jsx)(b.M,{size:"sm",onClick:_,children:f}),w[36]=_,w[37]=j):j=w[37],w[38]!==h||w[39]!==j?(y=(0,n.jsxs)(g.Y,{wrap:"nowrap",children:[h,j]}),w[38]=h,w[39]=j,w[40]=y):y=w[40],w[41]!==D||w[42]!==y?(S=(0,n.jsx)(p.x.Col,{span:D,children:y}),w[41]=D,w[42]=y,w[43]=S):S=w[43],w[44]!==d||w[45]!==m||w[46]!==S?(v=(0,n.jsxs)(n.Fragment,{children:[d,m,S]}),w[44]=d,w[45]=m,w[46]=S,w[47]=v):v=w[47],v}function eA(e){let t,a,o,i,c,m,u,h,p,b,y,v,w,C,E,N,_,z,T,A,$,F,L,H,V,M,Z,q,O,G,B,R,P,K,Y,W,X,U,Q,J,ee,et,ea,en,er=(0,r.c)(135),{control:es}=e,el=(0,D.Kh)();er[0]!==es?(t={control:es,name:"from.databaseName",defaultValue:ef},er[0]=es,er[1]=t):t=er[1];let eo=(0,l.FH)(t);er[2]!==es?(a={control:es,name:"from.tableName"},er[2]=es,er[3]=a):a=er[3];let ei=(0,l.FH)(a);er[4]!==es?(o={control:es,name:"connection"},er[4]=es,er[5]=o):o=er[5];let ec=(0,l.FH)(o),[ed,em]=(0,s.useState)(!1);er[6]!==ec||er[7]!==eo||er[8]!==ei?(i={databaseName:eo,tableName:ei,connectionId:ec},er[6]=ec,er[7]=eo,er[8]=ei,er[9]=i):i=er[9],er[10]!==es||er[11]!==i?(c=(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression that is part of your table's primary key.",children:(0,n.jsx)(eb.Z,{tableConnection:i,control:es,name:"timestampValueExpression",disableKeywordAutocomplete:!0})}),er[10]=es,er[11]=i,er[12]=c):c=er[12],er[13]!==ec||er[14]!==eo||er[15]!==ei?(m={databaseName:eo,tableName:ei,connectionId:ec},er[13]=ec,er[14]=eo,er[15]=ei,er[16]=m):m=er[16],er[17]!==es||er[18]!==m?(u=(0,n.jsx)(eS,{label:"Default Select",helpText:"Default columns selected in search results (this can be customized per search later)",children:(0,n.jsx)(eb.Z,{tableConnection:m,control:es,name:"defaultTableSelectExpression",placeholder:"Timestamp, Body"})}),er[17]=es,er[18]=m,er[19]=u):u=er[19],er[20]!==ed?(h=!ed&&(0,n.jsx)(S.M,{underline:"always",onClick:()=>em(!0),size:"xs",children:(0,n.jsxs)(g.Y,{gap:"xs",children:[(0,n.jsx)(k.A,{size:14}),"Configure Optional Fields"]})}),er[20]=ed,er[21]=h):h=er[21],er[22]!==ed?(p=ed&&(0,n.jsx)(f.$,{onClick:()=>em(!1),size:"xs",variant:"subtle",children:"Hide Optional Fields"}),er[22]=ed,er[23]=p):p=er[23],er[24]!==h||er[25]!==p?(b=(0,n.jsxs)(x.a,{children:[h,p]}),er[24]=h,er[25]=p,er[26]=b):b=er[26],er[27]!==c||er[28]!==u||er[29]!==b?(y=(0,n.jsxs)(d.B,{gap:"sm",children:[c,u,b]}),er[27]=c,er[28]=u,er[29]=b,er[30]=y):y=er[30];let eu=ed?"flex":"none";er[31]!==eu?(v={display:eu},er[31]=eu,er[32]=v):v=er[32],er[33]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)(j.c,{}),er[33]=w):w=er[33],er[34]!==ec||er[35]!==eo||er[36]!==ei?(C={databaseName:eo,tableName:ei,connectionId:ec},er[34]=ec,er[35]=eo,er[36]=ei,er[37]=C):C=er[37],er[38]!==es||er[39]!==C?(E=(0,n.jsx)(eS,{label:"Service Name Expression",children:(0,n.jsx)(eb.Z,{tableConnection:C,control:es,name:"serviceNameExpression",placeholder:"ServiceName"})}),er[38]=es,er[39]=C,er[40]=E):E=er[40],er[41]!==ec||er[42]!==eo||er[43]!==ei?(N={databaseName:eo,tableName:ei,connectionId:ec},er[41]=ec,er[42]=eo,er[43]=ei,er[44]=N):N=er[44],er[45]!==es||er[46]!==N?(_=(0,n.jsx)(eS,{label:"Log Level Expression",children:(0,n.jsx)(eb.Z,{tableConnection:N,control:es,name:"severityTextExpression",placeholder:"SeverityText"})}),er[45]=es,er[46]=N,er[47]=_):_=er[47],er[48]!==ec||er[49]!==eo||er[50]!==ei?(z={databaseName:eo,tableName:ei,connectionId:ec},er[48]=ec,er[49]=eo,er[50]=ei,er[51]=z):z=er[51],er[52]!==es||er[53]!==z?(T=(0,n.jsx)(eS,{label:"Body Expression",children:(0,n.jsx)(eb.Z,{tableConnection:z,control:es,name:"bodyExpression",placeholder:"Body"})}),er[52]=es,er[53]=z,er[54]=T):T=er[54],er[55]!==ec||er[56]!==eo||er[57]!==ei?(A={databaseName:eo,tableName:ei,connectionId:ec},er[55]=ec,er[56]=eo,er[57]=ei,er[58]=A):A=er[58],er[59]!==es||er[60]!==A?($=(0,n.jsx)(eS,{label:"Log Attributes Expression",children:(0,n.jsx)(eb.Z,{tableConnection:A,control:es,name:"eventAttributesExpression",placeholder:"LogAttributes"})}),er[59]=es,er[60]=A,er[61]=$):$=er[61],er[62]!==ec||er[63]!==eo||er[64]!==ei?(F={databaseName:eo,tableName:ei,connectionId:ec},er[62]=ec,er[63]=eo,er[64]=ei,er[65]=F):F=er[65],er[66]!==es||er[67]!==F?(L=(0,n.jsx)(eS,{label:"Resource Attributes Expression",children:(0,n.jsx)(eb.Z,{tableConnection:F,control:es,name:"resourceAttributesExpression",placeholder:"ResourceAttributes"})}),er[66]=es,er[67]=F,er[68]=L):L=er[68],er[69]!==ec||er[70]!==eo||er[71]!==ei?(H={databaseName:eo,tableName:ei,connectionId:ec},er[69]=ec,er[70]=eo,er[71]=ei,er[72]=H):H=er[72],er[73]!==es||er[74]!==H?(V=(0,n.jsx)(eS,{label:"Displayed Timestamp Column",helpText:"This DateTime column is used to display and order search results.",children:(0,n.jsx)(eb.Z,{tableConnection:H,control:es,name:"displayedTimestampValueExpression",disableKeywordAutocomplete:!0})}),er[73]=es,er[74]=H,er[75]=V):V=er[75],er[76]===Symbol.for("react.memo_cache_sentinel")?(M=(0,n.jsx)(j.c,{}),er[76]=M):M=er[76];let eh=`${el} Source for metrics associated with logs. Optional`;er[77]!==es?(Z=(0,n.jsx)(I.W,{control:es,name:"metricSourceId"}),er[77]=es,er[78]=Z):Z=er[78],er[79]!==eh||er[80]!==Z?(q=(0,n.jsx)(eS,{label:"Correlated Metric Source",helpText:eh,children:Z}),er[79]=eh,er[80]=Z,er[81]=q):q=er[81];let ex=`${el} Source for traces associated with logs. Optional`;return er[82]!==es?(O=(0,n.jsx)(I.W,{control:es,name:"traceSourceId"}),er[82]=es,er[83]=O):O=er[83],er[84]!==ex||er[85]!==O?(G=(0,n.jsx)(eS,{label:"Correlated Trace Source",helpText:ex,children:O}),er[84]=ex,er[85]=O,er[86]=G):G=er[86],er[87]!==ec||er[88]!==eo||er[89]!==ei?(B={databaseName:eo,tableName:ei,connectionId:ec},er[87]=ec,er[88]=eo,er[89]=ei,er[90]=B):B=er[90],er[91]!==es||er[92]!==B?(R=(0,n.jsx)(eS,{label:"Trace Id Expression",children:(0,n.jsx)(eb.Z,{tableConnection:B,control:es,name:"traceIdExpression",placeholder:"TraceId"})}),er[91]=es,er[92]=B,er[93]=R):R=er[93],er[94]!==ec||er[95]!==eo||er[96]!==ei?(P={databaseName:eo,tableName:ei,connectionId:ec},er[94]=ec,er[95]=eo,er[96]=ei,er[97]=P):P=er[97],er[98]!==es||er[99]!==P?(K=(0,n.jsx)(eS,{label:"Span Id Expression",children:(0,n.jsx)(eb.Z,{tableConnection:P,control:es,name:"spanIdExpression",placeholder:"SpanId"})}),er[98]=es,er[99]=P,er[100]=K):K=er[100],er[101]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,n.jsx)(j.c,{}),er[101]=Y):Y=er[101],er[102]!==ec||er[103]!==eo||er[104]!==ei?(W={databaseName:eo,tableName:ei,connectionId:ec},er[102]=ec,er[103]=eo,er[104]=ei,er[105]=W):W=er[105],er[106]!==es||er[107]!==W?(X=(0,n.jsx)(eS,{label:"Implicit Column Expression",helpText:"Column used for full text search if no property is specified in a Lucene-based search. Typically the message body of a log.",children:(0,n.jsx)(eb.Z,{tableConnection:W,control:es,name:"implicitColumnExpression",placeholder:"Body"})}),er[106]=es,er[107]=W,er[108]=X):X=er[108],er[109]===Symbol.for("react.memo_cache_sentinel")?(U=(0,n.jsx)(j.c,{}),er[109]=U):U=er[109],er[110]!==e?(Q=(0,n.jsx)(ew,{...e,name:"highlightedRowAttributeExpressions",label:"Highlighted Attributes",helpText:"Expressions defining row-level attributes which are displayed in the row side panel for the selected row."}),J=(0,n.jsx)(ew,{...e,name:"highlightedTraceAttributeExpressions",label:"Highlighted Trace Attributes",helpText:"Expressions defining trace-level attributes which are displayed in the trace view for the selected trace."}),er[110]=e,er[111]=Q,er[112]=J):(Q=er[111],J=er[112]),er[113]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,n.jsx)(j.c,{}),er[113]=ee):ee=er[113],er[114]!==e?(et=(0,n.jsx)(eC,{...e}),er[114]=e,er[115]=et):et=er[115],er[116]!==v||er[117]!==E||er[118]!==_||er[119]!==T||er[120]!==$||er[121]!==L||er[122]!==V||er[123]!==q||er[124]!==G||er[125]!==R||er[126]!==K||er[127]!==X||er[128]!==Q||er[129]!==J||er[130]!==et?(ea=(0,n.jsxs)(d.B,{gap:"sm",style:v,children:[w,E,_,T,$,L,V,M,q,G,R,K,Y,X,U,Q,J,ee,et]}),er[116]=v,er[117]=E,er[118]=_,er[119]=T,er[120]=$,er[121]=L,er[122]=V,er[123]=q,er[124]=G,er[125]=R,er[126]=K,er[127]=X,er[128]=Q,er[129]=J,er[130]=et,er[131]=ea):ea=er[131],er[132]!==y||er[133]!==ea?(en=(0,n.jsxs)(n.Fragment,{children:[y,ea]}),er[132]=y,er[133]=ea,er[134]=en):en=er[134],en}function e$(e){let t,a,s,o,i,c,m,u,h,p,b,f,g,y,S,v,w,C,E,N,_,z,T,A,$,k,F,L,H,V,M,Z,q,O,G,B,R,P,K,Y,W,X,U,Q,J,ee,et,ea,en,er,es=(0,r.c)(168),{control:el}=e,eo=(0,D.Kh)();es[0]!==el?(t={control:el,name:"from.databaseName",defaultValue:ef},es[0]=el,es[1]=t):t=es[1];let ei=(0,l.FH)(t);es[2]!==el?(a={control:el,name:"from.tableName"},es[2]=el,es[3]=a):a=es[3];let ec=(0,l.FH)(a);es[4]!==el?(s={control:el,name:"connection"},es[4]=el,es[5]=s):s=es[5];let ed=(0,l.FH)(s);es[6]!==ed||es[7]!==ei||es[8]!==ec?(o={databaseName:ei,tableName:ec,connectionId:ed},es[6]=ed,es[7]=ei,es[8]=ec,es[9]=o):o=es[9],es[10]!==el||es[11]!==o?(i=(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression defines the start of the span",children:(0,n.jsx)(eb.Z,{tableConnection:o,control:el,name:"timestampValueExpression",placeholder:"Timestamp",disableKeywordAutocomplete:!0})}),es[10]=el,es[11]=o,es[12]=i):i=es[12],es[13]!==ed||es[14]!==ei||es[15]!==ec?(c={databaseName:ei,tableName:ec,connectionId:ed},es[13]=ed,es[14]=ei,es[15]=ec,es[16]=c):c=es[16],es[17]!==el||es[18]!==c?(m=(0,n.jsx)(eS,{label:"Default Select",helpText:"Default columns selected in search results (this can be customized per search later)",children:(0,n.jsx)(eb.Z,{tableConnection:c,control:el,name:"defaultTableSelectExpression",placeholder:"Timestamp, ServiceName, StatusCode, Duration, SpanName"})}),es[17]=el,es[18]=c,es[19]=m):m=es[19],es[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(j.c,{}),es[20]=u):u=es[20],es[21]!==ed||es[22]!==ei||es[23]!==ec?(h={databaseName:ei,tableName:ec,connectionId:ed},es[21]=ed,es[22]=ei,es[23]=ec,es[24]=h):h=es[24],es[25]!==el||es[26]!==h?(p=(0,n.jsx)(eS,{label:"Duration Expression",children:(0,n.jsx)(eb.Z,{tableConnection:h,control:el,name:"durationExpression",placeholder:"Duration Column"})}),es[25]=el,es[26]=h,es[27]=p):p=es[27],es[28]!==el?(b=(0,n.jsx)(eS,{label:"Duration Precision",children:(0,n.jsx)(x.a,{mx:"xl",children:(0,n.jsx)(l.xI,{control:el,name:"durationPrecision",render:ek})})}),es[28]=el,es[29]=b):b=es[29],es[30]!==ed||es[31]!==ei||es[32]!==ec?(f={databaseName:ei,tableName:ec,connectionId:ed},es[30]=ed,es[31]=ei,es[32]=ec,es[33]=f):f=es[33],es[34]!==el||es[35]!==f?(g=(0,n.jsx)(eS,{label:"Trace Id Expression",children:(0,n.jsx)(eb.Z,{tableConnection:f,control:el,name:"traceIdExpression",placeholder:"TraceId"})}),es[34]=el,es[35]=f,es[36]=g):g=es[36],es[37]!==ed||es[38]!==ei||es[39]!==ec?(y={databaseName:ei,tableName:ec,connectionId:ed},es[37]=ed,es[38]=ei,es[39]=ec,es[40]=y):y=es[40],es[41]!==el||es[42]!==y?(S=(0,n.jsx)(eS,{label:"Span Id Expression",children:(0,n.jsx)(eb.Z,{tableConnection:y,control:el,name:"spanIdExpression",placeholder:"SpanId"})}),es[41]=el,es[42]=y,es[43]=S):S=es[43],es[44]!==ed||es[45]!==ei||es[46]!==ec?(v={databaseName:ei,tableName:ec,connectionId:ed},es[44]=ed,es[45]=ei,es[46]=ec,es[47]=v):v=es[47],es[48]!==el||es[49]!==v?(w=(0,n.jsx)(eS,{label:"Parent Span Id Expression",children:(0,n.jsx)(eb.Z,{tableConnection:v,control:el,name:"parentSpanIdExpression",placeholder:"ParentSpanId"})}),es[48]=el,es[49]=v,es[50]=w):w=es[50],es[51]!==ed||es[52]!==ei||es[53]!==ec?(C={databaseName:ei,tableName:ec,connectionId:ed},es[51]=ed,es[52]=ei,es[53]=ec,es[54]=C):C=es[54],es[55]!==el||es[56]!==C?(E=(0,n.jsx)(eS,{label:"Span Name Expression",children:(0,n.jsx)(eb.Z,{tableConnection:C,control:el,name:"spanNameExpression",placeholder:"SpanName"})}),es[55]=el,es[56]=C,es[57]=E):E=es[57],es[58]!==ed||es[59]!==ei||es[60]!==ec?(N={databaseName:ei,tableName:ec,connectionId:ed},es[58]=ed,es[59]=ei,es[60]=ec,es[61]=N):N=es[61],es[62]!==el||es[63]!==N?(_=(0,n.jsx)(eS,{label:"Span Kind Expression",children:(0,n.jsx)(eb.Z,{tableConnection:N,control:el,name:"spanKindExpression",placeholder:"SpanKind"})}),es[62]=el,es[63]=N,es[64]=_):_=es[64],es[65]===Symbol.for("react.memo_cache_sentinel")?(z=(0,n.jsx)(j.c,{}),es[65]=z):z=es[65];let em=`${eo} Source for logs associated with traces. Optional`;es[66]!==el?(T=(0,n.jsx)(I.W,{control:el,name:"logSourceId"}),es[66]=el,es[67]=T):T=es[67],es[68]!==em||es[69]!==T?(A=(0,n.jsx)(eS,{label:"Correlated Log Source",helpText:em,children:T}),es[68]=em,es[69]=T,es[70]=A):A=es[70];let eu=`${eo} Source for sessions associated with traces. Optional`;es[71]!==el?($=(0,n.jsx)(I.W,{control:el,name:"sessionSourceId"}),es[71]=el,es[72]=$):$=es[72],es[73]!==eu||es[74]!==$?(k=(0,n.jsx)(eS,{label:"Correlated Session Source",helpText:eu,children:$}),es[73]=eu,es[74]=$,es[75]=k):k=es[75];let eh=`${eo} Source for metrics associated with traces. Optional`;return es[76]!==el?(F=(0,n.jsx)(I.W,{control:el,name:"metricSourceId"}),es[76]=el,es[77]=F):F=es[77],es[78]!==eh||es[79]!==F?(L=(0,n.jsx)(eS,{label:"Correlated Metric Source",helpText:eh,children:F}),es[78]=eh,es[79]=F,es[80]=L):L=es[80],es[81]!==ed||es[82]!==ei||es[83]!==ec?(H={databaseName:ei,tableName:ec,connectionId:ed},es[81]=ed,es[82]=ei,es[83]=ec,es[84]=H):H=es[84],es[85]!==el||es[86]!==H?(V=(0,n.jsx)(eS,{label:"Status Code Expression",children:(0,n.jsx)(eb.Z,{tableConnection:H,control:el,name:"statusCodeExpression",placeholder:"StatusCode"})}),es[85]=el,es[86]=H,es[87]=V):V=es[87],es[88]!==ed||es[89]!==ei||es[90]!==ec?(M={databaseName:ei,tableName:ec,connectionId:ed},es[88]=ed,es[89]=ei,es[90]=ec,es[91]=M):M=es[91],es[92]!==el||es[93]!==M?(Z=(0,n.jsx)(eS,{label:"Status Message Expression",children:(0,n.jsx)(eb.Z,{tableConnection:M,control:el,name:"statusMessageExpression",placeholder:"StatusMessage"})}),es[92]=el,es[93]=M,es[94]=Z):Z=es[94],es[95]!==ed||es[96]!==ei||es[97]!==ec?(q={databaseName:ei,tableName:ec,connectionId:ed},es[95]=ed,es[96]=ei,es[97]=ec,es[98]=q):q=es[98],es[99]!==el||es[100]!==q?(O=(0,n.jsx)(eS,{label:"Service Name Expression",children:(0,n.jsx)(eb.Z,{tableConnection:q,control:el,name:"serviceNameExpression",placeholder:"ServiceName"})}),es[99]=el,es[100]=q,es[101]=O):O=es[101],es[102]!==ed||es[103]!==ei||es[104]!==ec?(G={databaseName:ei,tableName:ec,connectionId:ed},es[102]=ed,es[103]=ei,es[104]=ec,es[105]=G):G=es[105],es[106]!==el||es[107]!==G?(B=(0,n.jsx)(eS,{label:"Resource Attributes Expression",children:(0,n.jsx)(eb.Z,{tableConnection:G,control:el,name:"resourceAttributesExpression",placeholder:"ResourceAttributes"})}),es[106]=el,es[107]=G,es[108]=B):B=es[108],es[109]!==ed||es[110]!==ei||es[111]!==ec?(R={databaseName:ei,tableName:ec,connectionId:ed},es[109]=ed,es[110]=ei,es[111]=ec,es[112]=R):R=es[112],es[113]!==el||es[114]!==R?(P=(0,n.jsx)(eS,{label:"Event Attributes Expression",children:(0,n.jsx)(eb.Z,{tableConnection:R,control:el,name:"eventAttributesExpression",placeholder:"SpanAttributes"})}),es[113]=el,es[114]=R,es[115]=P):P=es[115],es[116]!==ed||es[117]!==ei||es[118]!==ec?(K={databaseName:ei,tableName:ec,connectionId:ed},es[116]=ed,es[117]=ei,es[118]=ec,es[119]=K):K=es[119],es[120]!==el||es[121]!==K?(Y=(0,n.jsx)(eS,{label:"Span Events Expression",helpText:"Expression to extract span events. Used to capture events associated with spans. Expected to be Nested ( Timestamp DateTime64(9), Name LowCardinality(String), Attributes Map(LowCardinality(String), String)",children:(0,n.jsx)(eb.Z,{tableConnection:K,control:el,name:"spanEventsValueExpression",placeholder:"Events"})}),es[120]=el,es[121]=K,es[122]=Y):Y=es[122],es[123]!==ed||es[124]!==ei||es[125]!==ec?(W={databaseName:ei,tableName:ec,connectionId:ed},es[123]=ed,es[124]=ei,es[125]=ec,es[126]=W):W=es[126],es[127]!==el||es[128]!==W?(X=(0,n.jsx)(eS,{label:"Implicit Column Expression",helpText:"Column used for full text search if no property is specified in a Lucene-based search. Typically the message body of a log.",children:(0,n.jsx)(eb.Z,{tableConnection:W,control:el,name:"implicitColumnExpression",placeholder:"SpanName"})}),es[127]=el,es[128]=W,es[129]=X):X=es[129],es[130]!==ed||es[131]!==ei||es[132]!==ec?(U={databaseName:ei,tableName:ec,connectionId:ed},es[130]=ed,es[131]=ei,es[132]=ec,es[133]=U):U=es[133],es[134]!==el||es[135]!==U?(Q=(0,n.jsx)(eS,{label:"Displayed Timestamp Column",helpText:"This DateTime column is used to display and order search results.",children:(0,n.jsx)(eb.Z,{tableConnection:U,control:el,name:"displayedTimestampValueExpression",disableKeywordAutocomplete:!0})}),es[134]=el,es[135]=U,es[136]=Q):Q=es[136],es[137]===Symbol.for("react.memo_cache_sentinel")?(J=(0,n.jsx)(j.c,{}),es[137]=J):J=es[137],es[138]!==e?(ee=(0,n.jsx)(ew,{...e,name:"highlightedRowAttributeExpressions",label:"Highlighted Attributes",helpText:"Expressions defining row-level attributes which are displayed in the row side panel for the selected row"}),et=(0,n.jsx)(ew,{...e,name:"highlightedTraceAttributeExpressions",label:"Highlighted Trace Attributes",helpText:"Expressions defining trace-level attributes which are displayed in the trace view for the selected trace."}),es[138]=e,es[139]=ee,es[140]=et):(ee=es[139],et=es[140]),es[141]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,n.jsx)(j.c,{}),es[141]=ea):ea=es[141],es[142]!==e?(en=(0,n.jsx)(eC,{...e}),es[142]=e,es[143]=en):en=es[143],es[144]!==b||es[145]!==g||es[146]!==S||es[147]!==w||es[148]!==E||es[149]!==_||es[150]!==A||es[151]!==k||es[152]!==L||es[153]!==V||es[154]!==Z||es[155]!==O||es[156]!==B||es[157]!==i||es[158]!==P||es[159]!==Y||es[160]!==X||es[161]!==Q||es[162]!==ee||es[163]!==et||es[164]!==en||es[165]!==m||es[166]!==p?(er=(0,n.jsxs)(d.B,{gap:"sm",children:[i,m,u,p,b,g,S,w,E,_,z,A,k,L,V,Z,O,B,P,Y,X,Q,J,ee,et,ea,en]}),es[144]=b,es[145]=g,es[146]=S,es[147]=w,es[148]=E,es[149]=_,es[150]=A,es[151]=k,es[152]=L,es[153]=V,es[154]=Z,es[155]=O,es[156]=B,es[157]=i,es[158]=P,es[159]=Y,es[160]=X,es[161]=Q,es[162]=ee,es[163]=et,es[164]=en,es[165]=m,es[166]=p,es[167]=er):er=es[167],er}function ek(e){let{field:t}=e,{onChange:a,value:r}=t;return(0,n.jsx)("div",{style:{width:"90%",marginBottom:8},children:(0,n.jsx)(v.A,{color:"green",defaultValue:0,min:0,max:9,marks:[{value:0,label:"Seconds"},{value:3,label:"Millisecond"},{value:6,label:"Microsecond"},{value:9,label:"Nanosecond"}],value:r,onChange:a})})}function eI({control:e}){let t=(0,D.Kh)(),a=(0,l.FH)({control:e,name:"from.databaseName",defaultValue:ef}),r=(0,l.FH)({control:e,name:"connection"}),o=(0,l.FH)({control:e,name:"from.tableName"}),i=(0,s.useRef)(o),c=(0,V.Ge)();return(0,s.useEffect)(()=>{(async()=>{try{o&&o!==i.current&&(i.current=o,await (0,M.Al)({databaseName:a,tableName:o,connectionId:r,metadata:c})||_.$e.show({color:"red",message:`${o} is not a valid Sessions schema.`}))}catch(e){console.error(e),_.$e.show({color:"red",message:e.message})}})()},[o,a,r,c]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.B,{gap:"sm",children:[(0,n.jsx)(eS,{label:"Correlated Trace Source",helpText:`${t} Source for traces associated with sessions. Required`,children:(0,n.jsx)(I.W,{control:e,name:"traceSourceId"})}),(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression that is part of your table's primary key.",children:(0,n.jsx)(eb.Z,{tableConnection:{databaseName:a,tableName:o,connectionId:r},control:e,name:"timestampValueExpression",disableKeywordAutocomplete:!0})})]})})}function eF({control:e,setValue:t}){let a=(0,D.Kh)(),r=(0,l.FH)({control:e,name:"from.databaseName",defaultValue:ef}),o=(0,l.FH)({control:e,name:"connection"}),c=(0,l.FH)({control:e,name:"metricTables"}),m=(0,s.useRef)(c),u=(0,V.Ge)();return(0,s.useEffect)(()=>{for(let[e,a]of Object.entries(ej))t(e,a)},[t]),(0,s.useEffect)(()=>{(async()=>{try{if(c&&m.current)for(let e of Object.values(i.SX)){let t=c[e],a=m.current[e];t!==a&&(await (0,M.fS)({databaseName:r,tableName:t,connectionId:o,metricType:e,metadata:u})||_.$e.show({color:"red",message:`${t} is not a valid OTEL ${e} schema.`}))}m.current=c}catch(e){console.error(e),_.$e.show({color:"red",message:e.message})}})()},[c,r,o,u]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.B,{gap:"sm",children:[Object.values(i.SX).map(t=>(0,n.jsx)(eS,{label:`${t} Table`,helpText:t===i.SX.ExponentialHistogram||t===i.SX.Summary?`Table containing ${t.toLowerCase()} metrics data. Note: not yet fully supported by ${a}`:`Table containing ${t.toLowerCase()} metrics data`,children:(0,n.jsx)(eo,{connectionId:o,database:r,control:e,name:`metricTables.${t.toLowerCase()}`})},t.toLowerCase())),(0,n.jsx)(eS,{label:"Correlated Log Source",helpText:`${a} Source for logs associated with metrics. Optional`,children:(0,n.jsx)(I.W,{control:e,name:"logSourceId"})})]})})}function eL(e){let t=(0,r.c)(12),{control:a,setValue:s,kind:l}=e;switch(l){case i.GL.Log:{let e;return t[0]!==a||t[1]!==s?(e=(0,n.jsx)(eA,{control:a,setValue:s}),t[0]=a,t[1]=s,t[2]=e):e=t[2],e}case i.GL.Trace:{let e;return t[3]!==a||t[4]!==s?(e=(0,n.jsx)(e$,{control:a,setValue:s}),t[3]=a,t[4]=s,t[5]=e):e=t[5],e}case i.GL.Session:{let e;return t[6]!==a||t[7]!==s?(e=(0,n.jsx)(eI,{control:a,setValue:s}),t[6]=a,t[7]=s,t[8]=e):e=t[8],e}case i.GL.Metric:{let e;return t[9]!==a||t[10]!==s?(e=(0,n.jsx)(eF,{control:a,setValue:s}),t[9]=a,t[10]=s,t[11]=e):e=t[11],e}}}function eH({sourceId:e,onSave:t,onCreate:a,isNew:r=!1,defaultName:o="",onCancel:m}){let{data:u}=(0,M.Fo)({id:e}),{data:x}=(0,L.ZY)(),{control:j,setValue:y,handleSubmit:v,resetField:C,setError:E,clearErrors:N}=(0,l.mN)({defaultValues:{kind:i.GL.Log,name:o,connection:x?.[0]?.id,from:{databaseName:"default",tableName:""},querySettings:u?.querySettings},values:u,resetOptions:{keepDirtyValues:!0,keepErrors:!0}}),z=(0,l.FH)({control:j,name:"connection",defaultValue:u?.connection}),T=(0,l.FH)({control:j,name:"from.databaseName",defaultValue:u?.from?.databaseName||ef}),k=(0,l.FH)({control:j,name:"from.tableName",defaultValue:u?.from?.tableName}),I=(0,l.FH)({control:j,name:"kind",defaultValue:u?.kind||i.GL.Log}),H=(0,s.useRef)(k),D=(0,V.Ge)();(0,s.useEffect)(()=>{(async()=>{try{if(k!==H.current&&(H.current=k,null!=z&&null!=T&&(I===i.GL.Metric||null!=k))){let e=await (0,M.Ys)({databaseName:T,tableName:I!==i.GL.Metric?k:"",connectionId:z,metadata:D});Object.keys(e).length>0&&_.$e.show({color:"green",message:"Automatically inferred source configuration from table schema."}),Object.entries(e).forEach(([e,t])=>{C(e,{keepDirty:!0,defaultValue:t})})}}catch(e){console.error(e)}})()},[k,z,T,I,C,D]),(0,s.useEffect)(()=>{C("connection",{defaultValue:x?.[0]?.id})},[x,C]);let Z=(0,l.FH)({control:j,name:"kind",defaultValue:u?.kind||i.GL.Log}),q=(0,M.nd)(),O=(0,M.sr)(),G=(0,M.YI)(),{data:B}=(0,M.oE)(),R=(0,l.FH)({control:j,name:"id"}),P=(0,l.FH)({control:j,name:"logSourceId"}),K=(0,l.FH)({control:j,name:"traceSourceId"}),Y=(0,l.FH)({control:j,name:"metricSourceId"}),W=(0,l.FH)({control:j,name:"traceSourceId"}),Q=(0,s.useRef)(P),J=(0,s.useRef)(K),ee=(0,s.useRef)(Y),et=(0,s.useRef)(W);(0,s.useEffect)(()=>{(async()=>{if(!R||!B||!Z)return;let e=ey[Z];if(!e)return;let t=[];for(let{name:a,value:n}of(P!==Q.current&&(Q.current=P,t.push({name:"logSourceId",value:P??void 0})),K!==J.current&&(J.current=K,t.push({name:"traceSourceId",value:K??void 0})),Y!==ee.current&&(ee.current=Y,t.push({name:"metricSourceId",value:Y??void 0})),W!==et.current&&Z===i.GL.Session&&(et.current=W,t.push({name:"traceSourceId",value:W??void 0})),t))if(a in e)for(let{targetKind:t,targetField:r}of e[a]){let e=B.find(e=>e.kind===t&&e[r]===R);if(e&&e.id!==n&&await O.mutateAsync({source:{...e,[r]:void 0}}),n){let e=B.find(e=>e.id===n);e&&e.kind===t&&!e[r]&&await O.mutateAsync({source:{...e,[r]:R}})}}})()},[P,K,Y,W,Z,R,B,O]);let en=(0,i.z1)({id:!0}),er=(0,s.useCallback)(({errors:e},t)=>{let a=[];for(let n of(console.debug(`[${t}] SourceForm validation error`,JSON.stringify(e)),e)){let e=n.path.join(".");E(e,{...n});let t="Required"===n.message?`${e}: ${n.message}`:n.message;a.push(t)}_.$e.show({color:"red",message:(0,n.jsxs)(d.B,{children:[(0,n.jsx)(c.E,{size:"sm",children:(0,n.jsx)("b",{children:"Failed to create source"})}),a.map((e,t)=>(0,n.jsxs)(c.E,{size:"sm",children:[" ",e]},t))]})})},[E]),es=(0,s.useCallback)(()=>{N(),v(async e=>{let t=en.safeParse(e);t.error?er(t.error,"create"):q.mutate({source:e},{onSuccess:async e=>{let t=ey[e.kind];if(t&&B)for(let[a,n]of Object.entries(t)){let t=e[a];if(t)for(let{targetKind:a,targetField:r}of n){let n=B.find(e=>e.id===t);n&&n.kind===a&&!n[r]&&await O.mutateAsync({source:{...n,[r]:e.id}})}}a?.(e),_.$e.show({color:"green",message:"Source created"})},onError:e=>{_.$e.show({color:"red",message:`Failed to create source - ${e.message}`})}})})()},[N,er,en,v,q,a,B,O]),el=(0,s.useCallback)(()=>{N(),v(e=>{let a=en.safeParse(e);a.error?er(a.error,"save"):O.mutate({source:e},{onSuccess:()=>{t?.(),_.$e.show({color:"green",message:"Source updated"})},onError:()=>{_.$e.show({color:"red",message:"Failed to update source"})}})})()},[v,O,t,N,er,en]),ei=(0,l.FH)({control:j,name:"from.databaseName",defaultValue:u?.from?.databaseName||ef}),ec=(0,l.FH)({control:j,name:"connection",defaultValue:u?.connection}),{fields:ed,append:em,remove:eu}=(0,l.jz)({control:j,name:"querySettings"});return(0,n.jsxs)("div",{style:{},children:[(0,n.jsxs)(d.B,{gap:"md",mb:"md",children:[(0,n.jsx)(c.E,{mb:"lg",children:"Source Settings"}),(0,n.jsx)(eS,{label:"Name",children:(0,n.jsx)(ex.t4,{control:j,name:"name",rules:{required:"Name is required"}})}),(0,n.jsx)(eS,{label:"Source Data Type",children:(0,n.jsx)(l.xI,{control:j,name:"kind",render:({field:{onChange:e,value:t}})=>(0,n.jsx)(w.s.Group,{value:t,onChange:t=>e(t),withAsterisk:!0,children:(0,n.jsxs)(g.Y,{children:[(0,n.jsx)(w.s,{value:i.GL.Log,label:"Log"}),(0,n.jsx)(w.s,{value:i.GL.Trace,label:"Trace"}),F.Fm&&(0,n.jsx)(w.s,{value:i.GL.Metric,label:"OTEL Metrics"}),F.vN&&(0,n.jsx)(w.s,{value:i.GL.Session,label:"Session"})]})})})}),(0,n.jsx)(eS,{label:"Server Connection",children:(0,n.jsx)(U.r,{control:j,name:"connection"})}),(0,n.jsx)(eS,{label:"Database",children:(0,n.jsx)(ea,{control:j,name:"from.databaseName",connectionId:ec})}),Z!==i.GL.Metric&&(0,n.jsx)(eS,{label:"Table",children:(0,n.jsx)(eo,{database:ei,control:j,name:"from.tableName",connectionId:ec,rules:{required:"Table is required"}})}),(0,n.jsxs)(eS,{label:(0,n.jsx)(S.M,{href:"https://clickhouse.com/docs/operations/settings/settings",size:"sm",target:"_blank",children:"Query Settings"}),helpText:"Query-level Session Settings that will be added to each query for this source.",children:[(0,n.jsx)(p.x,{columns:11,children:ed.map((e,t)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(p.x.Col,{span:5,pe:0,children:(0,n.jsx)(ex.t4,{placeholder:"Setting",control:j,name:`querySettings.${t}.setting`})}),(0,n.jsx)(p.x.Col,{span:5,pe:0,children:(0,n.jsx)(ex.t4,{placeholder:"Value",control:j,name:`querySettings.${t}.value`})}),(0,n.jsx)(p.x.Col,{span:1,ps:0,children:(0,n.jsx)(h.s,{align:"center",justify:"center",gap:"sm",h:"100%",children:(0,n.jsx)(b.M,{variant:"subtle",color:"gray",title:"Remove setting",onClick:()=>eu(t),children:(0,n.jsx)(A.A,{size:16})})})})]},e.id))}),(0,n.jsxs)(f.$,{variant:"secondary",size:"sm",color:"gray",mt:"md",disabled:ed.length>=10,onClick:()=>{ed.length<10&&em({setting:"",value:""})},children:[(0,n.jsx)($.A,{size:14,className:"me-2"}),"Add Setting"]})]})]}),(0,n.jsx)(eL,{control:j,setValue:y,kind:Z}),(0,n.jsxs)(g.Y,{justify:"flex-end",mt:"lg",children:[m&&(0,n.jsx)(f.$,{variant:"secondary",onClick:m,size:"xs",children:"Cancel"}),r?(0,n.jsx)(f.$,{variant:"primary",onClick:es,size:"xs",loading:q.isPending,children:"Save New Source"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(X.A,{onDelete:()=>G.mutate({id:e??""})}),(0,n.jsx)(f.$,{variant:"primary",onClick:el,size:"xs",loading:q.isPending,children:"Save Source"})]})]})]})}},43567:(e,t,a)=>{"use strict";a.d(t,{B:()=>_});var n,r=a(6029),s=a(75155),l=a(55729),o=a(1909),i=a(88459),c=a(43517),d=a(60481),m=a(25062),u=a(78253),h=a(23935),x=a(3635),p=a(63085),b=a(34834),f=a(60665),g=a(95316),j=a(97702),y=a(6876),S=a(71781),v=a(98142),w=a(93108),C=a(92917),E=a(24207),N=((n=N||{}).Loading="loading",n.Valid="valid",n.Invalid="invalid",n);function _(e){let t,a,n,N,_,A,$,k,I,F,L,H,V,M,D,Z,q,O,G,B,R,P,K,Y,W,X,U,Q,J,ee,et,ea,en,er,es=(0,s.c)(98),{connection:el,isNew:eo,onSave:ei,onClose:ec,showCancelButton:ed,showDeleteButton:em}=e,eu=void 0!==ed&&ed,eh=void 0!==em&&em;es[0]!==el.host||es[1]!==el.hyperdxSettingPrefix||es[2]!==el.id||es[3]!==el.name||es[4]!==el.password||es[5]!==el.username?(t={defaultValues:{id:el.id,name:el.name,host:el.host,username:el.username,password:el.password,hyperdxSettingPrefix:el.hyperdxSettingPrefix}},es[0]=el.host,es[1]=el.hyperdxSettingPrefix,es[2]=el.id,es[3]=el.name,es[4]=el.password,es[5]=el.username,es[6]=t):t=es[6];let{control:ex,handleSubmit:ep,resetField:eb,getValues:ef,formState:eg}=(0,o.mN)(t),ej=(0,w.Ir)(),ey=(0,w.Zm)(),eS=(0,w.PQ)();es[7]!==el.id||es[8]!==ej||es[9]!==eo||es[10]!==ei||es[11]!==ey?(a=e=>{let t={...e,host:(0,C.KL)(e.host),hyperdxSettingPrefix:e.hyperdxSettingPrefix||null};if(eo){let{id:e,...a}=t;ej.mutate({connection:a},{onSuccess:()=>{f.$e.show({color:"green",message:"Connection created successfully"}),ei?.()},onError:T})}else ey.mutate({connection:t,id:el.id},{onSuccess:()=>{f.$e.show({color:"green",message:"Connection updated successfully"}),ei?.()},onError:z})},es[7]=el.id,es[8]=ej,es[9]=eo,es[10]=ei,es[11]=ey,es[12]=a):a=es[12];let ev=a,[ew,eC]=(0,l.useState)(!1),[eE,eN]=(0,l.useState)(!1);es[13]!==ef?(n={getValues:ef},es[13]=ef,es[14]=n):n=es[14];let{testConnectionState:e_,handleTestConnection:ez}=function({getValues:e}){let t=y.Ay.useTestConnection(),[a,n]=(0,l.useState)(null),r=(0,l.useCallback)(async()=>{let r=e("host"),s=e("username"),l=e("password"),o=(0,C.KL)(r);if(!a){if(n("loading"),v.VO)try{await (0,i.Kc)({host:o,username:s,password:l})?n("valid"):(n("invalid"),f.$e.show({color:"red",message:"Connection test failed",autoClose:5e3}))}catch(e){console.error(e),n("invalid"),f.$e.show({color:"red",message:e.message,autoClose:5e3})}else try{let e=await t.mutateAsync({host:o,username:s,password:l});e.success?n("valid"):(n("invalid"),f.$e.show({color:"red",message:e.error||"Connection test failed",autoClose:5e3}))}catch(t){let e=await t.response?.json();n("invalid"),f.$e.show({color:"red",message:e?.error??"Failed to test connection",autoClose:5e3})}setTimeout(()=>{n(null)},2e3)}},[e,t,a]);return{testConnectionState:a,handleTestConnection:r}}(n);es[15]!==ep||es[16]!==ev?(N=e=>{e.preventDefault(),ep(e=>{ev(e)})()},es[15]=ep,es[16]=ev,es[17]=N):N=es[17],es[18]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Connection Name"}),es[18]=_):_=es[18],es[19]===Symbol.for("react.memo_cache_sentinel")?(A={required:"Connection name is required"},es[19]=A):A=es[19],es[20]!==ex?($=(0,r.jsxs)(d.a,{children:[_,(0,r.jsx)(S.t4,{"data-testid":"connection-name-input",name:"name",control:ex,placeholder:"My Clickhouse Server",rules:A})]}),es[20]=ex,es[21]=$):$=es[21],es[22]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Host"}),es[22]=k):k=es[22],es[23]===Symbol.for("react.memo_cache_sentinel")?(I={required:"Host is required"},es[23]=I):I=es[23],es[24]!==ex?(F=(0,r.jsxs)(d.a,{children:[k,(0,r.jsx)(S.t4,{"data-testid":"connection-host-input",name:"host",control:ex,placeholder:"http://localhost:8123",rules:I})]}),es[24]=ex,es[25]=F):F=es[25],es[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Username"}),es[26]=L):L=es[26],es[27]!==ex?(H=(0,r.jsxs)(d.a,{children:[L,(0,r.jsx)(S.t4,{"data-testid":"connection-username-input",name:"username",control:ex,placeholder:"Username (default: default)"})]}),es[27]=ex,es[28]=H):H=es[28],es[29]===Symbol.for("react.memo_cache_sentinel")?(V=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Password"}),es[29]=V):V=es[29],es[30]!==eo||es[31]!==ew?(M=!ew&&!eo&&(0,r.jsx)(m.$,{"data-testid":"update-password-button",variant:"secondary",onClick:()=>{eC(!0)},children:"Update Password"}),es[30]=eo,es[31]=ew,es[32]=M):M=es[32],es[33]!==ex||es[34]!==eo||es[35]!==eb||es[36]!==ew?(D=(ew||eo)&&(0,r.jsxs)(u.s,{align:"center",gap:"sm",children:[(0,r.jsx)(S.aJ,{"data-testid":"connection-password-input",style:{flexGrow:1},name:"password",control:ex,placeholder:"Password (default: blank)"}),!eo&&(0,r.jsx)(m.$,{"data-testid":"cancel-password-button",variant:"secondary",onClick:()=>{eC(!1),eb("password")},children:"Cancel"})]}),es[33]=ex,es[34]=eo,es[35]=eb,es[36]=ew,es[37]=D):D=es[37],es[38]!==M||es[39]!==D?(Z=(0,r.jsxs)(d.a,{children:[V,M,D]}),es[38]=M,es[39]=D,es[40]=Z):Z=es[40],es[41]!==eE?(q=!eE&&(0,r.jsx)(h.M,{underline:"always",onClick:()=>eN(!0),size:"xs",children:(0,r.jsxs)(x.Y,{gap:"xs",children:[(0,r.jsx)(g.A,{size:14}),"Advanced Settings"]})}),es[41]=eE,es[42]=q):q=es[42],es[43]!==eE?(O=eE&&(0,r.jsx)(m.$,{onClick:()=>eN(!1),size:"xs",variant:"subtle",children:"Hide Advanced Settings"}),es[43]=eE,es[44]=O):O=es[44],es[45]!==q||es[46]!==O?(G=(0,r.jsxs)(d.a,{children:[q,O]}),es[45]=q,es[46]=O,es[47]=G):G=es[47];let eT=eE?"block":"none";es[48]!==eT?(B={display:eT},es[48]=eT,es[49]=B):B=es[49],es[50]===Symbol.for("react.memo_cache_sentinel")?(R=(0,r.jsx)(c.E,{size:"xs",children:"Query Log Setting Prefix"}),es[50]=R):R=es[50],es[51]===Symbol.for("react.memo_cache_sentinel")?(P=(0,r.jsxs)(x.Y,{gap:"xs",mb:"xs",children:[R,(0,r.jsx)(p.m,{label:"Tracks query origins by adding the current user's email to ClickHouse queries (as {prefix}_user in system.query_log). Requires 'custom_settings_prefixes' in your ClickHouse config.xml to include this exact value, otherwise queries will be rejected.",color:"dark",c:"white",multiline:!0,maw:400,children:(0,r.jsx)(j.A,{size:16,className:"cursor-pointer"})})]}),es[51]=P):P=es[51],es[52]!==ex?(K=(0,r.jsx)(S.t4,{"data-testid":"connection-setting-prefix-input",name:"hyperdxSettingPrefix",control:ex,placeholder:"hyperdx"}),es[52]=ex,es[53]=K):K=es[53],es[54]!==B||es[55]!==K?(Y=(0,r.jsxs)(d.a,{style:B,children:[P,K]}),es[54]=B,es[55]=K,es[56]=Y):Y=es[56];let eA=!eg.isValid,e$="invalid"===e_?"danger":"secondary",ek="loading"===e_;es[57]!==e_?(W="valid"===e_?(0,r.jsx)(r.Fragment,{children:"Connection successful"}):"invalid"===e_?(0,r.jsx)(r.Fragment,{children:"Unable to connect"}):"Test Connection",es[57]=e_,es[58]=W):W=es[58],es[59]!==ez||es[60]!==eA||es[61]!==e$||es[62]!==ek||es[63]!==W?(X=(0,r.jsx)(m.$,{disabled:eA,variant:e$,type:"button",onClick:ez,loading:ek,children:W}),es[59]=ez,es[60]=eA,es[61]=e$,es[62]=ek,es[63]=W,es[64]=X):X=es[64],es[65]!==eo||es[66]!==X?(U=(0,r.jsx)(p.m,{label:"\uD83D\uDD12 Password re-entry required for security",position:"right",disabled:eo,withArrow:!0,children:X}),es[65]=eo,es[66]=X,es[67]=U):U=es[67],es[68]!==ec||es[69]!==eu?(Q=ec&&eu&&(0,r.jsx)(m.$,{variant:"secondary",onClick:ec,children:"Cancel"}),es[68]=ec,es[69]=eu,es[70]=Q):Q=es[70],es[71]!==el.id||es[72]!==eS||es[73]!==eo||es[74]!==ec||es[75]!==eh?(J=!eo&&!1!==eh&&(0,r.jsx)(E.A,{onDelete:()=>eS.mutate({id:el.id},{onSuccess:()=>{ec?.()}})}),es[71]=el.id,es[72]=eS,es[73]=eo,es[74]=ec,es[75]=eh,es[76]=J):J=es[76];let eI=eo?ej.isPending:ey.isPending,eF=eo?"Create":"Save";return es[77]!==eI||es[78]!==eF?(ee=(0,r.jsxs)(m.$,{"data-testid":"connection-save-button",variant:"primary",type:"submit",loading:eI,children:[eF," Connection"]}),es[77]=eI,es[78]=eF,es[79]=ee):ee=es[79],es[80]!==Q||es[81]!==J||es[82]!==ee?(et=(0,r.jsxs)(x.Y,{gap:"xs",children:[Q,J,ee]}),es[80]=Q,es[81]=J,es[82]=ee,es[83]=et):et=es[83],es[84]!==U||es[85]!==et?(ea=(0,r.jsxs)(x.Y,{justify:"space-between",children:[U,et]}),es[84]=U,es[85]=et,es[86]=ea):ea=es[86],es[87]!==F||es[88]!==H||es[89]!==Z||es[90]!==G||es[91]!==Y||es[92]!==ea||es[93]!==$?(en=(0,r.jsxs)(b.B,{gap:"md",children:[$,F,H,Z,G,Y,ea]}),es[87]=F,es[88]=H,es[89]=Z,es[90]=G,es[91]=Y,es[92]=ea,es[93]=$,es[94]=en):en=es[94],es[95]!==en||es[96]!==N?(er=(0,r.jsx)("form",{"data-testid":"connection-form",onSubmit:N,children:en}),es[95]=en,es[96]=N,es[97]=er):er=es[97],er}function z(){f.$e.show({color:"red",message:"Error updating connection, please check the host and credentials and try again.",autoClose:5e3})}function T(){f.$e.show({color:"red",message:"Error creating connection, please check the host and credentials and try again.",autoClose:5e3})}},52154:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(6029),r=a(75155),s=a(43517),l=a(78253);function o(e){let t,a,o,i,c,d,m,u=(0,r.c)(17),{language:h,onLanguageChange:x,showHotkey:p}=e;u[0]!==p?(t=p&&(0,n.jsx)(s.E,{size:"xxs",bg:"var(--color-bg-neutral)",c:"white",px:4,py:0,mr:4,lh:1.4,children:"/"}),u[0]=p,u[1]=t):t=u[1];let b="sql"===h?"var(--color-text-brand)":"gray";u[2]!==x?(a=()=>x("sql"),u[2]=x,u[3]=a):a=u[3],u[4]!==b||u[5]!==a?(o=(0,n.jsx)(s.E,{c:b,onClick:a,size:"xs",role:"button",children:"SQL"}),u[4]=b,u[5]=a,u[6]=o):o=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(s.E,{size:"xs",children:"|"}),u[7]=i):i=u[7];let f="lucene"===h?"var(--color-text-brand)":"gray";return u[8]!==x?(c=()=>x("lucene"),u[8]=x,u[9]=c):c=u[9],u[10]!==f||u[11]!==c?(d=(0,n.jsx)(s.E,{size:"xs",role:"button",fw:500,c:f,onClick:c,children:"Lucene"}),u[10]=f,u[11]=c,u[12]=d):d=u[12],u[13]!==t||u[14]!==o||u[15]!==d?(m=(0,n.jsxs)(l.s,{wrap:"nowrap",gap:"xxxs",px:"sm",children:[t,o,i,d]}),u[13]=t,u[14]=o,u[15]=d,u[16]=m):m=u[16],m}},54970:(e,t,a)=>{"use strict";a.d(t,{v:()=>I});var n=a(6029),r=a(75155),s=a(55729),l=a(82641),o=a(62801),i=a(78253),c=a(94720),d=a(43517),m=a(25062),u=a(39603),h=a(92556),x=a(3635),p=a(76013),b=a(60481),f=a(92789),g=a(34834),j=a(28797),y=a(94502),S=a(17283),v=a(91758),w=a(58333),C=a(23474),E=a(23195),N=a(98142),_=a(93108),z=a(81973),T=a(92917),A=a(24314),$=a(76326),k=a.n($);function I(e){let t,a,$,I,F,L,H,V,M=(0,r.c)(53),{onAddSource:D,withCard:Z,withBorder:q,cardClassName:O,variant:G,showEmptyState:B}=e,R=void 0===Z||Z,P=void 0===q||q,K=void 0===G?"compact":G,Y=void 0===B||B,{data:W,isLoading:X,error:U,refetch:Q}=(0,_.ZY)(),{data:J,isLoading:ee,error:et,refetch:ea}=(0,z.oE)(),[en,er]=(0,s.useState)(null),[es,el]=(0,s.useState)(!1),eo=U||et;M[0]!==Q||M[1]!==ea?(t=()=>{Q(),ea()},M[0]=Q,M[1]=ea,M[2]=t):t=M[2];let ei=t,ec="compact"===K?"sm":"md",ed="compact"===K?"xs":"sm",em="compact"===K?11:14,eu="compact"===K?"xs":"sm",eh=R?o.Z:s.Fragment;M[3]!==O||M[4]!==P||M[5]!==R?(a=R?{withBorder:P,p:"md",radius:"sm",className:O??k().sourcesCard}:{},M[3]=O,M[4]=P,M[5]=R,M[6]=a):a=M[6];let ex=a;if(X||ee){let e,t;return M[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)(i.s,{justify:"center",align:"center",py:"xl",children:[(0,n.jsx)(c.a,{size:"sm"}),(0,n.jsx)(d.E,{size:"sm",c:"dimmed",ml:"sm",children:"Loading sources..."})]}),M[7]=e):e=M[7],M[8]!==eh||M[9]!==ex?(t=(0,n.jsx)(eh,{...ex,children:e}),M[8]=eh,M[9]=ex,M[10]=t):t=M[10],t}if(eo){let e,t,a,r,s,l;M[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(j.A,{size:16}),M[11]=e):e=M[11];let o=eo instanceof Error?eo.message:"An error occurred while loading data sources.";return M[12]!==o?(t=(0,n.jsx)(d.E,{size:"sm",mb:"sm",children:o}),M[12]=o,M[13]=t):t=M[13],M[14]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(y.A,{size:14}),M[14]=a):a=M[14],M[15]!==ei?(r=(0,n.jsx)(m.$,{size:"xs",variant:"danger",leftSection:a,onClick:ei,children:"Retry"}),M[15]=ei,M[16]=r):r=M[16],M[17]!==r||M[18]!==t?(s=(0,n.jsxs)(u.F,{icon:e,title:"Failed to load sources",color:"red",variant:"light",children:[t,r]}),M[17]=r,M[18]=t,M[19]=s):s=M[19],M[20]!==eh||M[21]!==s||M[22]!==ex?(l=(0,n.jsx)(eh,{...ex,children:s}),M[20]=eh,M[21]=s,M[22]=ex,M[23]=l):l=M[23],l}let ep=!J||0===J.length;return M[24]!==es||M[25]!==ep||M[26]!==Y?($=ep&&!es&&Y&&(0,n.jsxs)(i.s,{direction:"column",align:"center",py:"xl",gap:"sm",children:[(0,n.jsx)(S.A,{size:32,color:"var(--color-text-muted)"}),(0,n.jsx)(h.h,{size:"sm",ta:"center",c:"var(--color-text-muted)",children:"No data sources configured yet."}),(0,n.jsx)(d.E,{size:"xs",ta:"center",c:"var(--color-text-muted)",children:"Add a source to start querying your data."})]}),M[24]=es,M[25]=ep,M[26]=Y,M[27]=$):$=M[27],M[28]!==eu||M[29]!==W||M[30]!==en||M[31]!==em||M[32]!==J||M[33]!==ed||M[34]!==ec?(I=J?.map((e,t)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsxs)(i.s,{justify:"space-between",align:"center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.E,{size:ec,fw:500,children:e.name}),(0,n.jsx)(d.E,{size:ed,c:"dimmed",mt:4,children:(0,n.jsxs)(x.Y,{gap:"xs",children:[(0,T.Zr)(e.kind),(0,n.jsxs)(x.Y,{gap:4,children:[(0,n.jsx)(v.A,{size:em}),W?.find(t=>t.id===e.connection)?.name]}),(0,n.jsx)(x.Y,{gap:4,children:e.from&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.A,{size:em}),e.from.databaseName,e.kind===l.GL.Metric?"":".",e.from.tableName]})})]})})]}),(0,n.jsx)(p.M,{variant:"secondary",size:eu,onClick:()=>er(en===e.id?null:e.id),children:en===e.id?(0,n.jsx)(w.A,{size:em+2}):(0,n.jsx)(C.A,{size:em+2})})]}),en===e.id&&(0,n.jsx)(b.a,{mt:"xs",children:(0,n.jsx)(A.Eb,{sourceId:e.id,onSave:()=>er(null)})}),t<(J?.length??0)-1&&(0,n.jsx)(f.c,{})]},e.id)),M[28]=eu,M[29]=W,M[30]=en,M[31]=em,M[32]=J,M[33]=ed,M[34]=ec,M[35]=I):I=M[35],M[36]!==es||M[37]!==J?(F=es&&(0,n.jsxs)(n.Fragment,{children:[J&&J.length>0&&(0,n.jsx)(f.c,{}),(0,n.jsx)(A.Eb,{isNew:!0,onCreate:()=>el(!1),onCancel:()=>el(!1)})]}),M[36]=es,M[37]=J,M[38]=F):F=M[38],M[39]!==eu||M[40]!==es||M[41]!==D||M[42]!==J?(L=!N.VO&&!es&&(0,n.jsx)(i.s,{justify:"flex-end",pt:J&&J.length>0?"md":0,children:(0,n.jsx)(m.$,{variant:"secondary",size:eu,leftSection:(0,n.jsx)(E.A,{size:14}),onClick:()=>{el(!0),D?.()},children:"Add source"})}),M[39]=eu,M[40]=es,M[41]=D,M[42]=J,M[43]=L):L=M[43],M[44]!==L||M[45]!==$||M[46]!==I||M[47]!==F?(H=(0,n.jsxs)(g.B,{gap:"md",children:[$,I,F,L]}),M[44]=L,M[45]=$,M[46]=I,M[47]=F,M[48]=H):H=M[48],M[49]!==eh||M[50]!==H||M[51]!==ex?(V=(0,n.jsx)(eh,{...ex,children:H}),M[49]=eh,M[50]=H,M[51]=ex,M[52]=V):V=M[52],V}},62453:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n=a(6029),r=a(75155),s=a(91758),l=a(9211),o=a(93108);function i(e){let t,a,i,d,m,u,h=(0,r.c)(11);h[0]!==e?({size:a,...t}=e,h[0]=e,h[1]=t,h[2]=a):(t=h[1],a=h[2]);let{data:x}=(0,o.ZY)();h[3]!==x?(i=x?.map(c),h[3]=x,h[4]=i):i=h[4];let p=i;return h[5]===Symbol.for("react.memo_cache_sentinel")?(d={withinPortal:!1},h[5]=d):d=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(s.A,{size:16}),h[6]=m):m=h[6],h[7]!==t||h[8]!==a||h[9]!==p?(u=(0,n.jsx)(l.A,{...t,allowDeselect:!1,data:p,comboboxProps:d,searchable:!0,placeholder:"Connection",leftSection:m,maxDropdownHeight:280,size:a}),h[7]=t,h[8]=a,h[9]=p,h[10]=u):u=h[10],u}function c(e){return{value:e.id,label:e.name}}},64467:(e,t,a)=>{"use strict";a.d(t,{Z:()=>w});var n=a(6029),r=a(75155),s=a(55729),l=a(1909),o=a(66692),i=a(95516),c=a(15215),d=a(36417),m=a(22623),u=a(43517),h=a(63085),x=a(78253),p=a(67747),b=a(95352),f=a(78550),g=a(92917),j=a(52154);let y="150px",S={lineNumbers:!1,foldGutter:!1,highlightActiveLine:!1,highlightActiveLineGutter:!1};function v({tableConnection:e,tableConnections:t,filterField:a,onChange:r,placeholder:l,onLanguageChange:v,language:w,onSubmit:C,error:E,value:N,size:_,label:z,disableKeywordAutocomplete:T,enableHotkey:A,tooltipText:$,additionalSuggestions:k=[],queryHistoryType:I,parentRef:F,allowMultiline:L=!1}){let{colorScheme:H}=(0,d.C)(),{data:V}=(0,f.Sh)((e?[e]:t)??[]),M=(0,s.useMemo)(()=>a?V?.filter(a):V,[V,a]),[D,Z]=(0,g.mk)(I),q=(0,s.useCallback)((e,t,a,n)=>{e.dispatch({changes:{from:t,to:a,insert:n}}),(0,i.N)(e),Z(n),C&&C()},[C,Z]),O=(0,s.useMemo)(()=>()=>({from:0,options:D.map(e=>({label:e,section:"Search History",type:"keyword",apply:(t,a,n,r)=>{q(t,n,r,e)}}))}),[D,q]),[G,B]=(0,s.useState)(!1),R=(0,s.useRef)(null),P=(0,s.useRef)(new b.xx),K=(0,s.useCallback)(e=>{let t=e.state.doc.toString(),a=[...M?.map(e=>e.path.length>1?`${e.path[0]}['${e.path[1]}']`:e.path[0])??[],...k],n=(0,c.ll)({dialect:c.fy.define({keywords:a.join(" ")+(T?"":" AND OR NOT IN LIKE ILIKE BETWEEN ASC DESC intDiv intDivOrZero isNaN moduloOrZero abs empty notEmpty length arrayConcat has hasAll hasAny indexOf arrayCount countEqual arrayUnion arrayIntersect arrayMap arrayFilter arraySort flatten arrayCompact arrayMin arrayMax arraySum arrayAvg if multiIf floor ceiling truncate round timestamp toTimeZone toYear toMonth toWeek toDayOfYear toDayOfMonth toDayOfWeek toUnixTimestamp toTime lower upper substring trim dictGet dictGetOrDefault dictGetOrNull")})}),r=(0,i.yU)({compareCompletions:(e,t)=>0,override:[O]});e.dispatch({effects:P.current.reconfigure(t.length>0?n:r)})},[M,k,O,T]);(0,s.useEffect)(()=>{null!=R.current&&null!=R.current.view&&K(R.current.view)},[K]),(0,o.vC)("/",()=>{A&&R.current?.view?.focus()},{preventDefault:!0},[A]);let Y=(0,s.useMemo)(()=>null==F?[]:[(0,b.vX)({parent:F,tooltipSpace:e=>{let t=e.dom.getBoundingClientRect(),a=F.getBoundingClientRect();return{...t,right:t.right??0,left:a.left??t.left,top:a.top??t.top,bottom:a.bottom??t.bottom}}})],[F]),W=(0,s.useMemo)(()=>[...Y,b.Lz.baseTheme({"&.cm-editor.cm-focused":{outline:"0px solid transparent"},"&.cm-editor":{background:"transparent !important"},".cm-editor-multiline &.cm-editor":{maxHeight:y},"& .cm-tooltip-autocomplete":{whiteSpace:"nowrap",wordWrap:"break-word",maxWidth:"100%",backgroundColor:"var(--color-bg-field) !important",border:"1px solid var(--color-border) !important",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"4px"},"& .cm-tooltip-autocomplete > ul":{fontFamily:"inherit",maxHeight:"300px"},"& .cm-tooltip-autocomplete > ul > li":{padding:"4px 8px",borderRadius:"4px",cursor:"pointer",color:"var(--color-text)"},"& .cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"var(--color-bg-field-highlighted) !important",color:"var(--color-text-muted) !important"},"& .cm-tooltip-autocomplete .cm-completionLabel":{color:"var(--color-text)"},"& .cm-tooltip-autocomplete .cm-completionDetail":{color:"var(--color-text-muted)",fontStyle:"normal",marginLeft:"8px"},"& .cm-tooltip-autocomplete .cm-completionInfo":{backgroundColor:"var(--color-bg-field)",border:"1px solid var(--color-border)",borderRadius:"4px",padding:"8px",color:"var(--color-text)"},"& .cm-completionIcon":{width:"16px",marginRight:"6px",opacity:.7},"& .cm-scroller":{overflowX:"hidden"},".cm-editor-multiline & .cm-scroller":{maxHeight:y,overflowY:"auto"}}),...L?[b.Lz.lineWrapping]:[],P.current.of((0,c.ll)({upperCaseKeywords:!0})),b.Nb.highest(b.w4.of([{key:"Enter",run:e=>null!=C&&(I&&R?.current?.view&&Z(R?.current?.view.state.doc.toString()),C(),!0)},...L?[{key:"Shift-Enter",run:()=>!1}]:[]])),b.w4.of([{key:"Tab",run:i.$w}])],[L,C,I,Z,Y]),X=(0,s.useCallback)(()=>{R?.current?.view&&(0,i.rB)(R.current.view)},[]);return(0,n.jsxs)(m.t,{flex:"auto",shadow:"none",style:{backgroundColor:"var(--color-bg-field)",border:`1px solid ${E?"var(--color-bg-danger)":"var(--color-border)"}`,display:"flex",alignItems:"center",minHeight:"xs"===_?30:36},ps:"4px",children:[null!=z&&(0,n.jsx)(u.E,{mx:"4px",size:"xs",fw:"bold",style:{whiteSpace:"nowrap"},component:"div",children:(0,n.jsx)(h.m,{label:$,disabled:!$,children:(0,n.jsxs)(x.s,{align:"center",gap:2,children:[z,$&&(0,n.jsx)(p.A,{size:20})]})})}),(0,n.jsx)("div",{style:{minWidth:10,width:"100%"},className:L?"cm-editor-multiline":"",children:(0,n.jsx)(b.Ay,{indentWithTab:!1,ref:R,value:N,onChange:r,theme:"dark"===H?"dark":"light",onFocus:(0,s.useCallback)(()=>{B(!0)},[B]),onBlur:(0,s.useCallback)(()=>{B(!1)},[B]),extensions:W,onCreateEditor:K,basicSetup:S,placeholder:l,onClick:X})}),null!=v&&null!=w&&(0,n.jsx)(j.A,{showHotkey:A&&G,language:w,onLanguageChange:v})]})}let w=(0,s.memo)(function(e){let t,a,s,o,i,c,d=(0,r.c)(15);d[0]!==e?({placeholder:s,filterField:a,additionalSuggestions:t,queryHistoryType:i,...o}=e,d[0]=e,d[1]=t,d[2]=a,d[3]=s,d[4]=o,d[5]=i):(t=d[1],a=d[2],s=d[3],o=d[4],i=d[5]);let{field:m,fieldState:u}=(0,l.as)(o),h=m.value||o.defaultValue,x="";"string"==typeof h?x=h:void 0!==h&&console.error("SQLInlineEditor: value is not a string",h);let p=u.error?.message;return d[6]!==t||d[7]!==m.onChange||d[8]!==a||d[9]!==s||d[10]!==o||d[11]!==i||d[12]!==x||d[13]!==p?(c=(0,n.jsx)(v,{filterField:a,onChange:m.onChange,placeholder:s,value:x,error:p,additionalSuggestions:t,queryHistoryType:i,...o}),d[6]=t,d[7]=m.onChange,d[8]=a,d[9]=s,d[10]=o,d[11]=i,d[12]=x,d[13]=p,d[14]=c):c=d[14],c})},71781:(e,t,a)=>{"use strict";a.d(t,{M7:()=>d,aJ:()=>u,mh:()=>h,t4:()=>m});var n=a(6029),r=a(75155);a(55729);var s=a(1909),l=a(59029),o=a(96061),i=a(45544),c=a(47268);function d(e){let t,a,o,i,c,d,m=(0,r.c)(12);return m[0]!==e?({name:a,control:t,rules:i,...o}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=o,m[4]=i):(t=m[1],a=m[2],o=m[3],i=m[4]),m[5]!==o?(c=e=>{let{field:t,fieldState:a}=e,{error:r}=a;return(0,n.jsx)(l.k,{...o,...t,error:r?.message})},m[5]=o,m[6]=c):c=m[6],m[7]!==t||m[8]!==a||m[9]!==i||m[10]!==c?(d=(0,n.jsx)(s.xI,{name:a,control:t,rules:i,render:c}),m[7]=t,m[8]=a,m[9]=i,m[10]=c,m[11]=d):d=m[11],d}function m(e){let t,a,l,i,c,d,m=(0,r.c)(12);return m[0]!==e?({name:a,control:t,rules:i,...l}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=l,m[4]=i):(t=m[1],a=m[2],l=m[3],i=m[4]),m[5]!==l?(c=e=>{let{field:t,fieldState:a}=e,{error:r}=a;return(0,n.jsx)(o.p,{...l,...t,error:r?.message})},m[5]=l,m[6]=c):c=m[6],m[7]!==t||m[8]!==a||m[9]!==i||m[10]!==c?(d=(0,n.jsx)(s.xI,{name:a,control:t,rules:i,render:c}),m[7]=t,m[8]=a,m[9]=i,m[10]=c,m[11]=d):d=m[11],d}function u(e){let t,a,l,o,c,d,m=(0,r.c)(12);return m[0]!==e?({name:a,control:t,rules:o,...l}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=l,m[4]=o):(t=m[1],a=m[2],l=m[3],o=m[4]),m[5]!==l?(c=e=>{let{field:t,fieldState:a}=e,{error:r}=a;return(0,n.jsx)(i.y,{...l,...t,error:r?.message})},m[5]=l,m[6]=c):c=m[6],m[7]!==t||m[8]!==a||m[9]!==o||m[10]!==c?(d=(0,n.jsx)(s.xI,{name:a,control:t,rules:o,render:c}),m[7]=t,m[8]=a,m[9]=o,m[10]=c,m[11]=d):d=m[11],d}function h(e){let t,a,l,o,i,d,m=(0,r.c)(12);return m[0]!==e?({name:a,control:t,rules:o,...l}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=l,m[4]=o):(t=m[1],a=m[2],l=m[3],o=m[4]),m[5]!==l?(i=e=>{let{field:t,fieldState:a}=e,{value:r,...s}=t,{error:o}=a;return(0,n.jsx)(c.S,{...l,...s,checked:r,error:o?.message})},m[5]=l,m[6]=i):i=m[6],m[7]!==t||m[8]!==a||m[9]!==o||m[10]!==i?(d=(0,n.jsx)(s.xI,{name:a,control:t,rules:o,render:i}),m[7]=t,m[8]=a,m[9]=o,m[10]=i,m[11]=d):d=m[11],d}},76326:e=>{e.exports={sourcesCard:"Sources_sourcesCard__m5aMQ"}},86761:(e,t,a)=>{"use strict";a.d(t,{A:()=>j});var n=a(6029),r=a(75155),s=a(55729),l=a(82641),o=a(43517),i=a(63085),c=a(22623),d=a(27166),m=a(64488),u=a(6620),h=a(94502),x=a(78550),p=a(88339);let b=e=>{let t,a,s,l=(0,r.c)(11),{onClick:c,isEnabled:d,tableCount:m,iconStyles:h,variant:x}=e,p=void 0===x?"icon":x,b=d?m>1?"Show Table Schemas":"Show Table Schema":"Select a table to view its schema";return l[0]!==d||l[1]!==c?(t=()=>d&&c(),l[0]=d,l[1]=c,l[2]=t):t=l[2],l[3]!==h||l[4]!==d||l[5]!==p?(a="text"===p?(0,n.jsx)(o.E,{fw:500,size:"xs",className:"text-sucess-hover",style:{cursor:d?"pointer":"default",...h},children:"Schema"}):(0,n.jsx)(u.A,{size:16}),l[3]=h,l[4]=d,l[5]=p,l[6]=a):a=l[6],l[7]!==t||l[8]!==a||l[9]!==b?(s=(0,n.jsx)(i.m,{label:b,color:"dark",position:"right",onClick:t,children:a}),l[7]=t,l[8]=a,l[9]=b,l[10]=s):s=l[10],s},f=e=>{let t,a,s,l=(0,r.c)(8),{databaseName:o,tableName:i,connectionId:d}=e;l[0]!==d||l[1]!==o||l[2]!==i?(t={databaseName:o,tableName:i,connectionId:d},l[0]=d,l[1]=o,l[2]=i,l[3]=t):t=l[3];let{data:m,isLoading:u}=(0,x.Z2)(t);return l[4]===Symbol.for("react.memo_cache_sentinel")?(a={overflow:"hidden"},l[4]=a):a=l[4],l[5]!==m?.create_table_query||l[6]!==u?(s=(0,n.jsx)(c.t,{flex:"auto",shadow:"none",radius:"sm",p:"xs",style:a,children:u?(0,n.jsx)("div",{className:"d-inline-block",children:(0,n.jsx)(h.A,{className:"spin-animate"})}):(0,n.jsx)(p.V,{data:m?.create_table_query??"Schema is not available",enableCopy:!!m?.create_table_query,copyButtonSize:"xs"})}),l[5]=m?.create_table_query,l[6]=u,l[7]=s):s=l[7],s},g={[l.SX.Sum]:"Sum",[l.SX.Gauge]:"Gauge",[l.SX.Histogram]:"Histogram",[l.SX.Summary]:"Summary",[l.SX.ExponentialHistogram]:"Exponential Histogram"},j=e=>{let t,a,o,i,c,u=(0,r.c)(34),{source:h,iconStyles:x,variant:p}=e,f=void 0===p?"icon":p,[j,w]=(0,s.useState)(!1),C=h?.kind==="metric";if(u[0]!==C||u[1]!==h){let e,a;if(t=[],h&&C){let e,a,n;u[3]===Symbol.for("react.memo_cache_sentinel")?(e=Object.values(l.SX),u[3]=e):e=u[3],u[4]!==h?(a=e.map(e=>({metricType:e,tableName:h.metricTables?.[e]})).filter(y),u[4]=h,u[5]=a):a=u[5],u[6]!==h||u[7]!==a?(n=a.map(e=>{let{metricType:t,tableName:a}=e;return{databaseName:h.from.databaseName,tableName:a,connectionId:h.connection,title:g[t]}}),u[6]=h,u[7]=a,u[8]=n):n=u[8],t.push(...n)}else if(h&&h.from.tableName){let e,a=h.name??h.from.tableName;u[9]!==h.connection||u[10]!==h.from.databaseName||u[11]!==h.from.tableName||u[12]!==a?(e={databaseName:h.from.databaseName,tableName:h.from.tableName,connectionId:h.connection,title:a},u[9]=h.connection,u[10]=h.from.databaseName,u[11]=h.from.tableName,u[12]=a,u[13]=e):e=u[13],t.push(e)}u[14]!==h?.materializedViews?(e=h?.materializedViews??[],u[14]=h?.materializedViews,u[15]=e):e=u[15];let n=e;if(u[16]!==n||u[17]!==h){let e;u[19]!==h?(e=e=>{let{tableName:t,databaseName:a}=e;return{databaseName:a,tableName:t,connectionId:h.connection,title:`${t} (MV)`}},u[19]=h,u[20]=e):e=u[20],a=n.map(e),u[16]=n,u[17]=h,u[18]=a}else a=u[18];t.push(...a),u[0]=C,u[1]=h,u[2]=t}else t=u[2];let E=!!h&&t.length>0;return u[21]===Symbol.for("react.memo_cache_sentinel")?(a=()=>w(!0),u[21]=a):a=u[21],u[22]!==x||u[23]!==E||u[24]!==t.length||u[25]!==f?(o=(0,n.jsx)(b,{isEnabled:E,onClick:a,iconStyles:x,tableCount:t.length,variant:f}),u[22]=x,u[23]=E,u[24]=t.length,u[25]=f,u[26]=o):o=u[26],u[27]!==E||u[28]!==j||u[29]!==t?(i=E&&(0,n.jsx)(d.a,{opened:j,onClose:()=>w(!1),size:"auto",title:t.length>1?"Table Schemas":"Table Schema",children:(0,n.jsxs)(m.t,{defaultValue:`${t[0]?.databaseName}.${t[0]?.tableName}.${t[0]?.title}`,children:[(0,n.jsx)(m.t.List,{children:t.map(S)}),t.map(v)]})}),u[27]=E,u[28]=j,u[29]=t,u[30]=i):i=u[30],u[31]!==o||u[32]!==i?(c=(0,n.jsxs)(n.Fragment,{children:[o,i]}),u[31]=o,u[32]=i,u[33]=c):c=u[33],c};function y(e){let{tableName:t}=e;return!!t}function S(e){return(0,n.jsx)(m.t.Tab,{value:`${e.databaseName}.${e.tableName}.${e.title}`,children:e.title},`${e.databaseName}.${e.tableName}.${e.title}`)}function v(e){return(0,n.jsx)(m.t.Panel,{value:`${e.databaseName}.${e.tableName}.${e.title}`,pt:"sm",children:(0,n.jsx)(f,{...e})},`${e.databaseName}.${e.tableName}.${e.title}`)}}}]);