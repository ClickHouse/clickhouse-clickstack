(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3819],{9211:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(6029),n=t(75155),r=t(1909),i=t(38206);function l(e){let s,t,l,o,c,d=(0,n.c)(16),{field:m,fieldState:h}=(0,r.as)(e),{value:u,onChange:x,onBlur:p,name:g,ref:y}=m;d[0]!==e?({onCreate:s,allowDeselect:l,...t}=e,d[0]=e,d[1]=s,d[2]=t,d[3]=l):(s=d[1],t=d[2],l=d[3]);let j=void 0===l||l,f=e.data?.find(e=>"string"==typeof e?e===u:!("value"in e)||e.value===u);d[4]!==j||d[5]!==x||d[6]!==s?(o=e=>{"_create_new_value"===e&&null!=s?s():(null!==e||j)&&x(e)},d[4]=j,d[5]=x,d[6]=s,d[7]=o):o=d[7];let v=o,b=h.error?.message,w=null==f?null:u;return d[8]!==g||d[9]!==p||d[10]!==y||d[11]!==v||d[12]!==t||d[13]!==b||d[14]!==w?(c=(0,a.jsx)(i.l,{...t,error:b,value:w,onChange:v,onBlur:p,name:g,ref:y}),d[8]=g,d[9]=p,d[10]=y,d[11]=v,d[12]=t,d[13]=b,d[14]=w,d[15]=c):c=d[15],c}},17513:(e,s,t)=>{"use strict";t.d(s,{WD:()=>h,dG:()=>m,w7:()=>u,cm:()=>x});var a=t(6029);t(55729);var n=t(82641),r=t(51058),i=t(56795),l=t(75155);function o(e){let s,t,n,r,i=(0,l.c)(6),{style:o,width:c}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("title",{children:"Incident.io"}),i[0]=s):s=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("g",{clipPath:"url(#clip0_1361_12546)",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.7336 139.642V163C20.7585 156.323 0 131.711 0 102.372C0 85.4557 7.15792 72.0354 18.1053 58.8703C27.1831 47.9534 49.5985 19.0426 56.6543 3.08954C58.3673 -0.783473 62.7348 -0.633805 64.6182 1.44721C70.6432 8.10421 78.0694 22.6432 80.4983 39.135C80.9932 42.4953 81.1969 45.2388 81.3587 47.4184C81.706 52.0954 81.8604 54.1748 84.2854 54.1748C88.0955 54.1748 90.588 48.3977 91.1358 42.4345C91.4869 38.6136 95.2774 37.3346 97.8914 38.6136C110.463 44.7644 123.292 74.0426 126.393 88.4102C127.366 92.9158 128 97.5719 128 102.372C128 131.646 107.335 156.214 79.4537 162.955V139.642H48.7336ZM64.0002 130.333C73.8316 130.333 81.8016 122.789 81.8016 113.483C81.8016 98.6407 70.8577 88.0345 65.4048 84.8105C65.0364 84.5928 64.8523 84.4839 64.3512 84.4974C63.9843 84.5073 63.4429 84.7369 63.181 84.9935C62.8232 85.3441 62.7283 85.743 62.5387 86.5409C61.5721 90.6065 58.5292 93.5054 55.327 96.556C50.9141 100.76 46.1988 105.252 46.1988 113.483C46.1988 122.789 54.1688 130.333 64.0002 130.333Z",fill:"currentColor"})}),i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1361_12546",children:(0,a.jsx)("rect",{width:"128",height:"163",fill:"white"})})}),i[2]=n):n=i[2],i[3]!==o||i[4]!==c?(r=(0,a.jsxs)("svg",{width:c,height:c,viewBox:"0 0 128 163",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid",style:o,children:[s,t,n]}),i[3]=o,i[4]=c,i[5]=r):r=i[5],r}let c={[n.x.Slack]:{name:"Slack",icon:(0,a.jsx)(r.A,{size:16}),order:1},[n.x.IncidentIO]:{name:"incident.io",icon:(0,a.jsx)(o,{width:16}),order:4},[n.x.Generic]:{name:"Generic",icon:(0,a.jsx)(i.A,{size:16}),order:5}},d={[n.x.Generic]:(0,a.jsx)(i.A,{size:16}),[n.x.Slack]:(0,a.jsx)(r.A,{size:16}),[n.x.IncidentIO]:(0,a.jsx)(o,{width:16})},m=e=>{if(e)return c[e]},h=e=>e&&d[e]||d[n.x.Generic],u=e=>{let s=m(e);return s?.name||e||"Unknown"},x=e=>Object.entries(e.reduce((e,s)=>{let t=s.service;return e[t]||(e[t]=[]),e[t].push(s),e},{})).sort(([e],[s])=>(c[e]?.order||999)-(c[s]?.order||999))},18205:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},21587:(e,s,t)=>{"use strict";t.d(s,{z:()=>l});var a=t(6029),n=t(75155),r=t(58525),i=t.n(r);let l=e=>{let s,t=(0,n.c)(2),{children:r}=e;return t[0]!==r?(s=(0,a.jsxs)("div",{className:i().header,children:[" ",r]}),t[0]=r,t[1]=s):s=t[1],s}},28797:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},32963:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("filled","info-circle-filled","IconInfoCircleFilled",[["path",{d:"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",key:"svg-0"}]])},39090:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]])},51058:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("outline","brand-slack","IconBrandSlack",[["path",{d:"M12 12v-6a2 2 0 0 1 4 0v6m0 -2a2 2 0 1 1 2 2h-6",key:"svg-0"}],["path",{d:"M12 12h6a2 2 0 0 1 0 4h-6m2 0a2 2 0 1 1 -2 2v-6",key:"svg-1"}],["path",{d:"M12 12v6a2 2 0 0 1 -4 0v-6m0 2a2 2 0 1 1 -2 -2h6",key:"svg-2"}],["path",{d:"M12 12h-6a2 2 0 0 1 0 -4h6m-2 0a2 2 0 1 1 2 -2v6",key:"svg-3"}]])},57478:(e,s,t)=>{"use strict";t.d(s,{J:()=>x,W:()=>y});var a=t(6029),n=t(75155),r=t(55729),i=t(8737),l=t(48259),o=t(17283),c=t(9211),d=t(98142),m=t(81973),h=t(89011),u=t.n(h);let x=({sourceSchemaPreview:e})=>e?{rightSection:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.N,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:u().sourceSchemaPreviewButton,children:e}),(0,a.jsx)(l.l,{})]}),rightSectionWidth:70}:{rightSection:(0,a.jsx)(l.l,{})};function p(e,s){return e.label.localeCompare(s.label)}function g(e){return{value:e.id,label:e.name}}let y=(0,r.memo)(function(e){let s,t,r,i,l,h,u,y,j,f,v,b=(0,n.c)(25);b[0]!==e?({size:l,onCreate:r,allowedSourceKinds:s,comboboxProps:t,sourceSchemaPreview:h,...i}=e,b[0]=e,b[1]=s,b[2]=t,b[3]=r,b[4]=i,b[5]=l,b[6]=h):(s=b[1],t=b[2],r=b[3],i=b[4],l=b[5],h=b[6]);let{data:w}=(0,m.oE)(),S=!!d.m6;if(b[7]!==s||b[8]!==w||b[9]!==r){let e;b[11]!==r?(e=r&&!S?[{value:"_create_new_value",label:"Create New Source"}]:[],b[11]=r,b[12]=e):e=b[12],u=[...(w?.filter(e=>!s||s.includes(e.kind)).map(g)??[]).sort(p),...e],b[7]=s,b[8]=w,b[9]=r,b[10]=u}else u=b[10];let k=u;b[13]!==h?(y=x({sourceSchemaPreview:h}),b[13]=h,b[14]=y):y=b[14];let O=y;return b[15]!==t?(j={withinPortal:!1,...t},b[15]=t,b[16]=j):j=b[16],b[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(o.A,{size:16}),b[17]=f):f=b[17],b[18]!==r||b[19]!==i||b[20]!==O||b[21]!==l||b[22]!==j||b[23]!==k?(v=(0,a.jsx)(c.A,{...i,data:k,comboboxProps:j,searchable:!0,placeholder:"Data Source",leftSection:f,maxDropdownHeight:280,size:l,onCreate:r,...O}),b[18]=r,b[19]=i,b[20]=O,b[21]=l,b[22]=j,b[23]=k,b[24]=v):v=b[24],v})},58525:e=>{e.exports={header:"PageHeader_header__Rc2pT"}},58541:(e,s,t)=>{"use strict";t.d(s,{g:()=>C});var a=t(6029),n=t(55729),r=t(11335),i=t(1909),l=t(59589),o=t(29135),c=t(82641),d=t(92495),m=t(34834),h=t(43517),u=t(18341),x=t(3635),p=t(59029),g=t(39603),y=t(25062),j=t(60665),f=t(32963),v=t(95352),b=t(6876),w=t(92917);let S=["{{title}}","{{body}}","{{link}}","{{state}}","{{startTime}}","{{endTime}}","{{eventId}}"],k=S.join(" | "),O=()=>e=>""===e.state.doc.toString().trim()?[]:(0,l.cp)()(e);function C({webhook:e,onClose:s,onSuccess:t}){let C=b.Ay.useSaveWebhook(),_=b.Ay.useUpdateWebhook(),X=b.Ay.useTestWebhook(),P=null!=e,A=(0,i.mN)({defaultValues:{service:e?.service||c.x.Slack,name:e?.name||"",url:e?.url||"",description:e?.description||"",body:e?.body||"",headers:e?.headers?JSON.stringify(e.headers,null,2):""}});(0,n.useEffect)(()=>{e&&A.reset({service:e.service,name:e.name,url:e.url,description:e.description,body:e.body,headers:e.headers?JSON.stringify(e.headers,null,2):""},{})},[e,A]);let $=async e=>{let s,{service:t,url:a,body:n,headers:i}=e;if(i&&i.trim())try{s=JSON.parse(i)}catch(s){let e=s instanceof Error?s.message:"Invalid JSON format";j.$e.show({message:`Invalid JSON in headers: ${e}`,color:"red",autoClose:5e3});return}let l=n;n||(t===c.x.Generic?l=`{"text": "${k}"}`:t===c.x.IncidentIO&&(l=`{
  "title": "{{title}}",
  "description": "{{body}}",
  "deduplication_key": "{{eventId}}",
  "status": "{{#if (eq state "${c.Or.ALERT}")}}firing{{else}}resolved{{/if}}",
  "source_url": "{{link}}"
}`));try{await X.mutateAsync({service:t,url:a,body:l,headers:s}),j.$e.show({color:"green",message:"Test webhook sent successfully"})}catch(s){console.error(s);let e="Failed to send test webhook. Please check your webhook configuration.";if(s instanceof r.H)try{let t=await s.response.json();t.message&&(e=t.message)}catch(e){console.error("Failed to parse error response:",e)}j.$e.show({message:e,color:"red",autoClose:5e3})}},z=async a=>{let{service:n,name:i,url:l,description:o,body:d,headers:m}=a;try{let a;if(m&&m.trim())try{a=JSON.parse(m)}catch(s){let e=s instanceof Error?s.message:"Invalid JSON format";j.$e.show({message:`Invalid JSON in headers: ${e}`,color:"red",autoClose:5e3});return}let r=d;d||(n===c.x.Generic?r=`{"text": "${k}"}`:n===c.x.IncidentIO&&(r=`{
  "title": "{{title}}",
  "description": "{{body}}",
  "deduplication_key": "{{eventId}}",
  "status": "{{#if (eq state "${c.Or.ALERT}")}}firing{{else}}resolved{{/if}}",
  "source_url": "{{link}}"
}`));let h={service:n,name:i,url:l,description:o||"",body:r,headers:a},u=P?await _.mutateAsync({id:e._id,...h}):await C.mutateAsync(h);j.$e.show({color:"green",message:`Webhook ${P?"updated":"created"} successfully`}),t(u.data?._id),s()}catch(s){console.error(s);let e="Something went wrong. Please contact HyperDX team.";if(s instanceof r.H)try{let t=await s.response.json();if(t.error?.issues&&Array.isArray(t.error.issues)){let s=t.error.issues.map(e=>{let s=e.path.join(".");return`${s}: ${e.message}`}).join(", ");e=`Validation error: ${s}`}else e=t.message?t.message:JSON.stringify(t)}catch(e){console.error("Failed to parse error response:",e)}j.$e.show({message:e,color:"red",autoClose:5e3})}},T=(0,i.FH)({control:A.control,name:"service"});return(0,a.jsx)("form",{onSubmit:A.handleSubmit(z),children:(0,a.jsxs)(m.B,{mt:"sm",children:[(0,a.jsx)(h.E,{children:P?"Edit Webhook":"Create Webhook"}),(0,a.jsx)(u.s.Group,{label:"Service Type",required:!0,value:T,onChange:e=>A.setValue("service",e),children:(0,a.jsxs)(x.Y,{mt:"xs",children:[(0,a.jsx)(u.s,{value:c.x.Slack,label:"Slack"}),(0,a.jsx)(u.s,{value:c.x.IncidentIO,label:"incident.io"}),(0,a.jsx)(u.s,{value:c.x.Generic,label:"Generic"})]})}),(0,a.jsx)(p.k,{label:"Webhook Name",placeholder:"Post to #dev-alerts",required:!0,error:A.formState.errors.name?.message,...A.register("name",{required:!0})}),(0,a.jsx)(p.k,{label:"Webhook URL",placeholder:T===c.x.Slack?"https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX":T===c.x.IncidentIO?"https://api.incident.io/v2/alert_events/http/ZZZZZZZZ?token=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX":"https://example.com/webhook",type:"url",required:!0,error:A.formState.errors.url?.message,...A.register("url",{required:!0,validate:(e,s)=>s.service===c.x.Slack?(0,d.AB)(e)||"URL must be valid and have a slack.com domain":(0,w.AY)(e)||"URL must be valid"})}),(0,a.jsx)(p.k,{label:"Webhook Description (optional)",placeholder:"To be used for dev alerts",error:A.formState.errors.description?.message,...A.register("description")}),T===c.x.Generic&&[(0,a.jsx)("label",{className:".mantine-TextInput-label",children:"Webhook Headers (optional)"},"1"),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(i.xI,{name:"headers",control:A.control,render:({field:e})=>(0,a.jsx)(v.Ay,{height:"100px",extensions:[(0,l.Pq)(),(0,o.bu)(O()),(0,v.qf)(`{
	"Authorization": "Bearer token",
	"X-Custom-Header": "value"
}`)],theme:"dark",value:e.value,onChange:s=>e.onChange(s)})})},"2"),(0,a.jsx)("label",{className:".mantine-TextInput-label",children:"Webhook Body (optional)"},"3"),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(i.xI,{name:"body",control:A.control,render:({field:e})=>(0,a.jsx)(v.Ay,{height:"100px",extensions:[(0,l.Pq)(),(0,o.bu)(O()),(0,v.qf)(`{
	"text": "${k}"
}`)],theme:"dark",value:e.value,onChange:s=>e.onChange(s)})})},"4"),(0,a.jsxs)(g.F,{icon:(0,a.jsx)(f.A,{size:16}),className:"mb-4",color:"gray",children:[(0,a.jsx)("span",{children:"Currently the body supports the following message template variables:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:S.map((e,s)=>(0,a.jsxs)("span",{children:[(0,a.jsx)("code",{children:e}),s<S.length-1&&", "]},s))})]},"5")],(0,a.jsxs)(x.Y,{justify:"space-between",children:[(0,a.jsxs)(x.Y,{children:[(0,a.jsx)(y.$,{variant:"primary",type:"submit",loading:C.isPending||_.isPending,children:P?"Update Webhook":"Add Webhook"}),(0,a.jsx)(y.$,{variant:"secondary",onClick:A.handleSubmit($),loading:X.isPending,type:"button",children:"Test Webhook"})]}),(0,a.jsx)(y.$,{variant:"secondary",onClick:s,type:"reset",children:"Cancel"})]})]})})}},59589:(e,s,t)=>{"use strict";t.d(s,{Pq:()=>d,cp:()=>o});var a=t(81422),n=t(55584);let r=(0,n.pn)({String:n._A.string,Number:n._A.number,"True False":n._A.bool,PropertyName:n._A.propertyName,Null:n._A.null,",":n._A.separator,"[ ]":n._A.squareBracket,"{ }":n._A.brace}),i=a.U1.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"âš  JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[r],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var l=t(26374);let o=()=>e=>{try{JSON.parse(e.state.doc.toString())}catch(r){var s,t;let a;if(!(r instanceof SyntaxError))throw r;let n=(s=r,t=e.state.doc,(a=s.message.match(/at position (\d+)/))?Math.min(+a[1],t.length):(a=s.message.match(/at line (\d+) column (\d+)/))?Math.min(t.line(+a[1]).from+ +a[2]-1,t.length):0);return[{from:n,message:r.message,severity:"error",to:n}]}return[]},c=l.bj.define({name:"json",parser:i.configure({props:[l.Oh.add({Object:(0,l.mz)({except:/^\s*\}/}),Array:(0,l.mz)({except:/^\s*\]/})}),l.b_.add({"Object Array":l.yd})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function d(){return new l.Yy(c)}},69246:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eC});var a=t(6029),n=t(75155),r=t(55729),i=t(95669),l=t.n(i),o=t(65234),c=t.n(o),d=t(1909),m=t(3145),h=t(43517),u=t(92789),x=t(60481),p=t(78253),g=t(34834),y=t(25062),j=t(62801),f=t(3635),v=t(59029),b=t(52502),w=t(63085),S=t(27166),k=t(53061),O=t(94720),C=t(83171),_=t(60665),X=t(6892),P=t(74011),A=t(97702),$=t(90515),z=t(74805),T=t(43567),N=t(9211),E=t(54970),I=t(98142),Q=t(21587),R=t(11335),M=t(11088),D=t(43085),W=(0,t(41495).A)("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]),Y=t(39090),B=t(6876);function Z(){let e,s,t,i,l,o,d,m,p,v,b,w,k,O,C,X,P,A,$,z,T,N,E=(0,n.c)(60);B.Ay.useTeam();let{data:I,isLoading:Q,refetch:R}=B.Ay.useTeamMembers(),{data:Z,isLoading:q,refetch:H}=B.Ay.useTeamInvitations(),L=e=>{let{email:s}=e;ei(s),et(!1)};E[0]===Symbol.for("react.memo_cache_sentinel")?(e={mode:null,id:null,email:null},E[0]=e):e=E[0];let[G,F]=(0,r.useState)(e),[J,es]=(0,r.useState)(!1),et=es,ea=B.Ay.useSaveTeamInvitation(),en=B.Ay.useDeleteTeamMember(),er=B.Ay.useDeleteTeamInvitation(),ei=e=>{e&&ea.mutate({email:e},{onSuccess:()=>{_.$e.show({color:"green",message:'Click "Copy URL" and share the URL with your team member'}),H()},onError:K})};if(E[1]!==er||E[2]!==en||E[3]!==G.mode||E[4]!==H||E[5]!==R||E[6]!==F){s=s=>{"team"===G.mode?t(s):"teamInvite"===G.mode&&e(s),F({mode:null,id:null,email:null})};let e=e=>{e&&er.mutate({id:encodeURIComponent(e)},{onSuccess:()=>{_.$e.show({color:"green",message:"Deleted team invite"}),H()},onError:U})},t=e=>{e&&en.mutate({userId:encodeURIComponent(e)},{onSuccess:()=>{_.$e.show({color:"green",message:"Deleted team member"}),R()},onError:V})};E[1]=er,E[2]=en,E[3]=G.mode,E[4]=H,E[5]=R,E[6]=F,E[7]=s}else s=E[7];E[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(h.E,{size:"md",children:"Team"}),i=(0,a.jsx)(u.c,{my:"md"}),E[8]=t,E[9]=i):(t=E[8],i=E[9]),E[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("div",{className:"fs-7",children:"Team Members"}),E[10]=l):l=E[10],E[11]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(W,{size:16}),E[11]=o):o=E[11],E[12]!==et?(d=(0,a.jsx)(j.Z.Section,{withBorder:!0,py:"sm",px:"lg",children:(0,a.jsxs)(f.Y,{align:"center",justify:"space-between",children:[l,(0,a.jsx)(y.$,{variant:"primary",leftSection:o,onClick:()=>et(!0),children:"Invite Team Member"})]})}),E[12]=et,E[13]=d):d=E[13],E[14]!==Q||E[15]!==I?.data||E[16]!==F?(m=!Q&&Array.isArray(I?.data)&&I?.data.map(e=>(0,a.jsxs)(M.X.Tr,{children:[(0,a.jsxs)(M.X.Td,{children:[(0,a.jsxs)("div",{children:[e.isCurrentUser&&(0,a.jsx)(D.E,{variant:"light",mr:"xs",tt:"none",children:"You"}),(0,a.jsx)("span",{className:"text-white fw-bold fs-7",children:e.name})]}),(0,a.jsxs)(f.Y,{mt:4,fz:"xs",children:[(0,a.jsx)("div",{children:e.email}),e.hasPasswordAuth&&(0,a.jsxs)("div",{children:[(0,a.jsx)(Y.A,{size:14})," Password Auth"]})]})]}),(0,a.jsx)(M.X.Td,{children:e.groupName&&(0,a.jsx)(D.E,{variant:"light",color:"green",fw:"normal",tt:"none",children:e.groupName})}),(0,a.jsx)(M.X.Td,{style:{textAlign:"right"},children:!e.isCurrentUser&&(0,a.jsx)(f.Y,{justify:"flex-end",gap:"8",children:(0,a.jsx)(y.$,{size:"compact-sm",variant:"danger",onClick:()=>F({mode:"team",id:e._id,email:e.email}),children:"Remove"})})})]},e.email)),E[14]=Q,E[15]=I?.data,E[16]=F,E[17]=m):m=E[17],E[18]!==Z||E[19]!==q||E[20]!==F?(p=!q&&Array.isArray(Z.data)&&Z.data.map(e=>(0,a.jsxs)(M.X.Tr,{className:"mt-2",children:[(0,a.jsx)(M.X.Td,{children:(0,a.jsx)("span",{className:"text-white fw-bold fs-7",children:e.email})}),(0,a.jsxs)(M.X.Td,{children:[(0,a.jsx)(D.E,{variant:"dot",color:"gray",fw:"normal",tt:"none",children:"Pending Invite"}),(0,a.jsx)(c(),{text:e.url,children:(0,a.jsx)(y.$,{size:"compact-xs",variant:"secondary",ml:"xs",children:"\uD83D\uDCCB Copy URL"})})]}),(0,a.jsx)(M.X.Td,{style:{textAlign:"right"},children:(0,a.jsx)(f.Y,{justify:"flex-end",gap:"8",children:(0,a.jsx)(y.$,{size:"compact-sm",variant:"danger",onClick:()=>F({mode:"teamInvite",id:e._id,email:e.email}),children:"Delete"})})})]},e.email)),E[18]=Z,E[19]=q,E[20]=F,E[21]=p):p=E[21],E[22]!==m||E[23]!==p?(v=(0,a.jsx)(j.Z.Section,{children:(0,a.jsx)(M.X,{horizontalSpacing:"lg",verticalSpacing:"xs",children:(0,a.jsxs)(M.X.Tbody,{children:[m,p]})})}),E[22]=m,E[23]=p,E[24]=v):v=E[24],E[25]!==v||E[26]!==d?(b=(0,a.jsxs)(j.Z,{children:[d,v]}),E[25]=v,E[26]=d,E[27]=b):b=E[27],E[28]!==et?(w=()=>et(!1),E[28]=et,E[29]=w):w=E[29],E[30]!==L||E[31]!==ea.isPending?(k=(0,a.jsx)(ee,{onSubmit:L,isSubmitting:ea.isPending}),E[30]=L,E[31]=ea.isPending,E[32]=k):k=E[32],E[33]!==w||E[34]!==k||E[35]!==J?(O=(0,a.jsx)(S.a,{centered:!0,onClose:w,opened:J,title:"Invite Team Member",children:k}),E[33]=w,E[34]=k,E[35]=J,E[36]=O):O=E[36],E[37]!==F?(C=()=>F({mode:null,id:null,email:null}),E[37]=F,E[38]=C):C=E[38];let el=null!=G.id;return E[39]!==G.email?(X=(0,a.jsxs)(h.E,{children:["Deleting this team member (",G.email,") will revoke their access to the team's resources and services. This action is not reversible."]}),E[39]=G.email,E[40]=X):X=E[40],E[41]!==F?(P=(0,a.jsx)(y.$,{variant:"secondary",onClick:()=>F({mode:null,id:null,email:null}),children:"Cancel"}),E[41]=F,E[42]=P):P=E[42],E[43]!==G.id||E[44]!==s?(A=(0,a.jsx)(y.$,{variant:"danger",onClick:()=>G.id&&s(G.id),children:"Confirm"}),E[43]=G.id,E[44]=s,E[45]=A):A=E[45],E[46]!==P||E[47]!==A?($=(0,a.jsxs)(f.Y,{justify:"flex-end",gap:"xs",children:[P,A]}),E[46]=P,E[47]=A,E[48]=$):$=E[48],E[49]!==X||E[50]!==$?(z=(0,a.jsxs)(g.B,{children:[X,$]}),E[49]=X,E[50]=$,E[51]=z):z=E[51],E[52]!==C||E[53]!==el||E[54]!==z?(T=(0,a.jsx)(S.a,{centered:!0,onClose:C,opened:el,size:"lg",title:"Delete Team Member",children:z}),E[52]=C,E[53]=el,E[54]=z,E[55]=T):T=E[55],E[56]!==b||E[57]!==O||E[58]!==T?(N=(0,a.jsxs)(x.a,{id:"team_members",children:[t,i,b,O,T]}),E[56]=b,E[57]=O,E[58]=T,E[59]=N):N=E[59],N}function V(e){e instanceof R.H?e.response.json().then(H).catch(q):_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function q(){_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function H(e){_.$e.show({color:"red",message:e.message,autoClose:5e3})}function U(e){e instanceof R.H?e.response.json().then(G).catch(L):_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function L(){_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function G(e){_.$e.show({color:"red",message:e.message,autoClose:5e3})}function K(e){e instanceof R.H?e.response.json().then(J).catch(F):_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function F(){_.$e.show({color:"red",message:"Something went wrong. Please contact HyperDX team.",autoClose:5e3})}function J(e){_.$e.show({color:"red",message:e.message,autoClose:5e3})}function ee(e){let s,t,i,l,o,c,d,m=(0,n.c)(15),{isSubmitting:h,onSubmit:u}=e,[x,p]=(0,r.useState)("");m[0]!==x||m[1]!==u?(s=e=>{u({email:x}),e.preventDefault()},m[0]=x,m[1]=u,m[2]=s):s=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(t=e=>p(e.target.value),m[3]=t):t=m[3],m[4]!==x?(i=(0,a.jsx)(v.k,{label:"Email",name:"email",type:"email",value:x,onChange:t,required:!0,placeholder:"you@company.com",withAsterisk:!1}),m[4]=x,m[5]=i):i=m[5],m[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("div",{className:"fs-8",children:"The invite link will automatically expire after 30 days."}),m[6]=l):l=m[6];let j=!x||h;return m[7]!==j?(o=(0,a.jsx)(y.$,{variant:"primary",type:"submit",disabled:j,children:"Send Invite"}),m[7]=j,m[8]=o):o=m[8],m[9]!==i||m[10]!==o?(c=(0,a.jsxs)(g.B,{children:[i,l,o]}),m[9]=i,m[10]=o,m[11]=c):c=m[11],m[12]!==s||m[13]!==c?(d=(0,a.jsx)("form",{onSubmit:s,children:c}),m[12]=s,m[13]=c,m[14]=d):d=m[14],d}var es=t(82641),et=t(92556),ea=t(78341),en=t(46197),er=t(17513),ei=t(58541);function el(e){let s,t,r=(0,n.c)(9),{webhookId:i,webhookName:l,onSuccess:o}=e,c=(0,en.S)(),d=B.Ay.useDeleteWebhook();r[0]!==c||r[1]!==d||r[2]!==o||r[3]!==i||r[4]!==l?(s=async()=>{if(await c(`Are you sure you want to delete ${l} webhook?`,"Delete",{variant:"danger"}))try{await d.mutateAsync({id:i}),_.$e.show({color:"green",message:"Webhook deleted successfully"}),o()}catch(s){console.error(s);let e=(s instanceof R.H?(await s.response.json())?.message:null)||"Something went wrong. Please contact HyperDX team.";_.$e.show({message:e,color:"red",autoClose:5e3})}},r[0]=c,r[1]=d,r[2]=o,r[3]=i,r[4]=l,r[5]=s):s=r[5];let m=s;return r[6]!==d.isPending||r[7]!==m?(t=(0,a.jsx)(y.$,{size:"compact-xs",variant:"danger",onClick:m,loading:d.isPending,children:"Delete"}),r[6]=d.isPending,r[7]=m,r[8]=t):t=r[8],t}function eo(){let e,s,t,i,l,o,c,d,m=(0,n.c)(20);m[0]===Symbol.for("react.memo_cache_sentinel")?(e=[es.x.Slack,es.x.Generic,es.x.IncidentIO],m[0]=e):e=m[0];let{data:x,refetch:p}=B.Ay.useWebhooks(e),[j,v]=(0,r.useState)(null);m[1]!==x?.data?(s=Array.isArray(x?.data)&&x?.data||[],m[1]=x?.data,m[2]=s):s=m[2];let b=s;m[3]!==b?(t=(0,er.cm)(b),m[3]=b,m[4]=t):t=m[4];let w=t,[S,k]=(0,ea.j)(),{open:O,close:C}=k;return m[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(h.E,{mb:"xs",children:"Webhooks"}),m[5]=i):i=m[5],m[6]!==j||m[7]!==w||m[8]!==p?(l=0===w.length?(0,a.jsx)(h.E,{size:"sm",c:"dimmed",ta:"center",py:"xl",children:"No webhooks configured yet"}):w.map(e=>{let[s,t]=e,n=(0,er.dG)(s);return(0,a.jsxs)(g.B,{gap:"xs",children:[(0,a.jsxs)(f.Y,{gap:"xs",mt:"md",mb:"xs",children:[n?.icon,(0,a.jsx)(et.h,{order:6,c:"dimmed",children:(0,er.w7)(s)})]}),(0,a.jsx)(g.B,{children:t.map(e=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsxs)(f.Y,{justify:"space-between",align:"flex-start",children:[(0,a.jsxs)(g.B,{gap:0,children:[(0,a.jsxs)(h.E,{size:"sm",children:[e.name," (",e.service,")"]}),(0,a.jsx)(h.E,{size:"xs",opacity:.7,children:e.url}),e.description&&(0,a.jsx)(h.E,{size:"xxs",opacity:.7,children:e.description})]}),(0,a.jsx)(f.Y,{gap:"xs",children:j!==e._id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.$,{variant:"subtle",color:"gray.4",onClick:()=>v(e._id),size:"compact-xs",leftSection:(0,a.jsx)(X.A,{size:14}),children:"Edit"}),(0,a.jsx)(el,{webhookId:e._id,webhookName:e.name,onSuccess:p})]}):(0,a.jsxs)(y.$,{variant:"subtle",color:"gray.4",onClick:()=>v(null),size:"compact-xs",children:[(0,a.jsx)(P.A,{size:16})," Cancel"]})})]}),j===e._id&&(0,a.jsx)(ei.g,{webhook:e,onClose:()=>v(null),onSuccess:()=>{v(null),p()}}),(0,a.jsx)(u.c,{})]},e._id))})]},s)}),m[6]=j,m[7]=w,m[8]=p,m[9]=l):l=m[9],m[10]!==l?(o=(0,a.jsx)(g.B,{children:l}),m[10]=l,m[11]=o):o=m[11],m[12]!==C||m[13]!==S||m[14]!==O||m[15]!==p?(c=S?(0,a.jsx)(ei.g,{onClose:C,onSuccess:()=>{p(),C()}}):(0,a.jsx)(y.$,{variant:"secondary",onClick:O,children:"Add Webhook"}),m[12]=C,m[13]=S,m[14]=O,m[15]=p,m[16]=c):c=m[16],m[17]!==o||m[18]!==c?(d=(0,a.jsxs)(a.Fragment,{children:[i,o,c]}),m[17]=o,m[18]=c,m[19]=d):d=m[19],d}var ec=t(93108),ed=t(61410),em=t(56514);function eh(){let e,s,t,i,l,o,c,d=(0,n.c)(16),{data:m}=(0,ec.ZY)(),[f,v]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1);return d[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(h.E,{size:"md",children:"Connections"}),s=(0,a.jsx)(u.c,{my:"md"}),d[0]=e,d[1]=s):(e=d[0],s=d[1]),d[2]!==m||d[3]!==f?(t=m?.map(e=>(0,a.jsxs)(x.a,{children:[(0,a.jsxs)(p.s,{justify:"space-between",align:"flex-start",children:[(0,a.jsxs)(g.B,{gap:"xs",children:[(0,a.jsx)(h.E,{fw:500,size:"lg",children:e.name}),(0,a.jsxs)(h.E,{size:"sm",c:"dimmed",children:[(0,a.jsx)("b",{children:"Host:"})," ",e.host]}),(0,a.jsxs)(h.E,{size:"sm",c:"dimmed",children:[(0,a.jsx)("b",{children:"Username:"})," ",e.username]}),(0,a.jsxs)(h.E,{size:"sm",c:"dimmed",children:[(0,a.jsx)("b",{children:"Password:"})," [Configured]"]})]}),f!==e.id&&(0,a.jsxs)(y.$,{variant:"subtle",onClick:()=>v(e.id),size:"sm",children:[(0,a.jsx)(X.A,{size:14,className:"me-2"})," Edit"]}),f===e.id&&(0,a.jsxs)(y.$,{variant:"subtle",onClick:()=>v(null),size:"sm",children:[(0,a.jsx)(P.A,{size:14,className:"me-2"})," Cancel"]})]}),f===e.id&&(0,a.jsx)(T.B,{connection:e,isNew:!1,onSave:()=>{v(null)},showCancelButton:!1,showDeleteButton:!0}),(0,a.jsx)(u.c,{my:"md"})]},e.id)),d[2]=m,d[3]=f,d[4]=t):t=d[4],d[5]!==t?(i=(0,a.jsx)(g.B,{mb:"md",children:t}),d[5]=t,d[6]=i):i=d[6],d[7]!==m?.length||d[8]!==b?(l=!b&&(!I.VO||(m?.length??0)<1)&&(0,a.jsx)(y.$,{variant:"primary",onClick:()=>w(!0),children:"Add Connection"}),d[7]=m?.length,d[8]=b,d[9]=l):l=d[9],d[10]!==b?(o=b&&(0,a.jsx)(g.B,{gap:"md",children:(0,a.jsx)(T.B,{connection:{id:"new",name:"My New Connection",host:"http://localhost:8123",username:"default",password:""},isNew:!0,onSave:()=>w(!1),onClose:()=>w(!1),showCancelButton:!0})}),d[10]=b,d[11]=o):o=d[11],d[12]!==i||d[13]!==l||d[14]!==o?(c=(0,a.jsxs)(x.a,{id:"connections",children:[e,s,(0,a.jsxs)(j.Z,{children:[i,l,o]})]}),d[12]=i,d[13]=l,d[14]=o,d[15]=c):c=d[15],c}function eu(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)(x.a,{id:"sources",children:[(0,a.jsx)(h.E,{size:"md",children:"Sources"}),(0,a.jsx)(u.c,{my:"md"}),(0,a.jsx)(E.v,{withBorder:!1,variant:"default",showEmptyState:!1})]}),s[0]=e):e=s[0],e}function ex(){let e,s,t,r=(0,n.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(h.E,{size:"md",children:"Integrations"}),s=(0,a.jsx)(u.c,{my:"md"}),r[0]=e,r[1]=s):(e=r[0],s=r[1]),r[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)(x.a,{id:"integrations",children:[e,s,(0,a.jsx)(j.Z,{children:(0,a.jsx)(g.B,{gap:"md",children:(0,a.jsx)(eo,{})})})]}),r[2]=t):t=r[2],t}function ep(){let e,s,t,i,l,o=(0,n.c)(13),{data:c,refetch:m}=B.Ay.useTeam(),p=B.Ay.useSetTeamName(),[g,b]=(0,r.useState)(!1),w=c?.name;o[0]!==w?(e={defaultValues:{name:w}},o[0]=w,o[1]=e):e=o[1];let S=(0,d.mN)(e);o[2]!==m||o[3]!==p?(s=async e=>{p.mutate({name:e.name},{onError:eg,onSuccess:()=>{_.$e.show({color:"green",message:"Updated team name"}),m(),b(!1)}})},o[2]=m,o[3]=p,o[4]=s):s=o[4];let k=s;return o[5]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(h.E,{size:"md",children:"Team Name"}),i=(0,a.jsx)(u.c,{my:"md"}),o[5]=t,o[6]=i):(t=o[5],i=o[6]),o[7]!==S||o[8]!==g||o[9]!==k||o[10]!==p||o[11]!==c?.name?(l=(0,a.jsxs)(x.a,{id:"team_name",children:[t,i,(0,a.jsx)(j.Z,{children:g?(0,a.jsx)("form",{onSubmit:S.handleSubmit(k),children:(0,a.jsxs)(f.Y,{gap:"xs",children:[(0,a.jsx)(v.k,{size:"xs",placeholder:"My Team",required:!0,error:S.formState.errors.name?.message,...S.register("name",{required:!0}),miw:300,min:1,max:100,autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&b(!1)}}),(0,a.jsx)(y.$,{type:"submit",size:"xs",variant:"primary",loading:p.isPending,children:"Save"}),(0,a.jsx)(y.$,{type:"button",size:"xs",variant:"secondary",disabled:p.isPending,onClick:()=>b(!1),children:"Cancel"})]})}):(0,a.jsxs)(f.Y,{gap:"lg",children:[(0,a.jsx)("div",{className:"fs-7",children:c?.name}),(0,a.jsx)(y.$,{size:"xs",variant:"secondary",leftSection:(0,a.jsx)(X.A,{size:16}),onClick:()=>{b(!0)},children:"Change"})]})})]}),o[7]=S,o[8]=g,o[9]=k,o[10]=p,o[11]=c?.name,o[12]=l):l=o[12],l}function eg(e){_.$e.show({color:"red",message:"Failed to update team name"})}function ey({settingKey:e,label:s,tooltip:t,type:n,defaultValue:i,placeholder:l,min:o,max:c,displayValue:m}){let{data:u,refetch:x}=B.Ay.useMe(),p=B.Ay.useUpdateClickhouseSettings(),[j,S]=(0,r.useState)(!1),k=u?.team[e],O=(0,d.mN)({defaultValues:{value:"boolean"===n&&null!=m&&null!=k?m(k):k??i??""}}),C=(0,r.useCallback)(async t=>{try{let a="boolean"===n?t.value===m?.(!0):Number(t.value);p.mutate({[e]:a},{onError:e=>{_.$e.show({color:"red",message:`Failed to update ${s}`})},onSuccess:()=>{_.$e.show({color:"green",message:`Updated ${s}`}),x(),S(!1)}})}catch(e){_.$e.show({color:"red",message:e.message})}},[x,p,e,s,n,m]);return(0,a.jsxs)(g.B,{gap:"xs",mb:"md",children:[(0,a.jsxs)(f.Y,{gap:"xs",children:[(0,a.jsx)(b.l,{size:"md",children:s}),t&&(0,a.jsx)(w.m,{label:t,children:(0,a.jsx)(h.E,{size:"sm",style:{cursor:"help"},children:(0,a.jsx)(A.A,{size:14})})})]}),j&&1?(0,a.jsx)("form",{onSubmit:O.handleSubmit(C),children:(0,a.jsxs)(f.Y,{children:["boolean"===n&&m?(0,a.jsx)(N.A,{control:O.control,name:"value",data:[m(!0),m(!1)],size:"xs",placeholder:"Please select",withAsterisk:!0,miw:300,readOnly:!j,autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&S(!1)}}):(0,a.jsx)(v.k,{size:"xs",type:"number",placeholder:l||k?.toString()||"Enter value",required:!0,readOnly:!j,error:O.formState.errors.value?.message,...O.register("value",{required:!0}),miw:300,min:o,max:c,autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&S(!1)}}),(0,a.jsx)(y.$,{type:"submit",size:"xs",variant:"primary",loading:p.isPending,children:"Save"}),(0,a.jsx)(y.$,{type:"button",size:"xs",variant:"secondary",disabled:p.isPending,onClick:()=>{S(!1)},children:"Cancel"})]})}):(0,a.jsxs)(f.Y,{children:[(0,a.jsx)(h.E,{className:"text-white",children:m?m(k,i):k?.toString()||"Not set"}),(0,a.jsx)(y.$,{size:"xs",variant:"secondary",leftSection:(0,a.jsx)(X.A,{size:16}),onClick:()=>S(!0),children:"Change"})]})]})}function ej(){let e,s,t,r,i,l,o=(0,n.c)(6),c=eb;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(h.E,{size:"md",children:"ClickHouse Client Settings"}),s=(0,a.jsx)(u.c,{my:"md"}),o[0]=e,o[1]=s):(e=o[0],s=o[1]),o[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(ey,{settingKey:"searchRowLimit",label:"Search Row Limit",tooltip:"The number of rows per query for the Search page or search dashboard tiles",type:"number",defaultValue:ed.Km,placeholder:`default = ${ed.Km}, 0 = unlimited`,min:1,max:1e5,displayValue:c("rows")}),o[2]=t):t=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(ey,{settingKey:"queryTimeout",label:"Query Timeout (seconds)",tooltip:"Sets the max execution time of a query in seconds.",type:"number",defaultValue:ed.rb,placeholder:`default = ${ed.rb}, 0 = unlimited`,min:0,displayValue:c("seconds")}),o[3]=r):r=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(i=m.qs.toLocaleString(),o[4]=i):i=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsxs)(x.a,{id:"team_name",children:[e,s,(0,a.jsx)(j.Z,{children:(0,a.jsxs)(g.B,{children:[t,r,(0,a.jsx)(ey,{settingKey:"metadataMaxRowsToRead",label:"Max Rows to Read (METADATA ONLY)",tooltip:"The maximum number of rows that can be read from a table when running a query",type:"number",defaultValue:m.qs,placeholder:`default = ${i}, 0 = unlimited`,min:0,displayValue:c("rows")}),(0,a.jsx)(ey,{settingKey:"fieldMetadataDisabled",label:"Field Metadata Queries",tooltip:"Enable to fetch field metadata from ClickHouse",type:"boolean",displayValue:ev}),(0,a.jsx)(ey,{settingKey:"parallelizeWhenPossible",label:"Parallelize Queries When Possible",tooltip:"HyperDX sends windowed queries to ClickHouse in series. This setting parallelizes those queries when it makes sense to. This may cause increased peak load on ClickHouse",type:"boolean",displayValue:ef})]})})]}),o[5]=l):l=o[5],l}function ef(e){return e?"Enabled":"Disabled"}function ev(e){return e?"Disabled":"Enabled"}function eb(e){return(s,t)=>void 0===s||s===t?`${t.toLocaleString()} ${e} (System Default)`:0===s?"Unlimited":`${s.toLocaleString()} ${e}`}let ew=e=>{let s,t,i,l,c,d,m=(0,n.c)(16),{value:h,dataTestId:u}=e,[x,p]=(0,r.useState)(!1);m[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>p(!0),m[0]=s):s=m[0];let g=x?"light":"default";m[1]!==x?(t=x?(0,a.jsx)($.A,{size:14}):(0,a.jsx)(z.A,{size:14}),m[1]=x,m[2]=t):t=m[2];let j=x?"Copied!":"Copy";return m[3]!==t||m[4]!==j?(i=(0,a.jsxs)(f.Y,{wrap:"nowrap",gap:4,ms:"xs",children:[t,j]}),m[3]=t,m[4]=j,m[5]=i):i=m[5],m[6]!==u||m[7]!==h?(l=(0,a.jsx)("div",{"data-test-id":u,className:"text-wrap text-break",children:h}),m[6]=u,m[7]=h,m[8]=l):l=m[8],m[9]!==g||m[10]!==i||m[11]!==l?(c=(0,a.jsx)(y.$,{onClick:s,variant:g,color:"gray",rightSection:i,children:l}),m[9]=g,m[10]=i,m[11]=l,m[12]=c):c=m[12],m[13]!==c||m[14]!==h?(d=(0,a.jsx)(o.CopyToClipboard,{text:h,children:c}),m[13]=c,m[14]=h,m[15]=d):d=m[15],d};function eS(){let e,s,t,i,l,o,c,d,m,p,g,v,b,w,k,O,C=(0,n.c)(29),{data:X,refetch:P}=B.Ay.useTeam(),{data:A,isLoading:$}=B.Ay.useMe(),z=B.Ay.useRotateTeamApiKey(),[T,N]=(0,r.useState)(!1);C[0]!==P||C[1]!==z?(e=()=>{z.mutate(void 0,{onSuccess:()=>{_.$e.show({color:"green",message:"Revoked old API key and generated new key."}),P()},onError:ek}),N(!1)},C[0]=P,C[1]=z,C[2]=e):e=C[2];let E=e;return C[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(h.E,{size:"md",children:"API Keys"}),t=(0,a.jsx)(u.c,{my:"md"}),C[3]=s,C[4]=t):(s=C[3],t=C[4]),C[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(h.E,{mb:"md",children:"Ingestion API Key"}),C[5]=i):i=C[5],C[6]!==X?(l=X?.apiKey&&(0,a.jsx)(ew,{value:X.apiKey,dataTestId:"api-key"}),C[6]=X,C[7]=l):l=C[7],C[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(y.$,{variant:"danger",onClick:()=>N(!0),children:"Rotate API Key"}),C[8]=o):o=C[8],C[9]!==l?(c=(0,a.jsxs)(f.Y,{gap:"xs",children:[l,o]}),C[9]=l,C[10]=c):c=C[10],C[11]===Symbol.for("react.memo_cache_sentinel")?(d=()=>N(!1),C[11]=d):d=C[11],C[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(h.E,{size:"xl",children:(0,a.jsx)("b",{children:"Rotate API Key"})}),C[12]=m):m=C[12],C[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsxs)(h.E,{size:"md",children:["Rotating the API key will invalidate your existing API key and generate a new one for you. This action is ",(0,a.jsx)("b",{children:"not reversible"}),"."]}),C[13]=p):p=C[13],C[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(y.$,{variant:"secondary",className:"mt-2 px-4 ms-2 float-end",size:"sm",onClick:()=>N(!1),children:"Cancel"}),C[14]=g):g=C[14],C[15]!==E?(v=(0,a.jsxs)(S.a.Body,{children:[p,(0,a.jsxs)(f.Y,{justify:"end",children:[g,(0,a.jsx)(y.$,{variant:"danger",className:"mt-2 px-4 float-end",size:"sm",onClick:E,children:"Confirm"})]})]}),C[15]=E,C[16]=v):v=C[16],C[17]!==T||C[18]!==v?(b=(0,a.jsx)(S.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onClose:d,opened:T,size:"lg",title:m,children:v}),C[17]=T,C[18]=v,C[19]=b):b=C[19],C[20]!==b||C[21]!==c?(w=(0,a.jsxs)(j.Z,{mb:"md",children:[i,c,b]}),C[20]=b,C[21]=c,C[22]=w):w=C[22],C[23]!==$||C[24]!==A?(k=!$&&null!=A&&(0,a.jsx)(j.Z,{children:(0,a.jsxs)(j.Z.Section,{p:"md",children:[(0,a.jsx)(h.E,{mb:"md",children:"Personal API Access Key"}),(0,a.jsx)(ew,{value:A.accessKey,dataTestId:"api-key"})]})}),C[23]=$,C[24]=A,C[25]=k):k=C[25],C[26]!==w||C[27]!==k?(O=(0,a.jsxs)(x.a,{id:"api_keys",children:[s,t,w,k]}),C[26]=w,C[27]=k,C[28]=O):O=C[28],O}function ek(e){_.$e.show({color:"red",message:e.message,autoClose:5e3})}function eO(){let e,s,t,r,i,o,c=(0,n.c)(15),{data:d,isLoading:m}=B.Ay.useTeam(),h=d?.allowedAuthMethods!=null&&d?.allowedAuthMethods.length>0;c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"My Team - HyperDX"})}),c[0]=e):e=c[0];let u=d?.name||"My team";return c[1]!==u?(s=(0,a.jsx)(Q.z,{children:(0,a.jsx)("div",{children:u})}),c[1]=u,c[2]=s):s=c[2],c[3]!==m?(t=m&&(0,a.jsx)(k.o,{mt:"xl",children:(0,a.jsx)(O.a,{color:"dimmed"})}),c[3]=m,c[4]=t):t=c[4],c[5]!==h||c[6]!==m||c[7]!==d?(r=!m&&null!=d&&(0,a.jsxs)(g.B,{my:20,gap:"xl",children:[(0,a.jsx)(eu,{}),(0,a.jsx)(eh,{}),(0,a.jsx)(ex,{}),(0,a.jsx)(ep,{}),(0,a.jsx)(ej,{}),(0,a.jsx)(eS,{}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Security Policies"}),null!=d.allowedAuthMethods&&d.allowedAuthMethods.length>0&&(0,a.jsxs)("div",{className:"mb-2 text-muted",children:["Team members can only authenticate via:"," ",(0,a.jsx)("span",{className:"text-capitalize fw-bold",children:d.allowedAuthMethods.join(", ")})]})]}),(0,a.jsx)(Z,{})]}),c[5]=h,c[6]=m,c[7]=d,c[8]=r):r=c[8],c[9]!==t||c[10]!==r?(i=(0,a.jsx)("div",{children:(0,a.jsxs)(C.m,{children:[t,r]})}),c[9]=t,c[10]=r,c[11]=i):i=c[11],c[12]!==s||c[13]!==i?(o=(0,a.jsxs)("div",{className:"TeamPage",children:[e,s,i]}),c[12]=s,c[13]=i,c[14]=o):o=c[14],o}eO.getLayout=em.D;let eC=eO},83171:(e,s,t)=>{"use strict";t.d(s,{m:()=>u});var a=t(6029);t(55729);var n=t(76),r=t(5618),i=t(80616),l=t(37666),o=t(60481),c=t(43016),d={root:"m_7485cace"};let m={},h=(0,r.V)((e,{size:s,fluid:t})=>({root:{"--container-size":t?void 0:(0,n.YC)(s,"container-size")}})),u=(0,c.P9)((e,s)=>{let t=(0,i.Y)("Container",m,e),{classNames:n,className:r,style:c,styles:u,unstyled:x,vars:p,fluid:g,mod:y,...j}=t,f=(0,l.I)({name:"Container",classes:d,props:t,className:r,style:c,classNames:n,styles:u,unstyled:x,vars:p,varsResolver:h});return(0,a.jsx)(o.a,{ref:s,mod:[{fluid:g},y],...f("root"),...j})});u.classes=d,u.displayName="@mantine/core/Container"},84960:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/team",function(){return t(69246)}])},88339:(e,s,t)=>{"use strict";t.d(s,{A:()=>j,V:()=>y});var a=t(6029),n=t(75155),r=t(55729),i=t(65234),l=t.n(i),o=t(15215),c=t(73854),d=t(25062),m=t(22623),h=t(90515),u=t(45172),x=t(95352),p=t(91021);function g(e){let s,t,i,o,c=(0,n.c)(12),{text:m,size:x}=e,p=void 0===x?"md":x,[g,y]=(0,r.useState)(!1),j="xs"===p?14:16,f="xs"===p?"compact-xs":"sm",v=(void 0===m?"":m)??"";c[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>y(!0),c[0]=s):s=c[0];let b=g?"light":"default";c[1]!==g||c[2]!==j?(t=g?(0,a.jsx)(h.A,{size:j,className:"me-2"}):(0,a.jsx)(u.A,{size:j,className:"me-2"}),c[1]=g,c[2]=j,c[3]=t):t=c[3];let w=g?"Copied!":"Copy";return c[4]!==f||c[5]!==b||c[6]!==t||c[7]!==w?(i=(0,a.jsxs)(d.$,{variant:b,size:f,className:"position-absolute top-0 end-0",children:[t,w]}),c[4]=f,c[5]=b,c[6]=t,c[7]=w,c[8]=i):i=c[8],c[9]!==v||c[10]!==i?(o=(0,a.jsx)(l(),{text:v,onCopy:s,children:i}),c[9]=v,c[10]=i,c[11]=o):o=c[11],o}function y(e){let s,t,r,i,l,d,m=(0,n.c)(14),{data:h,formatData:u,enableCopy:p,copyButtonSize:y}=e,j=void 0===u||u,f=void 0!==p&&p,v=void 0===y?"md":y;m[0]!==h||m[1]!==j?(s=j?function(e){try{if(null!=e)return(0,c.GP)(e);return e}catch{return e}}(h):h,m[0]=h,m[1]=j,m[2]=s):s=m[2];let b=s;return m[3]===Symbol.for("react.memo_cache_sentinel")?(t={lineNumbers:!1,foldGutter:!1,highlightActiveLine:!1,highlightActiveLineGutter:!1},r=[(0,o.ll)()],m[3]=t,m[4]=r):(t=m[3],r=m[4]),m[5]!==b?(i=(0,a.jsx)(x.Ay,{indentWithTab:!1,value:b,theme:"dark",basicSetup:t,extensions:r,editable:!1}),m[5]=b,m[6]=i):i=m[6],m[7]!==v||m[8]!==b||m[9]!==f?(l=f&&(0,a.jsx)(g,{text:b,size:v}),m[7]=v,m[8]=b,m[9]=f,m[10]=l):l=m[10],m[11]!==i||m[12]!==l?(d=(0,a.jsxs)("div",{className:"position-relative",children:[i,l]}),m[11]=i,m[12]=l,m[13]=d):d=m[13],d}function j(e){let s,t,r=(0,n.c)(3),{config:i}=e,{data:l}=(0,p.zu)(i);return r[0]===Symbol.for("react.memo_cache_sentinel")?(s={overflow:"hidden"},r[0]=s):s=r[0],r[1]!==l?(t=(0,a.jsx)(m.t,{flex:"auto",shadow:"none",radius:"sm",style:s,children:(0,a.jsx)(y,{data:l,formatData:!1})}),r[1]=l,r[2]=t):t=r[2],t}},89011:e=>{e.exports={sourceSchemaPreviewButton:"SourceSelectControlled_sourceSchemaPreviewButton__qKlsK"}},91758:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var a=(0,t(41495).A)("outline","server","IconServer",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]])},92495:(e,s)=>{"use strict";s.AB=function(e){let s,t;return function(e){try{return new URL(e),!0}catch(e){return!1}}(e)&&"slack.com"===((t=(s=new URL(e).hostname).split(".")).length>=2?t.slice(-2).join("."):s)}},92556:(e,s,t)=>{"use strict";t.d(s,{h:()=>p});var a=t(6029);t(55729);var n=t(5618),r=t(80616),i=t(37666),l=t(60481),o=t(43016),c=t(26615);let d=["h1","h2","h3","h4","h5","h6"],m=["xs","sm","md","lg","xl"];var h={root:"m_8a5d1357"};let u={order:1},x=(0,n.V)((e,{order:s,size:t,lineClamp:a,textWrap:n})=>{let r,i=(r=void 0!==t?t:`h${s}`,d.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:m.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${s}-font-weight)`,lineHeight:`var(--mantine-h${s}-line-height)`}:{fontSize:(0,c.D)(r),fontWeight:`var(--mantine-h${s}-font-weight)`,lineHeight:`var(--mantine-h${s}-line-height)`});return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":"number"==typeof a?a.toString():void 0,"--title-text-wrap":n}}}),p=(0,o.P9)((e,s)=>{let t=(0,r.Y)("Title",u,e),{classNames:n,className:o,style:c,styles:d,unstyled:m,order:p,vars:g,size:y,variant:j,lineClamp:f,textWrap:v,mod:b,...w}=t,S=(0,i.I)({name:"Title",props:t,classes:h,className:o,style:c,classNames:n,styles:d,unstyled:m,vars:g,varsResolver:x});return[1,2,3,4,5,6].includes(p)?(0,a.jsx)(l.a,{...S("root"),component:`h${p}`,variant:j,ref:s,mod:[{order:p,"data-line-clamp":"number"==typeof f},b],size:y,...w}):null});p.classes=h,p.displayName="@mantine/core/Title"}},e=>{e.O(0,[7756,883,2928,6171,910,1606,1909,3999,1626,1445,2990,4607,3943,9353,1021,6514,3172,6593,636,8792],()=>e(e.s=84960)),_N_E=e.O()}]);