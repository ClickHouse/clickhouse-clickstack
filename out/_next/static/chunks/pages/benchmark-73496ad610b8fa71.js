(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3293],{22699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var l=n(6029),a=n(75155),r=n(55729),i=n(71024),s=n.n(i),o=n(41038),u=n(1909),c=n(82641),d=n(92556),m=n(43517),h=n(48378),g=n(34834),f=n(25062),p=n(11088),y=n(24589),x=n(12482),b=n(49672),_=n(62453),j=n(91939),v=n(40228),w=n(95516),S=n(15215),C=n(36417),E=n(22623),k=n(95352);let N=k.Lz.baseTheme({"&.cm-editor.cm-focused":{outline:"0px solid transparent"},"&.cm-editor":{background:"transparent !important"},"& .cm-scroller":{overflowX:"hidden"}});function q({onChange:e,placeholder:t,value:n}){let{colorScheme:a}=(0,C.C)(),i=(0,r.useRef)(null),s=(0,r.useRef)(new k.xx);return(0,l.jsx)(E.t,{flex:"auto",shadow:"none",style:{bg:"var(--color-bg-field)",display:"flex",alignItems:"center"},ps:"4px",children:(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsx)(k.Ay,{indentWithTab:!1,ref:i,value:n,onChange:e,theme:"dark"===a?"dark":"light",minHeight:"100px",extensions:[N,s.current.of((0,S.ll)({upperCaseKeywords:!0}))],onUpdate:e=>{e.focusChanged&&e.view.hasFocus&&i.current?.view&&(0,w.rB)(i.current?.view)},basicSetup:{lineNumbers:!1,foldGutter:!1,highlightActiveLine:!1,highlightActiveLineGutter:!1},placeholder:t})})})}function T(e){let t,n,r,i=(0,a.c)(8);i[0]!==e?({placeholder:t,...n}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let{field:s}=(0,u.as)(n);return i[3]!==s.onChange||i[4]!==s.value||i[5]!==t||i[6]!==n?(r=(0,l.jsx)(q,{onChange:s.onChange,placeholder:t,value:s.value,...n}),i[3]=s.onChange,i[4]=s.value,i[5]=t,i[6]=n,i[7]=r):r=i[7],r}function z(e){return e.json()}function M(e){return JSON.parse(e)}function R(e){return e.text()}function D(){let e,t,n,i,s,w,S,C,E,k,N,q,D,B,I,L,X,V,H,K,Q,W,G,U,Z,J,Y,ee,et,en,el,ea,er,ei,es,eo,eu,ec,ed,em,eh,eg,ef,ep=(0,a.c)(102);ep[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.os)(),ep[0]=e):e=ep[0];let[ey,ex]=(0,o.ZA)("queries",e);ep[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.os)(),ep[1]=t):t=ep[1];let[eb,e_]=(0,o.ZA)("connections",t);ep[2]===Symbol.for("react.memo_cache_sentinel")?(n=o.GJ.withDefault(3),ep[2]=n):n=ep[2];let[ej,ev]=(0,o.ZA)("iterations",n);ep[3]!==ey?(i=ey||[],ep[3]=ey,ep[4]=i):i=ep[4],ep[5]!==eb||ep[6]!==ej||ep[7]!==i?(s={values:{queries:i,connections:eb,iterations:ej}},ep[5]=eb,ep[6]=ej,ep[7]=i,ep[8]=s):s=ep[8];let{control:ew,handleSubmit:eS}=(0,u.mN)(s);ep[9]!==e_||ep[10]!==ev||ep[11]!==ex?(w=e=>{e.queries[0]&&e.queries[1]&&e.connections[0]&&e.connections[1]&&(ex(e.queries||[]),e_(e.connections||[]),ev(e.iterations))},ep[9]=e_,ep[10]=ev,ep[11]=ex,ep[12]=w):w=ep[12];let eC=w;ep[13]!==ey?(S=ey||[],ep[13]=ey,ep[14]=S):S=ep[14];let eE=S;ep[15]!==eb?(C=eb||[],ep[15]=eb,ep[16]=C):C=ep[16];let ek=C;ep[17]!==ek||ep[18]!==eE?(E={queries:eE,connections:ek},ep[17]=ek,ep[18]=eE,ep[19]=E):E=ep[19];let eN=eE.length>0&&ek.length>0;ep[20]!==eN?(k={enabled:eN},ep[20]=eN,ep[21]=k):k=ep[21];let{data:eq}=function(e,t){let n,l,r,i,s=(0,a.c)(13),{queries:o,connections:u}=e;s[0]!==t?(n=void 0===t?{}:t,s[0]=t,s[1]=n):n=s[1];let c=n,d=(0,b.fu)();return s[2]!==u||s[3]!==o?(l=["estimate",o,u],s[2]=u,s[3]=o,s[4]=l):l=s[4],s[5]!==d||s[6]!==u||s[7]!==o?(r=async()=>Promise.all(o.map((e,t)=>d.query({query:`EXPLAIN ESTIMATE ${e}`,format:"JSON",connectionId:u[t]}).then(z))),s[5]=d,s[6]=u,s[7]=o,s[8]=r):r=s[8],s[9]!==c||s[10]!==l||s[11]!==r?(i={queryKey:l,queryFn:r,...c},s[9]=c,s[10]=l,s[11]=r,s[12]=i):i=s[12],(0,x.I)(i)}(E,k);ep[22]!==ek||ep[23]!==eE?(N={queries:eE,connections:ek},ep[22]=ek,ep[23]=eE,ep[24]=N):N=ep[24];let eT=eE.length>0&&ek.length>0;ep[25]!==eT?(q={enabled:eT},ep[25]=eT,ep[26]=q):q=ep[26];let{data:ez}=function(e,t){let n,l,r,i,s=(0,a.c)(13),{queries:o,connections:u}=e;s[0]!==t?(n=void 0===t?{}:t,s[0]=t,s[1]=n):n=s[1];let c=n,d=(0,b.fu)();return s[2]!==u||s[3]!==o?(l=["indexes",o,u],s[2]=u,s[3]=o,s[4]=l):l=s[4],s[5]!==d||s[6]!==u||s[7]!==o?(r=async()=>Promise.all(o.map((e,t)=>d.query({query:`EXPLAIN indexes=1, json=1, description = 0 ${e}`,format:"TabSeparatedRaw",connectionId:u[t]}).then(R).then(M))),s[5]=d,s[6]=u,s[7]=o,s[8]=r):r=s[8],s[9]!==c||s[10]!==l||s[11]!==r?(i={queryKey:l,queryFn:r,...c},s[9]=c,s[10]=l,s[11]=r,s[12]=i):i=s[12],(0,x.I)(i)}(N,q),[eM,eR]=(0,r.useState)(null),[eD,eP]=(0,r.useState)(null);ep[27]!==ek||ep[28]!==eE||ep[29]!==ej?(D={queries:eE,connections:ek,iterations:ej},ep[27]=ek,ep[28]=eE,ep[29]=ej,ep[30]=D):D=ep[30];let{data:eA,isLoading:eO}=function({queries:e,connections:t,iterations:n=3}){let l=e.length>0&&t.length>0,a=(0,b.fu)();return(0,x.I)({enabled:l,queryKey:["benchmark",e,t],queryFn:async()=>{let l=e.slice().sort(()=>Math.random()-.5),r={};for(let i=0;i<n;i++){for(let n=0;n<e.length;n++){let e=crypto.randomUUID();await a.query({query:l[n],connectionId:t[n],format:"NULL",clickhouse_settings:{min_bytes_to_use_direct_io:"1",use_query_cache:0,wait_end_of_query:1},queryId:e}).then(e=>e.text()),r[n]??=[],r[n].push(e)}await new Promise(e=>setTimeout(e,1e3))}return await new Promise(e=>setTimeout(e,1e4)),r},refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1})}(D);return ep[31]!==ek||ep[32]!==eE.length?(B=()=>{eE.length>0&&ek.length>0&&eR(new Date(Date.now()-1e3))},ep[31]=ek,ep[32]=eE.length,ep[33]=B):B=ep[33],ep[34]!==ek||ep[35]!==eE?(I=[eE,ek],ep[34]=ek,ep[35]=eE,ep[36]=I):I=ep[36],(0,r.useEffect)(B,I),ep[37]!==eA?(L=()=>{null!=eA&&null!=eA[0]&&eP(new Date(Date.now()-9e3))},X=[eA],ep[37]=eA,ep[38]=L,ep[39]=X):(L=ep[38],X=ep[39]),(0,r.useEffect)(L,X),ep[40]===Symbol.for("react.memo_cache_sentinel")?(V=(0,l.jsx)(d.h,{order:1,fw:400,mb:"md",children:"Clickhouse Query Benchmark"}),ep[40]=V):V=ep[40],ep[41]!==eS||ep[42]!==eC?(H=eS(eC),ep[41]=eS,ep[42]=eC,ep[43]=H):H=ep[43],ep[44]===Symbol.for("react.memo_cache_sentinel")?(K=(0,l.jsx)(m.E,{size:"lg",children:"Query 1"}),ep[44]=K):K=ep[44],ep[45]!==ew?(Q=(0,l.jsx)(h.x.Col,{span:6,children:(0,l.jsxs)(g.B,{children:[K,(0,l.jsx)(_.r,{control:ew,name:"connections.0"}),(0,l.jsx)(T,{control:ew,name:"queries.0"})]})}),ep[45]=ew,ep[46]=Q):Q=ep[46],ep[47]===Symbol.for("react.memo_cache_sentinel")?(W=(0,l.jsx)(m.E,{size:"lg",children:"Query 2"}),ep[47]=W):W=ep[47],ep[48]!==ew?(G=(0,l.jsx)(h.x.Col,{span:6,children:(0,l.jsxs)(g.B,{children:[W,(0,l.jsx)(_.r,{control:ew,name:"connections.1"}),(0,l.jsx)(T,{control:ew,name:"queries.1"})]})}),ep[48]=ew,ep[49]=G):G=ep[49],ep[50]!==Q||ep[51]!==G?(U=(0,l.jsxs)(h.x,{children:[Q,G]}),ep[50]=Q,ep[51]=G,ep[52]=U):U=ep[52],ep[53]!==eO?(Z=(0,l.jsx)(f.$,{variant:"primary",type:"submit",loading:eO,children:"Run Benchmark"}),J=eO&&(0,l.jsx)(m.E,{ta:"center",c:"green",size:"xl",children:"Running Benchmark..."}),ep[53]=eO,ep[54]=Z,ep[55]=J):(Z=ep[54],J=ep[55]),ep[56]!==U||ep[57]!==Z||ep[58]!==J?(Y=(0,l.jsxs)(g.B,{gap:"md",children:[U,Z,J]}),ep[56]=U,ep[57]=Z,ep[58]=J,ep[59]=Y):Y=ep[59],ep[60]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,l.jsx)(h.x.Col,{span:12,children:(0,l.jsxs)(g.B,{children:[(0,l.jsx)(m.E,{size:"lg",children:"Query Estimate & Indexes"}),(0,l.jsx)(m.E,{size:"sm",children:"Index utilization of your query"})]})}),ep[60]=ee):ee=ep[60],ep[61]!==eq?.[0].data?.[0]?(et=(0,l.jsx)(p.X,{children:(0,l.jsx)(p.X.Tbody,{children:Object.entries(eq?.[0].data?.[0]??{}).map($)})}),ep[61]=eq?.[0].data?.[0],ep[62]=et):et=ep[62],ep[63]===Symbol.for("react.memo_cache_sentinel")?(en={maxHeight:350,overflow:"auto"},ep[63]=en):en=ep[63],ep[64]!==ez?.[0]?(el=JSON.stringify(ez?.[0]??{},null,2).replace(/\},/g,"").replace(/[[\]{}]/g,"").replace(/\n\s*\n/g,"\n\n").trim(),ep[64]=ez?.[0],ep[65]=el):el=ep[65],ep[66]!==el?(ea=(0,l.jsx)(y.C,{block:!0,style:en,children:el}),ep[66]=el,ep[67]=ea):ea=ep[67],ep[68]!==et||ep[69]!==ea?(er=(0,l.jsx)(h.x.Col,{span:6,children:(0,l.jsxs)(g.B,{children:[et,ea]})}),ep[68]=et,ep[69]=ea,ep[70]=er):er=ep[70],ep[71]!==eq?.[1].data?.[0]?(ei=(0,l.jsx)(p.X,{children:(0,l.jsx)(p.X.Tbody,{children:Object.entries(eq?.[1].data?.[0]??{}).map(F)})}),ep[71]=eq?.[1].data?.[0],ep[72]=ei):ei=ep[72],ep[73]===Symbol.for("react.memo_cache_sentinel")?(es={maxHeight:350,overflow:"auto"},ep[73]=es):es=ep[73],ep[74]!==ez?.[1]?(eo=JSON.stringify(ez?.[1]??{},null,2).replace(/\},/g,"").replace(/[[\]{}]/g,"").replace(/\n\s*\n/g,"\n\n").trim(),ep[74]=ez?.[1],ep[75]=eo):eo=ep[75],ep[76]!==eo?(eu=(0,l.jsx)(y.C,{block:!0,style:es,children:eo}),ep[76]=eo,ep[77]=eu):eu=ep[77],ep[78]!==ei||ep[79]!==eu?(ec=(0,l.jsx)(h.x.Col,{span:6,children:(0,l.jsxs)(g.B,{children:[ei,eu]})}),ep[78]=ei,ep[79]=eu,ep[80]=ec):ec=ep[80],ep[81]!==ek||ep[82]!==eD||ep[83]!==eA||ep[84]!==eM?(ed=null!=eA&&null!=eA[0]&&null!=eM&&null!=eD&&(0,l.jsx)("div",{className:"flex-grow-1 d-flex flex-column",style:{minHeight:400},children:(0,l.jsx)(v.S,{config:{select:[{aggFn:"max",valueExpression:"query_duration_ms",aggCondition:`query_id IN [${(eA?.[0]??[]).map(O).join(",")}]`,aggConditionLanguage:"sql",alias:"Query 1 Duration"},{aggFn:"max",valueExpression:"query_duration_ms",aggCondition:`query_id IN [${(eA?.[1]??[]).map(A).join(",")}]`,aggConditionLanguage:"sql",alias:"Query 2 Duration"}],displayType:c.t2.Line,dateRange:[eM,eD],connection:ek[0],timestampValueExpression:"event_time",from:{databaseName:"system",tableName:"query_log"},granularity:"1 second",where:"",fillNulls:!1},showDisplaySwitcher:!1})}),ep[81]=ek,ep[82]=eD,ep[83]=eA,ep[84]=eM,ep[85]=ed):ed=ep[85],ep[86]!==ek||ep[87]!==eD||ep[88]!==eA||ep[89]!==eM?(em=null!=eA&&null!=eA[0]&&null!=eM&&null!=eD&&(0,l.jsx)("div",{className:"flex-grow-1 d-flex flex-column",style:{minHeight:400},children:(0,l.jsx)(j.A,{config:{select:[{aggFn:"max",aggCondition:"",valueExpression:"query_duration_ms",alias:"Max Duration"},{aggFn:"avg",aggCondition:"",valueExpression:"query_duration_ms",alias:"Avg Duration"},{aggFn:"min",aggCondition:"",valueExpression:"query_duration_ms",alias:"Min Duration"},{aggFn:"max",aggCondition:"",valueExpression:"read_rows",alias:"Rows Read"},{aggFn:"max",aggCondition:"",valueExpression:"ProfileEvents['OSReadBytes']",alias:"Disk Bytes Read"},{aggFn:"max",aggCondition:"",valueExpression:"formatReadableSize(memory_usage)",alias:"Memory"},{aggFn:"max",aggCondition:"",valueExpression:"ProfileEvents['SystemTimeMicroseconds'] / 1000",alias:"System Time (ms)"},{aggFn:"max",aggCondition:"",valueExpression:"ProfileEvents['UserTimeMicroseconds'] / 1000",alias:"User Time (ms)"}],dateRange:[eM,eD],connection:ek[0],timestampValueExpression:"event_time",from:{databaseName:"system",tableName:"query_log"},groupBy:`if (query_id IN [${(eA?.[0]??[]).map(P).join(",")}], 'Query 1', 'Query 2') as Query`,where:""}})}),ep[86]=ek,ep[87]=eD,ep[88]=eA,ep[89]=eM,ep[90]=em):em=ep[90],ep[91]!==ed||ep[92]!==em?(eh=(0,l.jsx)(h.x.Col,{span:12,children:(0,l.jsxs)(g.B,{children:[ed,em]})}),ep[91]=ed,ep[92]=em,ep[93]=eh):eh=ep[93],ep[94]!==er||ep[95]!==ec||ep[96]!==eh?(eg=(0,l.jsxs)(h.x,{mt:"md",children:[ee,er,ec,eh]}),ep[94]=er,ep[95]=ec,ep[96]=eh,ep[97]=eg):eg=ep[97],ep[98]!==H||ep[99]!==Y||ep[100]!==eg?(ef=(0,l.jsxs)("div",{className:"p-4",children:[V,(0,l.jsxs)("form",{onSubmit:H,children:[Y,eg]})]}),ep[98]=H,ep[99]=Y,ep[100]=eg,ep[101]=ef):ef=ep[101],ef}function P(e){return`'${e}'`}function A(e){return`'${e}'`}function O(e){return`'${e}'`}function F(e){let[t,n]=e;return(0,l.jsxs)(p.X.Tr,{children:[(0,l.jsx)(p.X.Td,{children:t}),(0,l.jsx)(p.X.Td,{children:`${n}`})]},t)}function $(e){let[t,n]=e;return(0,l.jsxs)(p.X.Tr,{children:[(0,l.jsx)(p.X.Td,{children:t}),(0,l.jsx)(p.X.Td,{children:`${n}`})]},t)}let B=s()(async()=>D,{ssr:!1})},34955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={default:function(){return u},noSSR:function(){return o}};for(var a in l)Object.defineProperty(t,a,{enumerable:!0,get:l[a]});let r=n(14761);n(6029),n(55729);let i=r._(n(70628));function s(e){return{default:e?.default||e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}function u(e,t){let n=i.default,l={loading:({error:e,isLoading:t,pastDelay:n})=>null};e instanceof Promise?l.loader=()=>e:"function"==typeof e?l.loader=e:"object"==typeof e&&(l={...l,...e});let a=(l={...l,...t}).loader;return(l.loadableGenerated&&(l={...l,...l.loadableGenerated},delete l.loadableGenerated),"boolean"!=typeof l.ssr||l.ssr)?n({...l,loader:()=>null!=a?a().then(s):Promise.resolve(s(()=>null))}):(delete l.webpack,delete l.modules,o(n,l))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62453:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var l=n(6029),a=n(75155),r=n(91758),i=n(9211),s=n(93108);function o(e){let t,n,o,c,d,m,h=(0,a.c)(11);h[0]!==e?({size:n,...t}=e,h[0]=e,h[1]=t,h[2]=n):(t=h[1],n=h[2]);let{data:g}=(0,s.ZY)();h[3]!==g?(o=g?.map(u),h[3]=g,h[4]=o):o=h[4];let f=o;return h[5]===Symbol.for("react.memo_cache_sentinel")?(c={withinPortal:!1},h[5]=c):c=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(r.A,{size:16}),h[6]=d):d=h[6],h[7]!==t||h[8]!==n||h[9]!==f?(m=(0,l.jsx)(i.A,{...t,allowDeselect:!1,data:f,comboboxProps:c,searchable:!0,placeholder:"Connection",leftSection:d,maxDropdownHeight:280,size:n}),h[7]=t,h[8]=n,h[9]=f,h[10]=m):m=h[10],m}function u(e){return{value:e.id,label:e.name}}},70628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});let l=n(14761)._(n(55729)),a=n(93522),r=[],i=[],s=!1;function o(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class u{constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}}function c(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function o(){if(!r){let t=new u(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!s){let e=n.webpack&&1?n.webpack():n.modules;e&&i.push(t=>{for(let n of e)if(t.includes(n))return o()})}function c(e,t){let i;o(),(i=l.default.useContext(a.LoadableContext))&&Array.isArray(n.modules)&&n.modules.forEach(e=>{i(e)});let s=l.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return l.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),l.default.useMemo(()=>{var t;return s.loading||s.error?l.default.createElement(n.loading,{isLoading:s.loading,pastDelay:s.pastDelay,timedOut:s.timedOut,error:s.error,retry:r.retry}):s.loaded?l.default.createElement((t=s.loaded)&&t.default?t.default:t,e):null},[e,s])}return c.preload=()=>o(),c.displayName="LoadableComponent",l.default.forwardRef(c)}(o,e)}function d(e,t){let n=[];for(;e.length;){let l=e.pop();n.push(l(t))}return Promise.all(n).then(()=>{if(e.length)return d(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{d(r).then(e,t)}),c.preloadReady=(e=[])=>new Promise(t=>{let n=()=>(s=!0,t());d(i,e).then(n,n)}),window.__NEXT_PRELOADREADY=c.preloadReady;let m=c},71024:(e,t,n)=>{e.exports=n(34955)},91758:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var l=(0,n(41495).A)("outline","server","IconServer",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]])},91939:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var l=n(6029),a=n(75155),r=n(55729),i=n(35467),s=n(43517),o=n(60481),u=n(24589),c=n(43152),d=n(82203),m=n.n(d),h=n(75828),g=n.n(h),f=n(8737),p=n(24602),y=n(40387),x=n(79220),b=n(39696),_=n(21440),j=n(17421),v=n(48423),w=n(55024),S=n(68593),C=n(92917);let E=({data:e,groupColumnName:t,columns:n,getRowSearchLink:a,tableBottom:i,sorting:s,onSortingChange:o,variant:u="default"})=>{let c=(0,r.useRef)(null),d=c.current?.clientWidth,h=n.filter(e=>!1!==e.visible).length+1,E=Math.min(100-n.filter(e=>!1!==e.visible).map(({columnWidthPercent:e})=>Math.max(null!=d?100/d*100:0,e??1/h*100)).reduce((e,t)=>e+t,0),75),k=[...null!=t?[{accessorKey:"group",header:t,size:null!=d?Math.max(E/100*d,100):200}]:[],...n.filter(e=>!1!==e.visible).map(({id:e,dataKey:t,displayName:n,numberFormat:r,columnWidthPercent:i},s)=>({id:e,accessorKey:t,header:n,accessorFn:e=>e[t],cell:({getValue:e,row:t})=>{let n=e(),i=n??null;if(r&&(i=(0,C.ZV)(n,r)),null==a)return i;let s=a(t.original);return s?(0,l.jsx)(m(),{href:s,className:g()("align-top overflow-hidden py-1 pe-3",{"text-break":P,"text-truncate":!P}),style:{display:"block",color:"inherit",textDecoration:"none"},children:i}):(0,l.jsx)("div",{className:g()("align-top overflow-hidden py-1 pe-3",{"text-break":P,"text-truncate":!P}),children:i})},size:s===h-2?S.k:null!=d&&null!=i?Math.max(i/100*d,100):null!=d?d/h:200,enableResizing:s!==h-2}))],N=(0,x.N4)({data:e,columns:k,getCoreRowModel:(0,b.HT)(),enableColumnResizing:!0,columnResizeMode:"onChange",enableSorting:!0,manualSorting:!0,onSortingChange:e=>{if("function"==typeof e){let t=e(s);o?.(t??null)}else o?.(e??null)},state:{sorting:s}}),{rows:q}=N.getRowModel(),T=(0,_.Te)({count:q.length,getScrollElement:()=>c.current,estimateSize:(0,r.useCallback)(()=>58,[]),overscan:10,paddingEnd:20}),z=T.getVirtualItems(),M=T.getTotalSize(),[R,D]=(0,r.useMemo)(()=>z.length>0?[Math.max(0,z[0].start-T.options.scrollMargin),Math.max(0,M-z[z.length-1].end)]:[0,0],[z,T.options.scrollMargin,M]),[P,A]=(0,r.useState)(!1),{csvData:O}=(0,w.u)(e,n.map(e=>({dataKey:e.dataKey,displayName:e.displayName})),{groupColumnName:t});return(0,l.jsxs)("div",{className:"overflow-auto h-100 fs-8",ref:c,children:[(0,l.jsxs)("table",{className:"w-100",style:{tableLayout:"fixed",borderCollapse:"collapse",fontFamily:"var(--font-ibm-plex-mono)"},children:[(0,l.jsx)("thead",{style:{position:"sticky",top:0,background:"muted"===u?"var(--color-bg-muted)":"var(--color-bg-body)"},children:N.getHeaderGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map((t,n)=>(0,l.jsx)(v.A,{header:t,isLast:n===e.headers.length-1,lastItemButtons:(0,l.jsx)(l.Fragment,{children:n===e.headers.length-1&&(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(f.N,{onClick:()=>A(e=>!e),children:(0,l.jsx)(p.A,{size:14})}),(0,l.jsx)(j.P,{data:O,filename:"HyperDX_table_results",className:"fs-8 ms-2",title:"Download table as CSV",children:(0,l.jsx)(y.A,{size:14})})]})})},t.id))},e.id))}),(0,l.jsxs)("tbody",{children:[R>0&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:99999,style:{height:`${R}px`}})}),z.map(e=>{let t=q[e.index];return(0,l.jsx)("tr",{className:"bg-muted-hover","data-index":e.index,ref:T.measureElement,children:t.getVisibleCells().map(e=>(0,l.jsx)("td",{title:`${e.getValue()}`,children:(0,x.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.key)}),D>0&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:99999,style:{height:`${D}px`}})})]})]}),i]})};var k=n(57389),N=n(78744),q=n(81973),T=n(15628),z=n(99082),M=n(88339);function R(e){let t,n,d,m,h,g,f,p,y,x,b,_=(0,a.c)(56),{config:j,getRowSearchLink:v,enabled:w,queryKeyPrefix:S,onSortingChange:R,sort:O,hiddenColumns:F,title:$,toolbarPrefix:B,toolbarSuffix:I,showMVOptimizationIndicator:L,variant:X}=e,V=void 0===w||w;_[0]!==F?(t=void 0===F?[]:F,_[0]=F,_[1]=t):t=_[1];let H=t,K=void 0===L||L;_[2]===Symbol.for("react.memo_cache_sentinel")?(n=[],_[2]=n):n=_[2];let[Q,W]=(0,r.useState)(n);_[3]!==j.source?(d={id:j.source},_[3]=j.source,_[4]=d):d=_[4];let{data:G}=(0,q.Fo)(d),U=O||Q;_[5]!==R?(m=e=>{W(e),R&&R(e)},_[5]=R,_[6]=m):m=_[6];let Z=m;if(_[7]!==j||_[8]!==U){if(h=(0,c.Z7)(j),U.length){let e;_[10]!==U?(e=U.map(A),_[10]=U,_[11]=e):e=_[11],h.orderBy=e}_[7]=j,_[8]=U,_[9]=h}else h=_[9];let J=h,{data:Y}=(0,k.d)(J);_[12]!==V||_[13]!==S?(g={enabled:V,queryKeyPrefix:S},_[12]=V,_[13]=S,_[14]=g):g=_[14];let{data:ee,fetchNextPage:et,hasNextPage:en,isLoading:el,isError:ea,error:er}=(0,N.A)(J,g),{observerRef:ei}=(0,C.BL)(et);e:{let e;if("string"==typeof j.select){let e;_[15]===Symbol.for("react.memo_cache_sentinel")?(e=[],_[15]=e):e=_[15],f=e;break e}_[16]!==j.select?(e=j.select.reduce(P,[]),_[16]=j.select,_[17]=e):e=_[17],f=e}let es=f;t:{let e,t;_[18]!==ee?.data?(e=ee?.data??[],_[18]=ee?.data,_[19]=e):e=_[19];let n=e;if(0===n.length){let e;_[20]===Symbol.for("react.memo_cache_sentinel")?(e=[],_[20]=e):e=_[20],p=e;break t}if(_[21]!==es||_[22]!==j.numberFormat||_[23]!==H||_[24]!==J.groupBy||_[25]!==n[0]){let e=[];J.groupBy&&"string"==typeof J.groupBy&&(e=J.groupBy.split(",").map(D)),t=Object.keys(n?.[0]).filter(e=>!H.includes(e)).map(t=>({id:es.includes(t)?`"${t}"`:t,dataKey:t,displayName:t,numberFormat:e.includes(t)?void 0:j.numberFormat})),_[21]=es,_[22]=j.numberFormat,_[23]=H,_[24]=J.groupBy,_[25]=n[0],_[26]=t}else t=_[26];p=t}let eo=p;if(_[27]!==Y||_[28]!==J||_[29]!==K||_[30]!==G||_[31]!==B||_[32]!==I){let e;if(y=[],B&&B.length>0&&y.push(...B),G&&K){let e;_[34]!==J||_[35]!==G?(e=(0,l.jsx)(z.A,{config:J,source:G,variant:"icon"},"db-table-chart-mv-indicator"),_[34]=J,_[35]=G,_[36]=e):e=_[36],y.push(e)}_[37]!==Y||_[38]!==J.dateRange?(e=(0,c.m9)({mvOptimizationData:Y,originalDateRange:J.dateRange}),_[37]=Y,_[38]=J.dateRange,_[39]=e):e=_[39];let t=e;t&&y.push(t),I&&I.length>0&&y.push(...I),_[27]=Y,_[28]=J,_[29]=K,_[30]=G,_[31]=B,_[32]=I,_[33]=y}else y=_[33];let eu=y;return _[40]!==eo||_[41]!==ee||_[42]!==U||_[43]!==er||_[44]!==ei||_[45]!==v||_[46]!==Z||_[47]!==en||_[48]!==ea||_[49]!==el||_[50]!==X?(x=el&&!ee?(0,l.jsx)("div",{className:"d-flex h-100 w-100 align-items-center justify-content-center text-muted",children:"Loading Chart Data..."}):ea&&er?(0,l.jsxs)("div",{className:"h-100 w-100 align-items-center justify-content-center text-muted overflow-scroll",children:[(0,l.jsx)(s.E,{ta:"center",size:"sm",mt:"sm",children:"Error loading chart, please check your query or try again later."}),(0,l.jsxs)(o.a,{mt:"sm",children:[(0,l.jsx)(s.E,{my:"sm",size:"sm",ta:"center",children:"Error Message:"}),(0,l.jsx)(u.C,{block:!0,style:{whiteSpace:"pre-wrap"},children:er.message}),er instanceof i.p1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.E,{my:"sm",size:"sm",ta:"center",children:"Sent Query:"}),(0,l.jsx)(M.V,{data:er?.query})]})]})]}):ee?.data.length===0?(0,l.jsx)("div",{className:"d-flex h-100 w-100 align-items-center justify-content-center text-muted",children:"No data found within time range."}):(0,l.jsx)(E,{data:ee?.data??[],columns:eo,getRowSearchLink:v,sorting:U,onSortingChange:Z,variant:X,tableBottom:en&&(0,l.jsx)(s.E,{ref:ei,ta:"center",children:"Loading..."})}),_[40]=eo,_[41]=ee,_[42]=U,_[43]=er,_[44]=ei,_[45]=v,_[46]=Z,_[47]=en,_[48]=ea,_[49]=el,_[50]=X,_[51]=x):x=_[51],_[52]!==x||_[53]!==$||_[54]!==eu?(b=(0,l.jsx)(T.A,{title:$,toolbarItems:eu,children:x}),_[52]=x,_[53]=$,_[54]=eu,_[55]=b):b=_[55],b}function D(e){return e.trim()}function P(e,t){return t.alias&&e.push(t.alias),e}function A(e){return{valueExpression:e.id,ordering:e.desc?"DESC":"ASC"}}},92556:(e,t,n)=>{"use strict";n.d(t,{h:()=>f});var l=n(6029);n(55729);var a=n(5618),r=n(80616),i=n(37666),s=n(60481),o=n(43016),u=n(26615);let c=["h1","h2","h3","h4","h5","h6"],d=["xs","sm","md","lg","xl"];var m={root:"m_8a5d1357"};let h={order:1},g=(0,a.V)((e,{order:t,size:n,lineClamp:l,textWrap:a})=>{let r,i=(r=void 0!==n?n:`h${t}`,c.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:d.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:(0,u.D)(r),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`});return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":"number"==typeof l?l.toString():void 0,"--title-text-wrap":a}}}),f=(0,o.P9)((e,t)=>{let n=(0,r.Y)("Title",h,e),{classNames:a,className:o,style:u,styles:c,unstyled:d,order:f,vars:p,size:y,variant:x,lineClamp:b,textWrap:_,mod:j,...v}=n,w=(0,i.I)({name:"Title",props:n,classes:m,className:o,style:u,classNames:a,styles:c,unstyled:d,vars:p,varsResolver:g});return[1,2,3,4,5,6].includes(f)?(0,l.jsx)(s.a,{...w("root"),component:`h${f}`,variant:x,ref:t,mod:[{order:f,"data-line-clamp":"number"==typeof b},j],size:y,...v}):null});f.classes=m,f.displayName="@mantine/core/Title"},93522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return l}});let l=n(14761)._(n(55729)).default.createContext(null)},99589:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/benchmark",function(){return n(22699)}])}},e=>{e.O(0,[7756,883,2928,6171,910,1606,1909,3999,1445,4607,9979,1021,3234,6593,636,8792],()=>e(e.s=99589)),_N_E=e.O()}]);