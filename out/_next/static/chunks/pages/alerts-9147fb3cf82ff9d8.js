(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9445],{3090:e=>{e.exports={sectionHeader:"AlertsPage_sectionHeader__OJSxr",historyCardWrapper:"AlertsPage_historyCardWrapper__JxczW",historyCard:"AlertsPage_historyCard__sQtBS",ok:"AlertsPage_ok__04bN1",alarm:"AlertsPage_alarm__wPCL8",clickable:"AlertsPage_clickable__ziUjN",alertRow:"AlertsPage_alertRow__Vfg1_",alertLink:"AlertsPage_alertLink__Q1U_R"}},7913:function(e,r,t){(function(e,r){"use strict";var t=function(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach(function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}}),r.default=e,Object.freeze(r)}(r);function a(e,r){return(a=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var s={error:null},l=function(e){function r(){for(var r,t=arguments.length,a=Array(t),l=0;l<t;l++)a[l]=arguments[l];return(r=e.call.apply(e,[this].concat(a))||this).state=s,r.resetErrorBoundary=function(){for(var e,t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];null==r.props.onReset||(e=r.props).onReset.apply(e,a),r.reset()},r}r.prototype=Object.create(e.prototype),r.prototype.constructor=r,a(r,e),r.getDerivedStateFromError=function(e){return{error:e}};var l=r.prototype;return l.reset=function(){this.setState(s)},l.componentDidCatch=function(e,r){var t,a;null==(t=(a=this.props).onError)||t.call(a,e,r)},l.componentDidUpdate=function(e,r){var t,a,s,l,n=this.state.error,i=this.props.resetKeys;null!==n&&null!==r.error&&(void 0===(t=e.resetKeys)&&(t=[]),void 0===(a=i)&&(a=[]),t.length!==a.length||t.some(function(e,r){return!Object.is(e,a[r])}))&&(null==(s=(l=this.props).onResetKeysChange)||s.call(l,e.resetKeys,i),this.reset())},l.render=function(){var e=this.state.error,r=this.props,a=r.fallbackRender,s=r.FallbackComponent,l=r.fallback;if(null!==e){var n={error:e,resetErrorBoundary:this.resetErrorBoundary};if(t.isValidElement(l))return l;if("function"==typeof a)return a(n);if(s)return t.createElement(s,n);else throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(t.Component);e.ErrorBoundary=l,e.useErrorHandler=function(e){var r=t.useState(null),a=r[0],s=r[1];if(null!=e)throw e;if(null!=a)throw a;return s},e.withErrorBoundary=function(e,r){var a=function(a){return t.createElement(l,r,t.createElement(e,a))};return a.displayName="withErrorBoundary("+(e.displayName||e.name||"Unknown")+")",a},Object.defineProperty(e,"__esModule",{value:!0})})(r,t(55729))},9247:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/alerts",function(){return t(66747)}])},12869:(e,r,t)=>{"use strict";t.d(r,{A8:()=>f,C5:()=>g,J_:()=>v,cv:()=>y,gK:()=>u,lT:()=>h,mo:()=>p,nq:()=>x,vX:()=>j,yN:()=>m});var a=t(43465),s=t(49730),l=t(67012),n=t(85508),i=t(71434),o=t.n(i),c=t(76089),d=t(82641);function h(e){return"1m"===e?c.Z7.OneMinute:"5m"===e?c.Z7.FiveMinute:"15m"===e?c.Z7.FifteenMinute:"30m"===e?c.Z7.ThirtyMinute:"1h"===e?c.Z7.OneHour:"6h"===e?c.Z7.SixHour:"12h"===e?c.Z7.TwelveHour:c.Z7.OneDay}function u(e){let r=new Date;return"1m"===e?[(0,a.A)(r,{minutes:15}),r]:"5m"===e?[(0,a.A)(r,{hours:1}),r]:"15m"===e?[(0,a.A)(r,{hours:4}),r]:"30m"===e?[(0,a.A)(r,{hours:8}),r]:"1h"===e?[(0,a.A)(r,{hours:16}),r]:"6h"===e?[(0,a.A)(r,{days:4}),r]:"12h"===e||"1d"===e?[(0,a.A)(r,{days:7}),r]:[r,r]}function m(e,r){let[t,i]=e;return"1m"===r&&15>(0,s.A)(i,t)?[(0,a.A)(i,{minutes:15}),i]:"5m"===r&&1>(0,l.A)(i,t)?[(0,a.A)(i,{hours:1}),i]:"15m"===r&&4>(0,l.A)(i,t)?[(0,a.A)(i,{hours:4}),i]:"30m"===r&&8>(0,l.A)(i,t)?[(0,a.A)(i,{hours:8}),i]:"1h"===r&&16>(0,l.A)(i,t)?[(0,a.A)(i,{hours:16}),i]:"6h"===r&&4>(0,n.A)(i,t)?[(0,a.A)(i,{days:4}),i]:"12h"===r&&7>(0,n.A)(i,t)||"1d"===r&&7>(0,n.A)(i,t)?[(0,a.A)(i,{days:7}),i]:e}let x={above:"At least (≥)",below:"Below (<)"},y={above:"is at least (≥)",below:"falls below (<)"},f={"1m":"1 minute","5m":"5 minute","15m":"15 minute","30m":"30 minute","1h":"1 hour","6h":"6 hour","12h":"12 hour","1d":"1 day"},v=o().pick(f,["5m","15m","30m","1h","6h","12h","1d"]),p={webhook:"Webhook"},g={threshold:1,thresholdType:d.qQ.ABOVE,interval:"5m",channel:{type:"webhook",webhookId:""}};function j(e){return!!e&&new Date>new Date(e.until)}},17513:(e,r,t)=>{"use strict";t.d(r,{WD:()=>u,dG:()=>h,w7:()=>m,cm:()=>x});var a=t(6029);t(55729);var s=t(82641),l=t(51058),n=t(56795),i=t(75155);function o(e){let r,t,s,l,n=(0,i.c)(6),{style:o,width:c}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("title",{children:"Incident.io"}),n[0]=r):r=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("g",{clipPath:"url(#clip0_1361_12546)",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.7336 139.642V163C20.7585 156.323 0 131.711 0 102.372C0 85.4557 7.15792 72.0354 18.1053 58.8703C27.1831 47.9534 49.5985 19.0426 56.6543 3.08954C58.3673 -0.783473 62.7348 -0.633805 64.6182 1.44721C70.6432 8.10421 78.0694 22.6432 80.4983 39.135C80.9932 42.4953 81.1969 45.2388 81.3587 47.4184C81.706 52.0954 81.8604 54.1748 84.2854 54.1748C88.0955 54.1748 90.588 48.3977 91.1358 42.4345C91.4869 38.6136 95.2774 37.3346 97.8914 38.6136C110.463 44.7644 123.292 74.0426 126.393 88.4102C127.366 92.9158 128 97.5719 128 102.372C128 131.646 107.335 156.214 79.4537 162.955V139.642H48.7336ZM64.0002 130.333C73.8316 130.333 81.8016 122.789 81.8016 113.483C81.8016 98.6407 70.8577 88.0345 65.4048 84.8105C65.0364 84.5928 64.8523 84.4839 64.3512 84.4974C63.9843 84.5073 63.4429 84.7369 63.181 84.9935C62.8232 85.3441 62.7283 85.743 62.5387 86.5409C61.5721 90.6065 58.5292 93.5054 55.327 96.556C50.9141 100.76 46.1988 105.252 46.1988 113.483C46.1988 122.789 54.1688 130.333 64.0002 130.333Z",fill:"currentColor"})}),n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1361_12546",children:(0,a.jsx)("rect",{width:"128",height:"163",fill:"white"})})}),n[2]=s):s=n[2],n[3]!==o||n[4]!==c?(l=(0,a.jsxs)("svg",{width:c,height:c,viewBox:"0 0 128 163",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid",style:o,children:[r,t,s]}),n[3]=o,n[4]=c,n[5]=l):l=n[5],l}let c={[s.x.Slack]:{name:"Slack",icon:(0,a.jsx)(l.A,{size:16}),order:1},[s.x.IncidentIO]:{name:"incident.io",icon:(0,a.jsx)(o,{width:16}),order:4},[s.x.Generic]:{name:"Generic",icon:(0,a.jsx)(n.A,{size:16}),order:5}},d={[s.x.Generic]:(0,a.jsx)(n.A,{size:16}),[s.x.Slack]:(0,a.jsx)(l.A,{size:16}),[s.x.IncidentIO]:(0,a.jsx)(o,{width:16})},h=e=>{if(e)return c[e]},u=e=>e&&d[e]||d[s.x.Generic],m=e=>{let r=h(e);return r?.name||e||"Unknown"},x=e=>Object.entries(e.reduce((e,r)=>{let t=r.service;return e[t]||(e[t]=[]),e[t].push(r),e},{})).sort(([e],[r])=>(c[e]?.order||999)-(c[r]?.order||999))},18205:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(41495).A)("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},21587:(e,r,t)=>{"use strict";t.d(r,{z:()=>i});var a=t(6029),s=t(75155),l=t(58525),n=t.n(l);let i=e=>{let r,t=(0,s.c)(2),{children:l}=e;return t[0]!==l?(r=(0,a.jsxs)("div",{className:n().header,children:[" ",l]}),t[0]=l,t[1]=r):r=t[1],r}},32963:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(41495).A)("filled","info-circle-filled","IconInfoCircleFilled",[["path",{d:"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",key:"svg-0"}]])},39603:(e,r,t)=>{"use strict";t.d(r,{F:()=>y});var a=t(6029),s=t(60466);t(55729);var l=t(76),n=t(5618),i=t(80616),o=t(37666),c=t(60481),d=t(43016),h=t(20158),u={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};let m={},x=(0,n.V)((e,{radius:r,color:t,variant:a,autoContrast:s})=>{let n=e.variantColorResolver({color:t||e.primaryColor,theme:e,variant:a||"light",autoContrast:s});return{root:{"--alert-radius":void 0===r?void 0:(0,l.nJ)(r),"--alert-bg":t||a?n.background:void 0,"--alert-color":n.color,"--alert-bd":t||a?n.border:void 0}}}),y=(0,d.P9)((e,r)=>{let t=(0,i.Y)("Alert",m,e),{classNames:l,className:n,style:d,styles:y,unstyled:f,vars:v,radius:p,color:g,title:j,children:b,id:_,icon:A,withCloseButton:k,onClose:w,closeButtonLabel:C,variant:S,autoContrast:E,...I}=t,N=(0,o.I)({name:"Alert",classes:u,props:t,className:n,style:d,classNames:l,styles:y,unstyled:f,vars:v,varsResolver:x}),O=(0,s.B)(_),z=j&&`${O}-title`||void 0,M=`${O}-body`;return(0,a.jsx)(c.a,{id:O,...N("root",{variant:S}),variant:S,ref:r,...I,role:"alert","aria-describedby":M,"aria-labelledby":z,children:(0,a.jsxs)("div",{...N("wrapper"),children:[A&&(0,a.jsx)("div",{...N("icon"),children:A}),(0,a.jsxs)("div",{...N("body"),children:[j&&(0,a.jsx)("div",{...N("title"),"data-with-close-button":k||void 0,children:(0,a.jsx)("span",{id:z,...N("label"),children:j})}),b&&(0,a.jsx)("div",{id:M,...N("message"),"data-variant":S,children:b})]}),k&&(0,a.jsx)(h.J,{...N("closeButton"),onClick:w,variant:"transparent",size:16,iconSize:16,"aria-label":C,unstyled:f})]})})});y.classes=u,y.displayName="@mantine/core/Alert"},51058:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(41495).A)("outline","brand-slack","IconBrandSlack",[["path",{d:"M12 12v-6a2 2 0 0 1 4 0v6m0 -2a2 2 0 1 1 2 2h-6",key:"svg-0"}],["path",{d:"M12 12h6a2 2 0 0 1 0 4h-6m2 0a2 2 0 1 1 -2 2v-6",key:"svg-1"}],["path",{d:"M12 12v6a2 2 0 0 1 -4 0v-6m0 2a2 2 0 1 1 -2 -2h6",key:"svg-2"}],["path",{d:"M12 12h-6a2 2 0 0 1 0 -4h6m-2 0a2 2 0 1 1 2 -2v6",key:"svg-3"}]])},56795:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(41495).A)("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]])},58525:e=>{e.exports={header:"PageHeader_header__Rc2pT"}},66747:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ee});var a=t(6029),s=t(75155);t(55729);var l=t(95669),n=t.n(l),i=t(82203),o=t.n(i),c=t(75828),d=t.n(c),h=t(8804),u=t(86508),m=t(82641),x=t(63085),y=t(56513),f=t(25062),v=t(3635),p=t(43085),g=t(34834),j=t(39603),b=t(83171),_=t(60665),A=t(87104),k=t(70114),w=t(9841),C=(0,t(41495).A)("outline","table-row","IconTableRow",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M9 3l-6 6",key:"svg-1"}],["path",{d:"M14 3l-7 7",key:"svg-2"}],["path",{d:"M19 3l-7 7",key:"svg-3"}],["path",{d:"M21 6l-4 4",key:"svg-4"}],["path",{d:"M3 10h18",key:"svg-5"}],["path",{d:"M10 10v11",key:"svg-6"}]]),S=t(97702),E=t(18205),I=t(90515),N=t(32963),O=t(93251),z=t(68344),M=t(21587),P=t(36600),T=t(12869),R=t(17513),D=t(6876),B=t(56514),W=t(7565),L=t(3090),F=t.n(L);function H(e){let r,t,l,n,i,o,c,u=(0,s.c)(24),{history:y,alertUrl:f}=e;if(u[0]!==f||u[1]!==y){let e,s,o,c,v=new Date(y.createdAt.toString());u[7]===Symbol.for("react.memo_cache_sentinel")?(e=new Date,u[7]=e):e=u[7];let p=e;e:{let e;if(!f||!y.lastValues?.[0]?.startTime){s=null;break e}if(u[8]!==f||u[9]!==y.createdAt||u[10]!==y.lastValues[0].startTime){let r=new Date(y.createdAt).getTime(),t=new Date(y.lastValues[0].startTime).getTime();(e=new URL(f,window.location.origin)).searchParams.set("from",t.toString()),e.searchParams.set("to",r.toString()),e.searchParams.set("isLive","false"),u[8]=f,u[9]=y.createdAt,u[10]=y.lastValues[0].startTime,u[11]=e}else e=u[11];s=e.pathname+e.search}l=s;let g=y.state===m.Or.OK?F().ok:F().alarm,j=l&&F().clickable;u[12]!==g||u[13]!==j?(o=d()(F().historyCard,g,j),u[12]=g,u[13]=j,u[14]=o):o=u[14],u[15]!==o?(c=(0,a.jsx)("div",{className:o}),u[15]=o,u[16]=c):c=u[16],t=c,r=x.m,n=y.counts??0,i=(0,h.A)(v,p),u[0]=f,u[1]=y,u[2]=r,u[3]=t,u[4]=l,u[5]=n,u[6]=i}else r=u[2],t=u[3],l=u[4],n=u[5],i=u[6];let v=`${n} alerts ${i}`;return u[17]!==t||u[18]!==l?(o=l?(0,a.jsx)("a",{href:l,className:F().historyCardLink,children:t}):t,u[17]=t,u[18]=l,u[19]=o):o=u[19],u[20]!==r||u[21]!==v||u[22]!==o?(c=(0,a.jsx)(r,{label:v,color:"dark",withArrow:!0,children:o}),u[20]=r,u[21]=v,u[22]=o,u[23]=c):c=u[23],c}function V(e){let r,t,l,n,i=(0,s.c)(58),{alert:o}=e,c=(0,O.jE)(),d=D.Ay.useSilenceAlert(),h=D.Ay.useUnsilenceAlert();i[0]!==c?(r={onSuccess:()=>{c.invalidateQueries({queryKey:["alerts"]})},onError:$},i[0]=c,i[1]=r):r=i[1];let m=r;i[2]!==o._id||i[3]!==m||i[4]!==h?(t=()=>{h.mutate(o._id||"",m)},i[2]=o._id,i[3]=m,i[4]=h,i[5]=t):t=i[5];let x=t;i[6]!==o.silenced?(l=(0,T.vX)(o.silenced),i[6]=o.silenced,i[7]=l):l=i[7];let v=l;i[8]!==o._id||i[9]!==m||i[10]!==d?(n=e=>{let r=(0,u.A)(new Date,e);d.mutate({alertId:o._id||"",mutedUntil:r.toISOString()},m)},i[8]=o._id,i[9]=m,i[10]=d,i[11]=n):n=i[11];let p=n;if(o.silenced?.at){let e,r,t,s,l,n,c,d,u,m,p,g,j=v?"var(--color-bg-warning)":"var(--color-bg-success)";i[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(A.A,{size:16}),i[12]=e):e=i[12],i[13]!==j?(r=(0,a.jsx)(y.W.Target,{children:(0,a.jsx)(f.$,{size:"compact-sm",variant:"primary",color:j,leftSection:e,children:"Ack'd"})}),i[13]=j,i[14]=r):r=i[14],i[15]!==o.silenced?.by?(t=o.silenced?.by?(0,a.jsxs)(a.Fragment,{children:["by ",(0,a.jsx)("strong",{children:o.silenced?.by})]}):null,i[15]=o.silenced?.by,i[16]=t):t=i[16],i[17]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("br",{}),i[17]=s):s=i[17];let b=o.silenced?.at;i[18]!==b?(l=(0,a.jsx)(W.H,{value:b}),i[18]=b,i[19]=l):l=i[19],i[20]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("br",{}),i[20]=n):n=i[20],i[21]!==l||i[22]!==t?(c=(0,a.jsxs)(y.W.Label,{py:6,children:["Acknowledged"," ",t," ","on ",s,l,".",n]}),i[21]=l,i[22]=t,i[23]=c):c=i[23],i[24]!==o.silenced||i[25]!==v?(d=v?"Alert resumed.":(0,a.jsxs)(a.Fragment,{children:["Resumes ",(0,a.jsx)(W.H,{value:o.silenced.until}),"."]}),i[24]=o.silenced,i[25]=v,i[26]=d):d=i[26],i[27]!==d?(u=(0,a.jsx)(y.W.Label,{py:6,children:d}),i[27]=d,i[28]=u):u=i[28];let _=v?"Unacknowledge":"Resume alert";return i[29]!==x||i[30]!==_||i[31]!==h.isPending?(m=(0,a.jsx)(y.W.Item,{lh:"1",py:8,color:"orange",onClick:x,disabled:h.isPending,children:_}),i[29]=x,i[30]=_,i[31]=h.isPending,i[32]=m):m=i[32],i[33]!==c||i[34]!==u||i[35]!==m?(p=(0,a.jsxs)(y.W.Dropdown,{children:[c,u,m]}),i[33]=c,i[34]=u,i[35]=m,i[36]=p):p=i[36],i[37]!==p||i[38]!==r?(g=(0,a.jsx)(z.t,{message:"Failed to load alert acknowledgment menu",children:(0,a.jsxs)(y.W,{children:[r,p]})}),i[37]=p,i[38]=r,i[39]=g):g=i[39],g}if("ALERT"===o.state){let e,r,t,s,l,n,o,c;return i[40]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(y.W.Target,{children:(0,a.jsx)(f.$,{size:"compact-sm",variant:"secondary",children:"Ack"})}),i[40]=e):e=i[40],i[41]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(y.W.Label,{lh:"1",py:6,children:"Acknowledge and silence for"}),i[41]=r):r=i[41],i[42]!==p?(t=(0,a.jsx)(y.W.Item,{lh:"1",py:8,onClick:()=>p({minutes:30}),children:"30 minutes"}),i[42]=p,i[43]=t):t=i[43],i[44]!==p?(s=(0,a.jsx)(y.W.Item,{lh:"1",py:8,onClick:()=>p({hours:1}),children:"1 hour"}),i[44]=p,i[45]=s):s=i[45],i[46]!==p?(l=(0,a.jsx)(y.W.Item,{lh:"1",py:8,onClick:()=>p({hours:6}),children:"6 hours"}),i[46]=p,i[47]=l):l=i[47],i[48]!==p?(n=(0,a.jsx)(y.W.Item,{lh:"1",py:8,onClick:()=>p({hours:24}),children:"24 hours"}),i[48]=p,i[49]=n):n=i[49],i[50]!==n||i[51]!==t||i[52]!==s||i[53]!==l?(o=(0,a.jsxs)(y.W.Dropdown,{children:[r,t,s,l,n]}),i[50]=n,i[51]=t,i[52]=s,i[53]=l,i[54]=o):o=i[54],i[55]!==d.isPending||i[56]!==o?(c=(0,a.jsx)(z.t,{message:"Failed to load alert acknowledgment menu",children:(0,a.jsxs)(y.W,{disabled:d.isPending,children:[e,o]})}),i[55]=d.isPending,i[56]=o,i[57]=c):c=i[57],c}return null}function $(e){let r=e?.response?.status,t="Failed to silence alert, please try again later.";404===r?t="Alert not found.":400===r&&(t="Invalid request. Please ensure the silence duration is valid."),_.$e.show({color:"red",message:t})}function K(e){let r,t,l,n,i,o=(0,s.c)(15),{history:c,alertUrl:d}=e;e:{let e;if(c.length<18){r=c;break e}o[0]!==c?(e=c.slice(0,18),o[0]=c,o[1]=e):e=o[1],r=e}let h=r;r:{let e;if(c.length>18){let e;o[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],o[2]=e):e=o[2],t=e;break r}o[3]!==c.length?(e=Array(18-c.length).fill(null),o[3]=c.length,o[4]=e):e=o[4],t=e}let u=t;if(o[5]!==u?(l=u.map(U),o[5]=u,o[6]=l):l=o[6],o[7]!==d||o[8]!==h){let e;o[10]!==d?(e=(e,r)=>(0,a.jsx)(H,{history:e,alertUrl:d},r),o[10]=d,o[11]=e):e=o[11],n=h.slice().reverse().map(e),o[7]=d,o[8]=h,o[9]=n}else n=o[9];return o[12]!==l||o[13]!==n?(i=(0,a.jsxs)("div",{className:F().historyCardWrapper,children:[l,n]}),o[12]=l,o[13]=n,o[14]=i):i=o[14],i}function U(e,r){return(0,a.jsx)(x.m,{label:"No data",withArrow:!0,children:(0,a.jsx)("div",{className:F().historyCard})},r)}function Y(e){let r,t,l,n,i,c,d,h,u,x,y,f,j,b,_,A,E,I,N,O,z,M,P=(0,s.c)(61),{alert:T}=e;e:{if(T.source===m.w5.TILE&&T.dashboard){let e,t,s;P[0]!==T.dashboard?.tiles||P[1]!==T.tileId?(e=T.dashboard?.tiles.find(e=>e.id===T.tileId),P[0]=T.dashboard?.tiles,P[1]=T.tileId,P[2]=e):e=P[2];let l=e,n=l?.config.name||"Tile",i=T.dashboard?.name;P[3]!==n?(t=n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{size:14,className:"mx-1"}),n]}):null,P[3]=n,P[4]=t):t=P[4],P[5]!==i||P[6]!==t?(s=(0,a.jsxs)(a.Fragment,{children:[i,t]}),P[5]=i,P[6]=t,P[7]=s):s=P[7],r=s;break e}if(T.source===m.w5.SAVED_SEARCH&&T.savedSearch){r=T.savedSearch?.name;break e}r="–"}let D=r;r:{if(T.source===m.w5.TILE&&T.dashboard){t=`/dashboards/${T.dashboardId}?highlightedTileId=${T.tileId}`;break r}if(T.source===m.w5.SAVED_SEARCH&&T.savedSearch){t=`/search/${T.savedSearchId}`;break r}t=""}let B=t;switch(T.source){case m.w5.TILE:{let e;P[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(w.A,{size:14}),P[8]=e):e=P[8],l=e;break}case m.w5.SAVED_SEARCH:{let e;P[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(C,{size:14}),P[9]=e):e=P[9],l=e;break}default:{let e;P[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(S.A,{size:14}),P[10]=e):e=P[10],l=e}}let W=l,L="above"===T.thresholdType?"over":"under";P[11]!==T.threshold?(n=(0,a.jsx)("span",{className:"fw-bold",children:T.threshold}),P[11]=T.threshold,P[12]=n):n=P[12],P[13]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("span",{children:"\xb7"}),P[13]=i):i=P[13],P[14]!==L||P[15]!==n?(c=(0,a.jsxs)(a.Fragment,{children:["If value is ",L," ",n,i]}),P[14]=L,P[15]=n,P[16]=c):c=P[16];let H=c;P[17]!==T.channel.type?(d=(0,R.WD)(T.channel.type),P[17]=T.channel.type,P[18]=d):d=P[18],P[19]!==d?(h=(0,a.jsxs)(v.Y,{gap:5,children:["Notify via ",d," Webhook"]}),P[19]=d,P[20]=h):h=P[20];let $=h;switch(T.source){case m.w5.TILE:u="Dashboard tile";break;case m.w5.SAVED_SEARCH:u="Saved search";break;default:u=""}let U=u,Y=`alert-card-${T._id}`;P[21]!==T.state?(x=T.state===m.Or.ALERT&&(0,a.jsx)(p.E,{variant:"light",color:"red",children:"Alert"}),P[21]=T.state,P[22]=x):x=P[22],P[23]!==T.state?(y=T.state===m.Or.OK&&(0,a.jsx)(p.E,{variant:"light",children:"Ok"}),P[23]=T.state,P[24]=y):y=P[24],P[25]!==T.state?(f=T.state===m.Or.DISABLED&&(0,a.jsx)(p.E,{variant:"light",color:"gray",children:"Disabled"}),P[25]=T.state,P[26]=f):f=P[26];let Z=`alert-link-${T._id}`;return P[27]!==W||P[28]!==D?(j=(0,a.jsxs)(v.Y,{gap:2,children:[W,D]}),P[27]=W,P[28]=D,P[29]=j):j=P[29],P[30]!==B||P[31]!==U||P[32]!==Z||P[33]!==j?(b=(0,a.jsx)("div",{children:(0,a.jsx)(o(),{"data-testid":Z,href:B,className:F().alertLink,title:U,children:j})}),P[30]=B,P[31]=U,P[32]=Z,P[33]=j,P[34]=b):b=P[34],P[35]!==T.createdBy?(_=T.createdBy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsxs)("span",{children:["Created by ",T.createdBy.name||T.createdBy.email]})]}),P[35]=T.createdBy,P[36]=_):_=P[36],P[37]!==H||P[38]!==$||P[39]!==_?(A=(0,a.jsxs)("div",{className:"fs-8 d-flex gap-2",children:[H,$,_]}),P[37]=H,P[38]=$,P[39]=_,P[40]=A):A=P[40],P[41]!==b||P[42]!==A?(E=(0,a.jsxs)(g.B,{gap:2,children:[b,A]}),P[41]=b,P[42]=A,P[43]=E):E=P[43],P[44]!==x||P[45]!==y||P[46]!==f||P[47]!==E?(I=(0,a.jsxs)(v.Y,{children:[x,y,f,E]}),P[44]=x,P[45]=y,P[46]=f,P[47]=E,P[48]=I):I=P[48],P[49]!==T.history||P[50]!==B?(N=(0,a.jsx)(K,{history:T.history,alertUrl:B}),P[49]=T.history,P[50]=B,P[51]=N):N=P[51],P[52]!==T?(O=(0,a.jsx)(V,{alert:T}),P[52]=T,P[53]=O):O=P[53],P[54]!==N||P[55]!==O?(z=(0,a.jsxs)(v.Y,{children:[N,O]}),P[54]=N,P[55]=O,P[56]=z):z=P[56],P[57]!==Y||P[58]!==I||P[59]!==z?(M=(0,a.jsxs)("div",{"data-testid":Y,className:F().alertRow,children:[I,z]}),P[57]=Y,P[58]=I,P[59]=z,P[60]=M):M=P[60],M}function Z(e){let r,t,l,n,i,o,c,d=(0,s.c)(15),{alerts:h}=e;if(d[0]!==h){let e=h.filter(X),s=h.filter(J);n="d-flex flex-column gap-4",i=e.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(v.Y,{className:F().sectionHeader,children:[(0,a.jsx)(E.A,{size:14})," Triggered"]}),e.map(G)]}),d[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(v.Y,{className:F().sectionHeader,children:[(0,a.jsx)(I.A,{size:14})," OK"]}),d[6]=r):r=d[6],t=0===s.length&&(0,a.jsx)("div",{className:"text-center my-4 fs-8",children:"No alerts"}),l=s.map(q),d[0]=h,d[1]=r,d[2]=t,d[3]=l,d[4]=n,d[5]=i}else r=d[1],t=d[2],l=d[3],n=d[4],i=d[5];return d[7]!==r||d[8]!==t||d[9]!==l?(o=(0,a.jsxs)("div",{children:[r,t,l]}),d[7]=r,d[8]=t,d[9]=l,d[10]=o):o=d[10],d[11]!==n||d[12]!==i||d[13]!==o?(c=(0,a.jsxs)("div",{className:n,children:[i,o]}),d[11]=n,d[12]=i,d[13]=o,d[14]=c):c=d[14],c}function q(e,r){return(0,a.jsx)(Y,{alert:e},r)}function G(e,r){return(0,a.jsx)(Y,{alert:e},r)}function J(e){return e.state===m.Or.OK}function X(e){return e.state===m.Or.ALERT}function Q(){let e,r,t,l,i,o,c,d=(0,s.c)(14),h=(0,P.Kh)(),{data:u,isError:m,isLoading:x}=D.Ay.useAlerts();u?.data,d[0]!==u?.data?(e=u?.data||[],d[0]=u?.data,d[1]=e):e=d[1];let y=e;return d[2]!==h?(r=(0,a.jsx)(n(),{children:(0,a.jsxs)("title",{children:["Alerts - ",h]})}),d[2]=h,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(M.z,{children:"Alerts"}),d[4]=t):t=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(N.A,{size:16}),d[5]=l):l=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)(j.F,{icon:l,color:"gray",py:"xs",mt:"md",children:["Alerts can be"," ",(0,a.jsx)("a",{href:"https://clickhouse.com/docs/use-cases/observability/clickstack/alerts",target:"_blank",rel:"noopener noreferrer",children:"created"})," ","from dashboard charts and saved searches."]}),d[6]=i):i=d[6],d[7]!==y||d[8]!==m||d[9]!==x?(o=(0,a.jsx)("div",{className:"my-4",children:(0,a.jsxs)(b.m,{maw:1500,children:[i,x?(0,a.jsx)("div",{className:"text-center my-4 fs-8",children:"Loading..."}):m?(0,a.jsx)("div",{className:"text-center my-4 fs-8",children:"Error"}):y?.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z,{alerts:y})}):(0,a.jsx)("div",{className:"text-center my-4 fs-8",children:"No alerts created yet"})]})}),d[7]=y,d[8]=m,d[9]=x,d[10]=o):o=d[10],d[11]!==r||d[12]!==o?(c=(0,a.jsxs)("div",{"data-testid":"alerts-page",className:"AlertsPage",children:[r,t,o]}),d[11]=r,d[12]=o,d[13]=c):c=d[13],c}Q.getLayout=B.D;let ee=Q},68344:(e,r,t)=>{"use strict";t.d(r,{t:()=>h});var a=t(6029),s=t(75155);t(55729);var l=t(7913),n=t(39603),i=t(34834),o=t(43517),c=t(25062),d=t(96556);let h=e=>{let r,t,h=(0,s.c)(8),{children:m,onRetry:x,allowReset:y,showErrorMessage:f,message:v}=e,p=y||!!x;return h[0]!==v||h[1]!==x||h[2]!==f||h[3]!==p?(r=e=>{let{error:r,resetErrorBoundary:t}=e;return(0,a.jsx)(n.F,{p:"xs",color:"red",icon:(0,a.jsx)(d.A,{size:16}),title:v||"Something went wrong",children:(f||p)&&(0,a.jsxs)(i.B,{align:"flex-start",gap:"xs",children:[f&&(0,a.jsx)(o.E,{size:"xs",children:r.message}),p&&(0,a.jsx)(c.$,{onClick:x||t,size:"compact-xs",variant:"danger",children:"Retry"})]})})},h[0]=v,h[1]=x,h[2]=f,h[3]=p,h[4]=r):r=h[4],h[5]!==m||h[6]!==r?(t=(0,a.jsx)(l.ErrorBoundary,{onError:u,fallbackRender:r,children:m}),h[5]=m,h[6]=r,h[7]=t):t=h[7],t};function u(e){console.error(e)}},83171:(e,r,t)=>{"use strict";t.d(r,{m:()=>m});var a=t(6029);t(55729);var s=t(76),l=t(5618),n=t(80616),i=t(37666),o=t(60481),c=t(43016),d={root:"m_7485cace"};let h={},u=(0,l.V)((e,{size:r,fluid:t})=>({root:{"--container-size":t?void 0:(0,s.YC)(r,"container-size")}})),m=(0,c.P9)((e,r)=>{let t=(0,n.Y)("Container",h,e),{classNames:s,className:l,style:c,styles:m,unstyled:x,vars:y,fluid:f,mod:v,...p}=t,g=(0,i.I)({name:"Container",classes:d,props:t,className:l,style:c,classNames:s,styles:m,unstyled:x,vars:y,varsResolver:u});return(0,a.jsx)(o.a,{ref:r,mod:[{fluid:f},v],...g("root"),...p})});m.classes=d,m.displayName="@mantine/core/Container"},96556:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=(0,t(41495).A)("outline","exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]])}},e=>{e.O(0,[7756,883,2928,910,1606,6747,2814,1021,6514,6593,636,8792],()=>e(e.s=9247)),_N_E=e.O()}]);