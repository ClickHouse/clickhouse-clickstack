(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3172],{8989:(e,a,t)=>{"use strict";t.d(a,{R:()=>c});var n=t(75155),r=t(67270),l=t(12482),s=t(49672),o=t(81973),i=t(78550);function c(e,a){let t,c,d,m,u,h=(0,n.c)(16);h[0]!==e?(t={...e,with:void 0},h[0]=e,h[1]=t):t=h[1];let x=t,p=(0,s.fu)(),b=(0,i.Ge)(),f=x?.source;h[2]!==f?(c={id:f},h[2]=f,h[3]=c):c=h[3];let{data:g,isLoading:j}=(0,o.Fo)(c);h[4]!==x?(d=["explain",x],h[4]=x,h[5]=d):d=h[5],h[6]!==p||h[7]!==x||h[8]!==b||h[9]!==g?.querySettings?(m=async e=>{let{signal:a}=e,t=await (0,r.PV)(x,b,g?.querySettings);return(await p.query({query:`EXPLAIN ESTIMATE ${t.sql}`,query_params:t.params,format:"JSONEachRow",abort_signal:a,connectionId:x.connection})).json()},h[6]=p,h[7]=x,h[8]=b,h[9]=g?.querySettings,h[10]=m):m=h[10];let y=!j;return h[11]!==a||h[12]!==d||h[13]!==m||h[14]!==y?(u={queryKey:d,queryFn:m,retry:!1,staleTime:6e4,enabled:y,...a},h[11]=a,h[12]=d,h[13]=m,h[14]=y,h[15]=u):u=h[15],(0,l.I)(u)}},24207:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var n=t(6029),r=t(75155),l=t(56513),s=t(25062),o=t(90993);function i(e){let a,t,i,c=(0,r.c)(4),{onDelete:d}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(l.W.Target,{children:(0,n.jsx)(s.$,{variant:"danger",size:"xs",children:"Delete"})}),c[0]=a):a=c[0],c[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(o.A,{size:16}),c[1]=t):t=c[1],c[2]!==d?(i=(0,n.jsxs)(l.W,{withArrow:!0,children:[a,(0,n.jsx)(l.W.Dropdown,{children:(0,n.jsx)(l.W.Item,{leftSection:t,onClick:d,children:"Confirm Delete"})})]}),c[2]=d,c[3]=i):i=c[3],i}},24314:(e,a,t)=>{"use strict";t.d(a,{Eb:()=>eH});var n=t(6029),r=t(75155),l=t(55729),s=t(1909),o=t(35467),i=t(82641),c=t(43517),d=t(34834),m=t(63085),u=t(53061),h=t(78253),x=t(60481),p=t(48378),b=t(76013),f=t(25062),g=t(3635),j=t(92789),y=t(38206),S=t(23935),v=t(9953),w=t(18341),C=t(58061),_=t(289),E=t(3465),N=t(60665),z=t(97702),T=t(90515),A=t(90993),$=t(28975),I=t(95316),k=t(46466),F=t(57478),L=t(98142),H=t(93108),V=t(8989),M=t(78550),D=t(81973),Z=t(36600),O=t(76089);let q=["avg","count","max","min","quantile","sum","histogram"],G=[{value:"1 second",label:"1 second"},{value:O.Z7.FifteenSecond,label:"15 seconds"},{value:O.Z7.ThirtySecond,label:"30 seconds"},{value:O.Z7.OneMinute,label:"1 minute"},{value:O.Z7.FiveMinute,label:"5 minutes"},{value:O.Z7.FifteenMinute,label:"15 minutes"},{value:O.Z7.ThirtyMinute,label:"30 minutes"},{value:O.Z7.OneHour,label:"1 hour"},{value:O.Z7.TwoHour,label:"2 hours"},{value:O.Z7.SixHour,label:"6 hours"},{value:O.Z7.TwelveHour,label:"12 hours"},{value:O.Z7.OneDay,label:"1 day"},{value:O.Z7.TwoDay,label:"2 days"},{value:O.Z7.SevenDay,label:"7 days"},{value:O.Z7.ThirtyDay,label:"30 days"}],R=/MATERIALIZED VIEW [^\s]+\.[^\s]+ TO ([^\s]+)\.([^\s]+)/;function B(e){return e.engine?.includes("AggregatingMergeTree")??!1}function P(e){return e.engine?.includes("SummingMergeTree")??!1}async function K({databaseName:e,tableName:a,connectionId:t},n){try{let r=await n.getTableMetadata({databaseName:e,tableName:a,connectionId:t});if(r.engine?.startsWith("MaterializedView")){let e=function(e){let a=e.create_table_query.match(R);if(a&&a[1]&&a[2])return{databaseName:a[1],tableName:a[2]}}(r);if(e){let a=await n.getTableMetadata({...e,connectionId:t});return B(a)||P(a)?{mvMetadata:r,mvTableMetadata:a}:void 0}}else if(B(r)||P(r)){let l=await n.queryMaterializedViewsByTarget({databaseName:e,tableName:a,connectionId:t});if(1===l.length)return{mvMetadata:await n.getTableMetadata({...l[0],connectionId:t}),mvTableMetadata:r};return{mvTableMetadata:r}}}catch(e){console.error("Error fetching materialized view metadata",e)}}function W(e){let a=e.as_select??"",t=a.slice(0,a.toLowerCase().indexOf("from")).replace(/^select/i,"").trim();return(0,O.AB)(t)}function Y(e,a,t,n){if("count"===e)return"";let r=a.name.split("__")[1];if(t.find(e=>e.name===r))return r;if(n){let e=W(n).find(e=>e.endsWith(a.name)),r=e&&t.find(a=>RegExp(`\\b${a.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`).test(e));if(r)return r.name}return""}async function Q(e,a,t){let{databaseName:n,tableName:r,connectionId:l}=e,{databaseName:s,tableName:i}=a;if(!r)return;let c=await K({databaseName:n,tableName:r,connectionId:l},t);if(!c)return;let{mvMetadata:d,mvTableMetadata:m}=c,[u,h]=await Promise.all([t.getColumns({databaseName:m.database,tableName:m.name,connectionId:l}),t.getColumns({databaseName:s,tableName:i,connectionId:l})]),x=u.filter(e=>e.type.includes("AggregateFunction")).map(e=>{let a,t=e.type.match(/AggregateFunction\(([a-zA-Z0-9_]+)/)?.[1];if("sum"===t&&e.name.toLowerCase().includes("count")?t="count":t?.startsWith("quantile")&&(t="quantile"),a=t,!q.includes(a??""))return;let n=Y(t,e,h,d);return{mvColumn:e.name,aggFn:t,sourceColumn:n}}).filter(e=>void 0!=e),p=P(m)?function(e){if(!P(e))return;let a=e.engine_full?.match(/SummingMergeTree\((\(?[^(]*)\)/)?.[1],t=a?.at(0)==="("&&a?.at(-1)===")"?a.slice(1,-1):a;if(t)return new Set((0,O.AB)(t))}(m):void 0;for(let e of p??[]){let a=e.toLowerCase().includes("count")?"count":"sum",t=u.find(a=>a.name===e);if(t){let n=Y(a,t,h,d);x.push({mvColumn:e,aggFn:a,sourceColumn:n})}}let b=new Set((0,o.bZ)(m.primary_key)),f=(0,o.P1)(u,[o.A2.Date])??[],g=f?.find(e=>b.has(e.name))?.name??"",j="";d&&(j=function(e,a){try{let t=W(e).find(e=>e.match(/toStartOf|toDate/)&&e.includes(a));if(!t)return;for(let[e,a]of Object.entries({toStartOfSecond:"1 second",toStartOfMinute:"1 minute",toStartOfFiveMinutes:"5 minute",toStartOfFifteenMinutes:"15 minute",toStartOfHour:"1 hour",toStartOfDay:"1 day",toDate:"1 day",toDateTime:"1 second"}))if(t?.includes(`${e}(`))return a;if(t.includes("toStartOfInterval(")){let e=t.match(/INTERVAL\s+(\d+)\s+(SECOND|MINUTE|HOUR|DAY)S?\)/i),a=t.match(/toInterval(Second|Minute|Hour|Day)\((\d+)\)/),n=e?`${e[1]} ${e[2].toLowerCase()}`:a?`${a[2]} ${a[1].toLowerCase()}`:null;if(n&&G.map(e=>e.value).includes(n)&&G.map(e=>e.value).includes(n))return n}}catch(e){console.error("Error inferring timestamp column granularity",e)}}(d,g)??"");let y=u.filter(e=>!e.type.includes("AggregateFunction")&&!p?.has(e.name)&&!f.includes(e)).map(e=>e.name).join(", ");return{databaseName:m.database,tableName:m.name,dimensionColumns:y,minGranularity:j,timestampColumn:g,aggregatedColumns:x}}var X=t(24207),U=t(62453),J=t(66980),ee=t(49672);function ea(e){let a,t,l,s,o,i,c,d,m=(0,r.c)(21),{database:u,setDatabase:h,connectionId:x,onBlur:p,name:b,inputRef:f,size:g}=e,j=x??"";m[0]!==j?(a={connectionId:j},m[0]=j,m[1]=a):a=m[1];let S=!!x;m[2]!==S?(t={enabled:S},m[2]=S,m[3]=t):t=m[3];let{data:v,isLoading:w}=(0,ee.VH)(a,t);m[4]!==v?.data?(l=v?.data||[],m[4]=v?.data,m[5]=l):l=m[5],m[6]!==l?(s=l.map(et),m[6]=l,m[7]=s):s=m[7];let C=s;return m[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(J.A,{size:16}),m[8]=o):o=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(i={withinPortal:!1},m[9]=i):i=m[9],m[10]!==h?(c=e=>h(e??void 0),m[10]=h,m[11]=c):c=m[11],m[12]!==C||m[13]!==u||m[14]!==f||m[15]!==w||m[16]!==b||m[17]!==p||m[18]!==g||m[19]!==c?(d=(0,n.jsx)(y.l,{searchable:!0,placeholder:"Database",leftSection:o,maxDropdownHeight:280,data:C,disabled:w,comboboxProps:i,value:u,onChange:c,onBlur:p,name:b,ref:f,size:g}),m[12]=C,m[13]=u,m[14]=f,m[15]=w,m[16]=b,m[17]=p,m[18]=g,m[19]=c,m[20]=d):d=m[20],d}function et(e){return{value:e.name,label:e.name}}function en(e){let a,t=(0,r.c)(7),{field:l}=(0,s.as)(e);return t[0]!==l.name||t[1]!==l.onBlur||t[2]!==l.onChange||t[3]!==l.ref||t[4]!==l.value||t[5]!==e?(a=(0,n.jsx)(ea,{...e,database:l.value,setDatabase:l.onChange,onBlur:l.onBlur,name:l.name,inputRef:l.ref}),t[0]=l.name,t[1]=l.onBlur,t[2]=l.onChange,t[3]=l.ref,t[4]=l.value,t[5]=e,t[6]=a):a=t[6],a}var er=t(45519),el=t(86761);function es(e){let a,t,l,s,o,i,c,d,m,u,x=(0,r.c)(29),{database:p,setTable:b,table:f,onBlur:g,name:j,size:S,inputRef:v,connectionId:w}=e,C=p??"",_=w??"";x[0]!==C||x[1]!==_?(a={database:C,connectionId:_},x[0]=C,x[1]=_,x[2]=a):a=x[2];let E=!!p&&!!w;x[3]!==E?(t={enabled:E},x[3]=E,x[4]=t):t=x[4];let{data:N,isLoading:z}=(0,ee.uI)(a,t);x[5]!==N?.data?(l=N?.data||[],x[5]=N?.data,x[6]=l):l=x[6],x[7]!==l?(s=l.map(eo),x[7]=l,x[8]=s):s=x[8];let T=s;x[9]!==w||x[10]!==p||x[11]!==f?(o=w&&p&&f?(0,n.jsx)(el.A,{source:{connection:w,from:{databaseName:p,tableName:f}},variant:"text"}):void 0,x[9]=w,x[10]=p,x[11]=f,x[12]=o):o=x[12],x[13]!==o?(i=(0,F.J)({sourceSchemaPreview:o}),x[13]=o,x[14]=i):i=x[14];let A=i;return x[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(er.A,{size:16}),x[15]=c):c=x[15],x[16]===Symbol.for("react.memo_cache_sentinel")?(d={withinPortal:!1},x[16]=d):d=x[16],x[17]!==b?(m=e=>b(e??void 0),x[17]=b,x[18]=m):m=x[18],x[19]!==T||x[20]!==v||x[21]!==z||x[22]!==j||x[23]!==g||x[24]!==A||x[25]!==S||x[26]!==m||x[27]!==f?(u=(0,n.jsx)(h.s,{align:"center",gap:8,children:(0,n.jsx)(y.l,{searchable:!0,placeholder:"Table",leftSection:c,maxDropdownHeight:280,data:T,disabled:z,value:f,comboboxProps:d,onChange:m,onBlur:g,name:j,ref:v,size:S,className:"flex-grow-1",...A})}),x[19]=T,x[20]=v,x[21]=z,x[22]=j,x[23]=g,x[24]=A,x[25]=S,x[26]=m,x[27]=f,x[28]=u):u=x[28],u}function eo(e){return{value:e.name,label:e.name}}function ei(e){let a,t,l,o,i=(0,r.c)(13);i[0]!==e?({database:t,connectionId:a,...l}=e,i[0]=e,i[1]=a,i[2]=t,i[3]=l):(a=i[1],t=i[2],l=i[3]);let{field:c}=(0,s.as)(l);return i[4]!==a||i[5]!==t||i[6]!==c.name||i[7]!==c.onBlur||i[8]!==c.onChange||i[9]!==c.ref||i[10]!==c.value||i[11]!==l?(o=(0,n.jsx)(es,{...l,database:t,connectionId:a,table:c.value,setTable:c.onChange,onBlur:c.onBlur,name:c.name,inputRef:c.ref}),i[4]=a,i[5]=t,i[6]=c.name,i[7]=c.onBlur,i[8]=c.onChange,i[9]=c.ref,i[10]=c.value,i[11]=l,i[12]=o):o=i[12],o}var ec=t(24589),ed=t(22599),em=t(70114),eu=t(18205);function eh(e){let a,t,s,o,i,c,d,m,u=(0,r.c)(16),{summary:h,details:x}=e,[p,b]=(0,l.useState)(!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>b(ex),u[0]=a):a=u[0];let g=p?"rotate(90deg)":"rotate(0deg)";return u[1]!==g?(t=(0,n.jsx)(em.A,{size:14,style:{transform:g,transition:"transform 150ms ease"}}),u[1]=g,u[2]=t):t=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(eu.A,{size:14,className:"me-2"}),u[3]=s):s=u[3],u[4]!==h||u[5]!==t?(o=(0,n.jsxs)(f.$,{variant:"subtle",size:"compact-xs",color:"red",onClick:a,leftSection:t,children:[s," ",h]}),u[4]=h,u[5]=t,u[6]=o):o=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(i={whiteSpace:"pre-wrap",wordBreak:"break-word"},u[7]=i):i=u[7],u[8]!==x?(c=(0,n.jsx)(ec.C,{block:!0,c:"red",mt:"xs",style:i,children:x}),u[8]=x,u[9]=c):c=u[9],u[10]!==p||u[11]!==c?(d=(0,n.jsx)(ed.S,{in:p,children:c}),u[10]=p,u[11]=c,u[12]=d):d=u[12],u[13]!==o||u[14]!==d?(m=(0,n.jsxs)(n.Fragment,{children:[o,d]}),u[13]=o,u[14]=d,u[15]=m):m=u[15],m}function ex(e){return!e}var ep=t(71781),eb=t(9211);let ef="default",eg=q.map(e=>({value:e,label:e})),ej={timestampValueExpression:"TimeUnix",resourceAttributesExpression:"ResourceAttributes"},ey={[i.GL.Log]:{metricSourceId:[{targetKind:i.GL.Metric,targetField:"logSourceId"}],traceSourceId:[{targetKind:i.GL.Trace,targetField:"logSourceId"}]},[i.GL.Trace]:{logSourceId:[{targetKind:i.GL.Log,targetField:"traceSourceId"}],sessionSourceId:[{targetKind:i.GL.Session,targetField:"traceSourceId"}],metricSourceId:[{targetKind:i.GL.Metric,targetField:"logSourceId"}]},[i.GL.Session]:{traceSourceId:[{targetKind:i.GL.Trace,targetField:"sessionSourceId"}]},[i.GL.Metric]:{logSourceId:[{targetKind:i.GL.Log,targetField:"metricSourceId"}]}};function eS(e){let a,t,l,s,o,i,p,b,f,g,j,y=(0,r.c)(22),{label:S,children:v,helpText:w}=e;return y[0]===Symbol.for("react.memo_cache_sentinel")?(a={maxWidth:220,minWidth:220,height:"36px"},y[0]=a):a=y[0],y[1]!==S?(t="string"==typeof S?(0,n.jsx)(c.E,{tt:"capitalize",size:"sm",children:S}):S,y[1]=S,y[2]=t):t=y[2],y[3]!==t?(l=(0,n.jsx)(d.B,{justify:"center",style:a,children:t}),y[3]=t,y[4]=l):l=y[4],y[5]!==w?(s={...!w?{opacity:0,pointerEvents:"none"}:{}},y[5]=w,y[6]=s):s=y[6],y[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(z.A,{size:20,className:"cursor-pointer"}),y[7]=o):o=y[7],y[8]!==w?(i=(0,n.jsx)(m.m,{label:w,color:"dark",c:"white",multiline:!0,maw:600,children:o}),y[8]=w,y[9]=i):i=y[9],y[10]!==s||y[11]!==i?(p=(0,n.jsx)(u.o,{me:"sm",ms:"sm",style:s,children:i}),y[10]=s,y[11]=i,y[12]=p):p=y[12],y[13]!==l||y[14]!==p?(b=(0,n.jsxs)(h.s,{align:"center",children:[l,p]}),y[13]=l,y[14]=p,y[15]=b):b=y[15],y[16]===Symbol.for("react.memo_cache_sentinel")?(f={minWidth:0},y[16]=f):f=y[16],y[17]!==v?(g=(0,n.jsx)(x.a,{w:"100%",style:f,children:v}),y[17]=v,y[18]=g):g=y[18],y[19]!==g||y[20]!==b?(j=(0,n.jsxs)(h.s,{align:"flex-start",children:[b,g]}),y[19]=g,y[20]=b,y[21]=j):j=y[21],j}function ev(e){let a,t,i,d,u,x,f,g,j,y,S,v,w,C,N,$,I,F,L,H,M,D,Z,O,q,G,R=(0,r.c)(75),{id:B,index:P,control:K,databaseName:W,name:Y,tableName:Q,connectionId:X,removeHighlightedAttribute:U}=e,J=`${Y}.${P}.sqlExpression`;R[0]!==K||R[1]!==J?(a={control:K,name:J},R[0]=K,R[1]=J,R[2]=a):a=R[2];let ee=(0,s.FH)(a),ea=`${Y}.${P}.alias`;R[3]!==K||R[4]!==ea?(t={control:K,name:ea},R[3]=K,R[4]=ea,R[5]=t):t=R[5];let et=(0,s.FH)(t),[en,er]=(0,l.useState)();R[6]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{er(e)},R[6]=i):i=R[6];let el=(0,_.Y)(i,1e3);R[7]!==et||R[8]!==ee||R[9]!==el?(d=()=>{el({expression:ee,alias:et})},R[7]=et,R[8]=ee,R[9]=el,R[10]=d):d=R[10],R[11]!==et||R[12]!==ee?(u=[ee,et],R[11]=et,R[12]=ee,R[13]=u):u=R[13],(0,E.C)(d,u),R[14]!==W||R[15]!==Q?(x={databaseName:W,tableName:Q},R[14]=W,R[15]=Q,R[16]=x):x=R[16];let es=en?.alias,eo=en?.expression??"";R[17]!==eo||R[18]!==es?(f=[{alias:es,valueExpression:eo}],R[17]=eo,R[18]=es,R[19]=f):f=R[19],R[20]!==X||R[21]!==f||R[22]!==x?(g={from:x,connection:X,select:f,where:""},R[20]=X,R[21]=f,R[22]=x,R[23]=g):g=R[23];let ei=!!en?.expression;R[24]!==ei?(j={enabled:ei},R[24]=ei,R[25]=j):j=R[25];let{data:ec,error:ed,isLoading:em}=(0,V.R)(g,j);R[26]!==et||R[27]!==ee?(y=()=>{er({expression:ee,alias:et})},R[26]=et,R[27]=ee,R[28]=y):y=R[28];let eu=y,ex=!!ec?.length,eb=ed instanceof o.p1,ef=en?.expression===ee&&en?.alias===et&&(ex||eb);R[29]===Symbol.for("react.memo_cache_sentinel")?(S={display:"contents"},R[29]=S):S=R[29];let eg=`${Y}.${P}.sqlExpression`;R[30]!==X||R[31]!==W||R[32]!==Q?(v={databaseName:W,tableName:Q,connectionId:X},R[30]=X,R[31]=W,R[32]=Q,R[33]=v):v=R[33];let ej=`${Y}.${P}.sqlExpression`;R[34]!==K||R[35]!==v||R[36]!==ej?(w=(0,n.jsx)(k.Z,{tableConnection:v,control:K,name:ej,disableKeywordAutocomplete:!0,placeholder:"ResourceAttributes['http.host']"}),R[34]=K,R[35]=v,R[36]=ej,R[37]=w):w=R[37],R[38]!==eg||R[39]!==w?(C=(0,n.jsx)(p.x.Col,{span:3,pe:0,children:(0,n.jsx)("div",{style:S,"data-name":eg,children:w})}),R[38]=eg,R[39]=w,R[40]=C):C=R[40],R[41]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)(c.E,{c:"gray",children:"AS"}),R[41]=N):N=R[41];let ey=`${Y}.${P}.alias`;R[42]!==K||R[43]!==ey?($=(0,n.jsx)(k.Z,{control:K,name:ey,placeholder:"Optional Alias",disableKeywordAutocomplete:!0}),R[42]=K,R[43]=ey,R[44]=$):$=R[44];let eS=!ee||em;R[45]===Symbol.for("react.memo_cache_sentinel")?(I=(0,n.jsx)(T.A,{size:16}),R[45]=I):I=R[45],R[46]!==em||R[47]!==eu||R[48]!==eS?(F=(0,n.jsx)(m.m,{label:"Validate expression",children:(0,n.jsx)(b.M,{size:"xs",variant:"subtle",color:"gray",loading:em,disabled:eS,onClick:eu,children:I})}),R[46]=em,R[47]=eu,R[48]=eS,R[49]=F):F=R[49],R[50]!==P||R[51]!==U?(L=()=>U(P),R[50]=P,R[51]=U,R[52]=L):L=R[52],R[53]===Symbol.for("react.memo_cache_sentinel")?(H=(0,n.jsx)(A.A,{size:16}),R[53]=H):H=R[53],R[54]!==L?(M=(0,n.jsx)(b.M,{size:"xs",variant:"subtle",color:"gray",onClick:L,children:H}),R[54]=L,R[55]=M):M=R[55],R[56]!==$||R[57]!==F||R[58]!==M?(D=(0,n.jsx)(p.x.Col,{span:2,ps:"xs",children:(0,n.jsxs)(h.s,{align:"center",gap:"sm",children:[N,$,F,M]})}),R[56]=$,R[57]=F,R[58]=M,R[59]=D):D=R[59],R[60]!==ed?.message||R[61]!==eb||R[62]!==ex||R[63]!==ef?(Z=ef&&(0,n.jsxs)(p.x.Col,{span:5,pe:0,pt:0,children:[ex&&(0,n.jsx)(c.E,{c:"green",size:"xs",children:"Expression is valid."}),eb&&(0,n.jsx)(eh,{summary:"Expression is invalid",details:ed?.message})]}),R[60]=ed?.message,R[61]=eb,R[62]=ex,R[63]=ef,R[64]=Z):Z=R[64];let ev=`${Y}.${P}.luceneExpression`;return R[65]!==K||R[66]!==ev?(O=(0,n.jsx)(p.x.Col,{span:3,pe:0,children:(0,n.jsx)(ep.t4,{control:K,name:ev,placeholder:"ResourceAttributes.http.host (Optional) "})}),R[65]=K,R[66]=ev,R[67]=O):O=R[67],R[68]===Symbol.for("react.memo_cache_sentinel")?(q=(0,n.jsx)(p.x.Col,{span:1,pe:0,children:(0,n.jsx)(c.E,{me:"sm",mt:6,children:(0,n.jsx)(m.m,{label:"An optional, Lucene version of the above expression. If provided, it is used when searching for this attribute value.",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer"})})})}),R[68]=q):q=R[68],R[69]!==B||R[70]!==C||R[71]!==D||R[72]!==Z||R[73]!==O?(G=(0,n.jsxs)(l.Fragment,{children:[C,D,Z,O,q]},B),R[69]=B,R[70]=C,R[71]=D,R[72]=Z,R[73]=O,R[74]=G):G=R[74],G}function ew(e){let a,t,l,o,i,c,d,m,u,h,x=(0,r.c)(37),{control:b,name:g,label:j,helpText:y}=e;x[0]!==b?(a={control:b,name:"from.databaseName",defaultValue:ef},x[0]=b,x[1]=a):a=x[1];let S=(0,s.FH)(a);x[2]!==b?(t={control:b,name:"from.tableName"},x[2]=b,x[3]=t):t=x[3];let v=(0,s.FH)(t);x[4]!==b?(l={control:b,name:"connection"},x[4]=b,x[5]=l):l=x[5];let w=(0,s.FH)(l);x[6]!==b||x[7]!==g?(o={control:b,name:g},x[6]=b,x[7]=g,x[8]=o):o=x[8];let{fields:C,append:_,remove:E}=(0,s.jz)(o);if(x[9]!==w||x[10]!==b||x[11]!==S||x[12]!==C||x[13]!==g||x[14]!==E||x[15]!==v){let e;x[17]!==w||x[18]!==b||x[19]!==S||x[20]!==g||x[21]!==E||x[22]!==v?(e=(e,a)=>{let{id:t}=e;return(0,n.jsx)(ev,{id:t,index:a,name:g,control:b,databaseName:S,tableName:v,connectionId:w,removeHighlightedAttribute:E},t)},x[17]=w,x[18]=b,x[19]=S,x[20]=g,x[21]=E,x[22]=v,x[23]=e):e=x[23],i=C.map(e),x[9]=w,x[10]=b,x[11]=S,x[12]=C,x[13]=g,x[14]=E,x[15]=v,x[16]=i}else i=x[16];x[24]!==i?(c=(0,n.jsx)(p.x,{columns:5,children:i}),x[24]=i,x[25]=c):c=x[25];let N=C.length?"sm":"md";return x[26]!==_?(d=()=>{_({sqlExpression:"",luceneExpression:"",alias:""},{shouldFocus:!1})},x[26]=_,x[27]=d):d=x[27],x[28]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)($.A,{size:14,className:"me-2"}),x[28]=m):m=x[28],x[29]!==N||x[30]!==d?(u=(0,n.jsxs)(f.$,{variant:"secondary",size:"sm",className:"align-self-start",mt:N,onClick:d,children:[m,"Add expression"]}),x[29]=N,x[30]=d,x[31]=u):u=x[31],x[32]!==y||x[33]!==j||x[34]!==u||x[35]!==c?(h=(0,n.jsxs)(eS,{label:j,helpText:y,children:[c,u]}),x[32]=y,x[33]=j,x[34]=u,x[35]=c,x[36]=h):h=x[36],h}function eC(e){let a,t,l,o,i,c,m,u=(0,r.c)(22),{control:h,setValue:x}=e;u[0]!==h?(a={control:h,name:"from.databaseName",defaultValue:ef},u[0]=h,u[1]=a):a=u[1];let p=(0,s.FH)(a);u[2]!==h?(t={control:h,name:"materializedViews"},u[2]=h,u[3]=t):t=u[3];let{fields:b,append:j,remove:y}=(0,s.jz)(t);if(u[4]!==h||u[5]!==b||u[6]!==y||u[7]!==x){let e;u[9]!==h||u[10]!==y||u[11]!==x?(e=(e,a)=>(0,n.jsx)(e_,{control:h,mvIndex:a,setValue:x,onRemove:()=>y(a)},e.id),u[9]=h,u[10]=y,u[11]=x,u[12]=e):e=u[12],l=b.map(e),u[4]=h,u[5]=b,u[6]=y,u[7]=x,u[8]=l}else l=u[8];return u[13]!==j||u[14]!==p?(o=()=>{j({databaseName:p,tableName:"",dimensionColumns:"",minGranularity:"",timestampColumn:"",aggregatedColumns:[]})},u[13]=j,u[14]=p,u[15]=o):o=u[15],u[16]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsxs)(g.Y,{children:[(0,n.jsx)($.A,{size:16}),"Add Materialized View"]}),u[16]=i):i=u[16],u[17]!==o?(c=(0,n.jsx)(f.$,{variant:"secondary",onClick:o,children:i}),u[17]=o,u[18]=c):c=u[18],u[19]!==l||u[20]!==c?(m=(0,n.jsx)(d.B,{gap:"md",children:(0,n.jsx)(eS,{label:"Materialized Views",helpText:"Configure materialized views for query optimization. These pre-aggregated views can significantly improve query performance on aggregation queries.",children:(0,n.jsxs)(d.B,{gap:"md",children:[l,c]})})}),u[19]=l,u[20]=c,u[21]=m):m=u[21],m}function e_(e){let a,t,l,o,i,u,h,f,y,S,v,w,C,_,E,N,T,$,I,F,L,H,V,M,D,O=(0,r.c)(72),{control:q,mvIndex:G,onRemove:R,setValue:B}=e,P=(0,Z.Kh)();O[0]!==q?(a={control:q,name:"connection"},O[0]=q,O[1]=a):a=O[1];let K=(0,s.FH)(a);O[2]!==q?(t={control:q,name:"from.databaseName",defaultValue:ef},O[2]=q,O[3]=t):t=O[3];let W=(0,s.FH)(t),Y=`materializedViews.${G}.databaseName`;O[4]!==q||O[5]!==W||O[6]!==Y?(l={control:q,name:Y,defaultValue:W},O[4]=q,O[5]=W,O[6]=Y,O[7]=l):l=O[7];let Q=(0,s.FH)(l),X=`materializedViews.${G}.tableName`;O[8]!==q||O[9]!==X?(o={control:q,name:X,defaultValue:""},O[8]=q,O[9]=X,O[10]=o):o=O[10];let U=(0,s.FH)(o),J=`materializedViews.${G}.databaseName`;O[11]!==K||O[12]!==q||O[13]!==J?(i=(0,n.jsx)(p.x.Col,{span:1,children:(0,n.jsx)(en,{control:q,name:J,connectionId:K})}),O[11]=K,O[12]=q,O[13]=J,O[14]=i):i=O[14];let ee=`materializedViews.${G}.tableName`;O[15]!==K||O[16]!==q||O[17]!==Q||O[18]!==ee?(u=(0,n.jsx)(x.a,{flex:1,children:(0,n.jsx)(ei,{database:Q,control:q,name:ee,connectionId:K})}),O[15]=K,O[16]=q,O[17]=Q,O[18]=ee,O[19]=u):u=O[19],O[20]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(A.A,{size:16}),O[20]=h):h=O[20],O[21]!==R?(f=(0,n.jsx)(b.M,{size:"sm",onClick:R,children:h}),O[21]=R,O[22]=f):f=O[22],O[23]!==u||O[24]!==f?(y=(0,n.jsx)(p.x.Col,{span:1,children:(0,n.jsxs)(g.Y,{children:[u,f]})}),O[23]=u,O[24]=f,O[25]=y):y=O[25],O[26]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(c.E,{size:"xs",fw:500,mb:4,children:"Timestamp Column"}),O[26]=S):S=O[26],O[27]!==K||O[28]!==Q||O[29]!==U?(v={databaseName:Q,tableName:U,connectionId:K},O[27]=K,O[28]=Q,O[29]=U,O[30]=v):v=O[30];let ea=`materializedViews.${G}.timestampColumn`;O[31]!==q||O[32]!==v||O[33]!==ea?(w=(0,n.jsxs)(p.x.Col,{span:2,children:[S,(0,n.jsx)(k.Z,{tableConnection:v,control:q,placeholder:"Timestamp",name:ea,disableKeywordAutocomplete:!0})]}),O[31]=q,O[32]=v,O[33]=ea,O[34]=w):w=O[34],O[35]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Granularity",(0,n.jsx)(m.m,{label:"The granularity of the timestamp column",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),O[35]=C):C=O[35];let et=`materializedViews.${G}.minGranularity`;O[36]!==q||O[37]!==et?(_=(0,n.jsxs)(p.x.Col,{span:1,children:[C,(0,n.jsx)(s.xI,{control:q,name:et,render:eN})]}),O[36]=q,O[37]=et,O[38]=_):_=O[38];let er=`(Optional) The earliest date and time (in the local timezone) for which the materialized view contains data. If not provided, then ${P} will assume that the materialized view contains data for all dates for which the source table contains data.`;O[39]===Symbol.for("react.memo_cache_sentinel")?(E=(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"}),O[39]=E):E=O[39],O[40]!==er?(N=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Minimum Date",(0,n.jsx)(m.m,{label:er,color:"dark",c:"white",multiline:!0,maw:600,children:E})]}),O[40]=er,O[41]=N):N=O[41];let el=`materializedViews.${G}.minDate`;O[42]!==q||O[43]!==el?(T=(0,n.jsx)(s.xI,{control:q,name:el,render:eE}),O[42]=q,O[43]=el,O[44]=T):T=O[44],O[45]!==N||O[46]!==T?($=(0,n.jsxs)(p.x.Col,{span:1,children:[N,T]}),O[45]=N,O[46]=T,O[47]=$):$=O[47],O[48]!==y||O[49]!==w||O[50]!==_||O[51]!==$||O[52]!==i?(I=(0,n.jsxs)(p.x,{columns:2,flex:1,children:[i,y,w,_,$]}),O[48]=y,O[49]=w,O[50]=_,O[51]=$,O[52]=i,O[53]=I):I=O[53],O[54]===Symbol.for("react.memo_cache_sentinel")?(F=(0,n.jsxs)(c.E,{size:"xs",fw:500,mb:4,children:["Dimension Columns (comma-separated)",(0,n.jsx)(m.m,{label:"Columns which are not pre-aggregated in the materialized view and can be used for filtering and grouping.",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),O[54]=F):F=O[54],O[55]!==K||O[56]!==Q||O[57]!==U?(L={databaseName:Q,tableName:U,connectionId:K},O[55]=K,O[56]=Q,O[57]=U,O[58]=L):L=O[58];let es=`materializedViews.${G}.dimensionColumns`;return O[59]!==q||O[60]!==L||O[61]!==es?(H=(0,n.jsxs)(x.a,{children:[F,(0,n.jsx)(k.Z,{tableConnection:L,control:q,name:es,placeholder:"ServiceName, StatusCode",disableKeywordAutocomplete:!0})]}),O[59]=q,O[60]=L,O[61]=es,O[62]=H):H=O[62],O[63]!==q||O[64]!==G||O[65]!==B?(V=(0,n.jsx)(ez,{control:q,mvIndex:G,setValue:B}),O[63]=q,O[64]=G,O[65]=B,O[66]=V):V=O[66],O[67]===Symbol.for("react.memo_cache_sentinel")?(M=(0,n.jsx)(j.c,{}),O[67]=M):M=O[67],O[68]!==I||O[69]!==H||O[70]!==V?(D=(0,n.jsxs)(d.B,{gap:"sm",children:[I,H,V,M]}),O[68]=I,O[69]=H,O[70]=V,O[71]=D):D=O[71],D}function eE(e){let{field:a}=e;return(0,n.jsx)(C.J,{...a,value:a.value?new Date(a.value):void 0,onChange:e=>a.onChange(e?e.toISOString():null),clearable:!0,highlightToday:!0,placeholder:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss"})}function eN(e){let{field:a}=e;return(0,n.jsx)(y.l,{...a,data:G,placeholder:"Granularity",size:"sm"})}function ez({control:e,setValue:a,mvIndex:t}){let{fields:r,append:o,remove:d,replace:u}=(0,s.jz)({control:e,name:`materializedViews.${t}.aggregatedColumns`}),h=(0,l.useCallback)(()=>{o({sourceColumn:"",aggFn:"avg",mvColumn:""})},[o]),b=(0,s.FH)({control:e,name:"kind"}),j=(0,s.FH)({control:e,name:"connection"}),y=(0,s.FH)({control:e,name:`materializedViews.${t}.tableName`}),S=(0,s.FH)({control:e,name:`materializedViews.${t}.databaseName`}),v=(0,s.FH)({control:e,name:"from.databaseName"}),w=(0,s.FH)({control:e,name:"from.tableName"}),C=(0,l.useRef)(y),_=(0,M.Ge)();return(0,l.useEffect)(()=>{(async()=>{try{if(y!==C.current&&(C.current=y,(b===i.GL.Log||b===i.GL.Trace)&&j&&S&&y&&v&&w)){let e=await Q({databaseName:S,tableName:y,connectionId:j},{databaseName:v,tableName:w,connectionId:j},_);e?(a(`materializedViews.${t}`,e),u(e.aggregatedColumns??[]),N.$e.show({color:"green",id:"mv-infer-success",message:"Partially inferred materialized view configuration from view schema."})):N.$e.show({color:"yellow",id:"mv-infer-failure",message:"Unable to infer materialized view configuration."})}}catch(e){console.error(e)}})()},[y,b,j,S,v,w,t,u,a,_]),(0,n.jsxs)(x.a,{children:[(0,n.jsxs)(c.E,{size:"xs",mb:4,children:["Pre-aggregated Columns",(0,n.jsx)(m.m,{label:"Columns which are pre-aggregated by the materialized view",color:"dark",c:"white",multiline:!0,maw:600,children:(0,n.jsx)(z.A,{size:14,className:"cursor-pointer ms-1"})})]}),(0,n.jsx)(p.x,{columns:10,children:r.map((r,l)=>(0,n.jsx)(eT,{setValue:a,control:e,mvIndex:t,colIndex:l,onRemove:()=>d(l)},r.id))}),(0,n.jsx)(f.$,{size:"sm",variant:"secondary",onClick:h,mt:"lg",children:(0,n.jsxs)(g.Y,{children:[(0,n.jsx)($.A,{size:16}),"Add Column"]})})]})}function eT(e){let a,t,l,o,i,c,d,m,u,h,f,j,y,S,v,w=(0,r.c)(48),{control:C,mvIndex:_,colIndex:E,onRemove:N}=e;w[0]!==C?(a={control:C,name:"connection"},w[0]=C,w[1]=a):a=w[1];let z=(0,s.FH)(a);w[2]!==C?(t={control:C,name:"from.databaseName",defaultValue:ef},w[2]=C,w[3]=t):t=w[3];let T=(0,s.FH)(t);w[4]!==C?(l={control:C,name:"from.tableName"},w[4]=C,w[5]=l):l=w[5];let $=(0,s.FH)(l),I=`materializedViews.${_}.databaseName`;w[6]!==C||w[7]!==T||w[8]!==I?(o={control:C,name:I,defaultValue:T},w[6]=C,w[7]=T,w[8]=I,w[9]=o):o=w[9];let F=(0,s.FH)(o),L=`materializedViews.${_}.tableName`;w[10]!==C||w[11]!==L?(i={control:C,name:L},w[10]=C,w[11]=L,w[12]=i):i=w[12];let H=(0,s.FH)(i),V=`materializedViews.${_}.aggregatedColumns.${E}.aggFn`;w[13]!==C||w[14]!==V?(c={control:C,name:V},w[13]=C,w[14]=V,w[15]=c):c=w[15];let M="count"===(0,s.FH)(c),D=`materializedViews.${_}.aggregatedColumns.${E}.aggFn`;w[16]!==C||w[17]!==D?(d=(0,n.jsx)(p.x.Col,{span:2,children:(0,n.jsx)(eb.A,{control:C,name:D,data:eg,size:"sm"})}),w[16]=C,w[17]=D,w[18]=d):d=w[18],w[19]!==E||w[20]!==z||w[21]!==C||w[22]!==M||w[23]!==_||w[24]!==T||w[25]!==$?(m=!M&&(0,n.jsx)(p.x.Col,{span:4,children:(0,n.jsx)(k.Z,{tableConnection:{databaseName:T,tableName:$,connectionId:z},control:C,name:`materializedViews.${_}.aggregatedColumns.${E}.sourceColumn`,placeholder:"Source Column",disableKeywordAutocomplete:!0})}),w[19]=E,w[20]=z,w[21]=C,w[22]=M,w[23]=_,w[24]=T,w[25]=$,w[26]=m):m=w[26];let Z=M?8:4;w[27]!==z||w[28]!==F||w[29]!==H?(u={databaseName:F,tableName:H,connectionId:z},w[27]=z,w[28]=F,w[29]=H,w[30]=u):u=w[30];let O=`materializedViews.${_}.aggregatedColumns.${E}.mvColumn`;return w[31]!==C||w[32]!==u||w[33]!==O?(h=(0,n.jsx)(x.a,{flex:1,children:(0,n.jsx)(k.Z,{tableConnection:u,control:C,name:O,placeholder:"View Column",disableKeywordAutocomplete:!0})}),w[31]=C,w[32]=u,w[33]=O,w[34]=h):h=w[34],w[35]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(A.A,{size:16}),w[35]=f):f=w[35],w[36]!==N?(j=(0,n.jsx)(b.M,{size:"sm",onClick:N,children:f}),w[36]=N,w[37]=j):j=w[37],w[38]!==h||w[39]!==j?(y=(0,n.jsxs)(g.Y,{wrap:"nowrap",children:[h,j]}),w[38]=h,w[39]=j,w[40]=y):y=w[40],w[41]!==Z||w[42]!==y?(S=(0,n.jsx)(p.x.Col,{span:Z,children:y}),w[41]=Z,w[42]=y,w[43]=S):S=w[43],w[44]!==d||w[45]!==m||w[46]!==S?(v=(0,n.jsxs)(n.Fragment,{children:[d,m,S]}),w[44]=d,w[45]=m,w[46]=S,w[47]=v):v=w[47],v}function eA(e){let a,t,o,i,c,m,u,h,p,b,y,v,w,C,_,E,N,z,T,A,$,L,H,V,M,D,O,q,G,R,B,P,K,W,Y,Q,X,U,J,ee,ea,et,en,er,el=(0,r.c)(135),{control:es}=e,eo=(0,Z.Kh)();el[0]!==es?(a={control:es,name:"from.databaseName",defaultValue:ef},el[0]=es,el[1]=a):a=el[1];let ei=(0,s.FH)(a);el[2]!==es?(t={control:es,name:"from.tableName"},el[2]=es,el[3]=t):t=el[3];let ec=(0,s.FH)(t);el[4]!==es?(o={control:es,name:"connection"},el[4]=es,el[5]=o):o=el[5];let ed=(0,s.FH)(o),[em,eu]=(0,l.useState)(!1);el[6]!==ed||el[7]!==ei||el[8]!==ec?(i={databaseName:ei,tableName:ec,connectionId:ed},el[6]=ed,el[7]=ei,el[8]=ec,el[9]=i):i=el[9],el[10]!==es||el[11]!==i?(c=(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression that is part of your table's primary key.",children:(0,n.jsx)(k.Z,{tableConnection:i,control:es,name:"timestampValueExpression",disableKeywordAutocomplete:!0})}),el[10]=es,el[11]=i,el[12]=c):c=el[12],el[13]!==ed||el[14]!==ei||el[15]!==ec?(m={databaseName:ei,tableName:ec,connectionId:ed},el[13]=ed,el[14]=ei,el[15]=ec,el[16]=m):m=el[16],el[17]!==es||el[18]!==m?(u=(0,n.jsx)(eS,{label:"Default Select",helpText:"Default columns selected in search results (this can be customized per search later)",children:(0,n.jsx)(k.Z,{tableConnection:m,control:es,name:"defaultTableSelectExpression",placeholder:"Timestamp, Body"})}),el[17]=es,el[18]=m,el[19]=u):u=el[19],el[20]!==em?(h=!em&&(0,n.jsx)(S.M,{underline:"always",onClick:()=>eu(!0),size:"xs",children:(0,n.jsxs)(g.Y,{gap:"xs",children:[(0,n.jsx)(I.A,{size:14}),"Configure Optional Fields"]})}),el[20]=em,el[21]=h):h=el[21],el[22]!==em?(p=em&&(0,n.jsx)(f.$,{onClick:()=>eu(!1),size:"xs",variant:"subtle",children:"Hide Optional Fields"}),el[22]=em,el[23]=p):p=el[23],el[24]!==h||el[25]!==p?(b=(0,n.jsxs)(x.a,{children:[h,p]}),el[24]=h,el[25]=p,el[26]=b):b=el[26],el[27]!==c||el[28]!==u||el[29]!==b?(y=(0,n.jsxs)(d.B,{gap:"sm",children:[c,u,b]}),el[27]=c,el[28]=u,el[29]=b,el[30]=y):y=el[30];let eh=em?"flex":"none";el[31]!==eh?(v={display:eh},el[31]=eh,el[32]=v):v=el[32],el[33]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)(j.c,{}),el[33]=w):w=el[33],el[34]!==ed||el[35]!==ei||el[36]!==ec?(C={databaseName:ei,tableName:ec,connectionId:ed},el[34]=ed,el[35]=ei,el[36]=ec,el[37]=C):C=el[37],el[38]!==es||el[39]!==C?(_=(0,n.jsx)(eS,{label:"Service Name Expression",children:(0,n.jsx)(k.Z,{tableConnection:C,control:es,name:"serviceNameExpression",placeholder:"ServiceName"})}),el[38]=es,el[39]=C,el[40]=_):_=el[40],el[41]!==ed||el[42]!==ei||el[43]!==ec?(E={databaseName:ei,tableName:ec,connectionId:ed},el[41]=ed,el[42]=ei,el[43]=ec,el[44]=E):E=el[44],el[45]!==es||el[46]!==E?(N=(0,n.jsx)(eS,{label:"Log Level Expression",children:(0,n.jsx)(k.Z,{tableConnection:E,control:es,name:"severityTextExpression",placeholder:"SeverityText"})}),el[45]=es,el[46]=E,el[47]=N):N=el[47],el[48]!==ed||el[49]!==ei||el[50]!==ec?(z={databaseName:ei,tableName:ec,connectionId:ed},el[48]=ed,el[49]=ei,el[50]=ec,el[51]=z):z=el[51],el[52]!==es||el[53]!==z?(T=(0,n.jsx)(eS,{label:"Body Expression",children:(0,n.jsx)(k.Z,{tableConnection:z,control:es,name:"bodyExpression",placeholder:"Body"})}),el[52]=es,el[53]=z,el[54]=T):T=el[54],el[55]!==ed||el[56]!==ei||el[57]!==ec?(A={databaseName:ei,tableName:ec,connectionId:ed},el[55]=ed,el[56]=ei,el[57]=ec,el[58]=A):A=el[58],el[59]!==es||el[60]!==A?($=(0,n.jsx)(eS,{label:"Log Attributes Expression",children:(0,n.jsx)(k.Z,{tableConnection:A,control:es,name:"eventAttributesExpression",placeholder:"LogAttributes"})}),el[59]=es,el[60]=A,el[61]=$):$=el[61],el[62]!==ed||el[63]!==ei||el[64]!==ec?(L={databaseName:ei,tableName:ec,connectionId:ed},el[62]=ed,el[63]=ei,el[64]=ec,el[65]=L):L=el[65],el[66]!==es||el[67]!==L?(H=(0,n.jsx)(eS,{label:"Resource Attributes Expression",children:(0,n.jsx)(k.Z,{tableConnection:L,control:es,name:"resourceAttributesExpression",placeholder:"ResourceAttributes"})}),el[66]=es,el[67]=L,el[68]=H):H=el[68],el[69]!==ed||el[70]!==ei||el[71]!==ec?(V={databaseName:ei,tableName:ec,connectionId:ed},el[69]=ed,el[70]=ei,el[71]=ec,el[72]=V):V=el[72],el[73]!==es||el[74]!==V?(M=(0,n.jsx)(eS,{label:"Displayed Timestamp Column",helpText:"This DateTime column is used to display and order search results.",children:(0,n.jsx)(k.Z,{tableConnection:V,control:es,name:"displayedTimestampValueExpression",disableKeywordAutocomplete:!0})}),el[73]=es,el[74]=V,el[75]=M):M=el[75],el[76]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsx)(j.c,{}),el[76]=D):D=el[76];let ex=`${eo} Source for metrics associated with logs. Optional`;el[77]!==es?(O=(0,n.jsx)(F.W,{control:es,name:"metricSourceId"}),el[77]=es,el[78]=O):O=el[78],el[79]!==ex||el[80]!==O?(q=(0,n.jsx)(eS,{label:"Correlated Metric Source",helpText:ex,children:O}),el[79]=ex,el[80]=O,el[81]=q):q=el[81];let ep=`${eo} Source for traces associated with logs. Optional`;return el[82]!==es?(G=(0,n.jsx)(F.W,{control:es,name:"traceSourceId"}),el[82]=es,el[83]=G):G=el[83],el[84]!==ep||el[85]!==G?(R=(0,n.jsx)(eS,{label:"Correlated Trace Source",helpText:ep,children:G}),el[84]=ep,el[85]=G,el[86]=R):R=el[86],el[87]!==ed||el[88]!==ei||el[89]!==ec?(B={databaseName:ei,tableName:ec,connectionId:ed},el[87]=ed,el[88]=ei,el[89]=ec,el[90]=B):B=el[90],el[91]!==es||el[92]!==B?(P=(0,n.jsx)(eS,{label:"Trace Id Expression",children:(0,n.jsx)(k.Z,{tableConnection:B,control:es,name:"traceIdExpression",placeholder:"TraceId"})}),el[91]=es,el[92]=B,el[93]=P):P=el[93],el[94]!==ed||el[95]!==ei||el[96]!==ec?(K={databaseName:ei,tableName:ec,connectionId:ed},el[94]=ed,el[95]=ei,el[96]=ec,el[97]=K):K=el[97],el[98]!==es||el[99]!==K?(W=(0,n.jsx)(eS,{label:"Span Id Expression",children:(0,n.jsx)(k.Z,{tableConnection:K,control:es,name:"spanIdExpression",placeholder:"SpanId"})}),el[98]=es,el[99]=K,el[100]=W):W=el[100],el[101]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,n.jsx)(j.c,{}),el[101]=Y):Y=el[101],el[102]!==ed||el[103]!==ei||el[104]!==ec?(Q={databaseName:ei,tableName:ec,connectionId:ed},el[102]=ed,el[103]=ei,el[104]=ec,el[105]=Q):Q=el[105],el[106]!==es||el[107]!==Q?(X=(0,n.jsx)(eS,{label:"Implicit Column Expression",helpText:"Column used for full text search if no property is specified in a Lucene-based search. Typically the message body of a log.",children:(0,n.jsx)(k.Z,{tableConnection:Q,control:es,name:"implicitColumnExpression",placeholder:"Body"})}),el[106]=es,el[107]=Q,el[108]=X):X=el[108],el[109]===Symbol.for("react.memo_cache_sentinel")?(U=(0,n.jsx)(j.c,{}),el[109]=U):U=el[109],el[110]!==e?(J=(0,n.jsx)(ew,{...e,name:"highlightedRowAttributeExpressions",label:"Highlighted Attributes",helpText:"Expressions defining row-level attributes which are displayed in the row side panel for the selected row."}),ee=(0,n.jsx)(ew,{...e,name:"highlightedTraceAttributeExpressions",label:"Highlighted Trace Attributes",helpText:"Expressions defining trace-level attributes which are displayed in the trace view for the selected trace."}),el[110]=e,el[111]=J,el[112]=ee):(J=el[111],ee=el[112]),el[113]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,n.jsx)(j.c,{}),el[113]=ea):ea=el[113],el[114]!==e?(et=(0,n.jsx)(eC,{...e}),el[114]=e,el[115]=et):et=el[115],el[116]!==v||el[117]!==_||el[118]!==N||el[119]!==T||el[120]!==$||el[121]!==H||el[122]!==M||el[123]!==q||el[124]!==R||el[125]!==P||el[126]!==W||el[127]!==X||el[128]!==J||el[129]!==ee||el[130]!==et?(en=(0,n.jsxs)(d.B,{gap:"sm",style:v,children:[w,_,N,T,$,H,M,D,q,R,P,W,Y,X,U,J,ee,ea,et]}),el[116]=v,el[117]=_,el[118]=N,el[119]=T,el[120]=$,el[121]=H,el[122]=M,el[123]=q,el[124]=R,el[125]=P,el[126]=W,el[127]=X,el[128]=J,el[129]=ee,el[130]=et,el[131]=en):en=el[131],el[132]!==y||el[133]!==en?(er=(0,n.jsxs)(n.Fragment,{children:[y,en]}),el[132]=y,el[133]=en,el[134]=er):er=el[134],er}function e$(e){let a,t,l,o,i,c,m,u,h,p,b,f,g,y,S,v,w,C,_,E,N,z,T,A,$,I,L,H,V,M,D,O,q,G,R,B,P,K,W,Y,Q,X,U,J,ee,ea,et,en,er,el,es=(0,r.c)(168),{control:eo}=e,ei=(0,Z.Kh)();es[0]!==eo?(a={control:eo,name:"from.databaseName",defaultValue:ef},es[0]=eo,es[1]=a):a=es[1];let ec=(0,s.FH)(a);es[2]!==eo?(t={control:eo,name:"from.tableName"},es[2]=eo,es[3]=t):t=es[3];let ed=(0,s.FH)(t);es[4]!==eo?(l={control:eo,name:"connection"},es[4]=eo,es[5]=l):l=es[5];let em=(0,s.FH)(l);es[6]!==em||es[7]!==ec||es[8]!==ed?(o={databaseName:ec,tableName:ed,connectionId:em},es[6]=em,es[7]=ec,es[8]=ed,es[9]=o):o=es[9],es[10]!==eo||es[11]!==o?(i=(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression defines the start of the span",children:(0,n.jsx)(k.Z,{tableConnection:o,control:eo,name:"timestampValueExpression",placeholder:"Timestamp",disableKeywordAutocomplete:!0})}),es[10]=eo,es[11]=o,es[12]=i):i=es[12],es[13]!==em||es[14]!==ec||es[15]!==ed?(c={databaseName:ec,tableName:ed,connectionId:em},es[13]=em,es[14]=ec,es[15]=ed,es[16]=c):c=es[16],es[17]!==eo||es[18]!==c?(m=(0,n.jsx)(eS,{label:"Default Select",helpText:"Default columns selected in search results (this can be customized per search later)",children:(0,n.jsx)(k.Z,{tableConnection:c,control:eo,name:"defaultTableSelectExpression",placeholder:"Timestamp, ServiceName, StatusCode, Duration, SpanName"})}),es[17]=eo,es[18]=c,es[19]=m):m=es[19],es[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(j.c,{}),es[20]=u):u=es[20],es[21]!==em||es[22]!==ec||es[23]!==ed?(h={databaseName:ec,tableName:ed,connectionId:em},es[21]=em,es[22]=ec,es[23]=ed,es[24]=h):h=es[24],es[25]!==eo||es[26]!==h?(p=(0,n.jsx)(eS,{label:"Duration Expression",children:(0,n.jsx)(k.Z,{tableConnection:h,control:eo,name:"durationExpression",placeholder:"Duration Column"})}),es[25]=eo,es[26]=h,es[27]=p):p=es[27],es[28]!==eo?(b=(0,n.jsx)(eS,{label:"Duration Precision",children:(0,n.jsx)(x.a,{mx:"xl",children:(0,n.jsx)(s.xI,{control:eo,name:"durationPrecision",render:eI})})}),es[28]=eo,es[29]=b):b=es[29],es[30]!==em||es[31]!==ec||es[32]!==ed?(f={databaseName:ec,tableName:ed,connectionId:em},es[30]=em,es[31]=ec,es[32]=ed,es[33]=f):f=es[33],es[34]!==eo||es[35]!==f?(g=(0,n.jsx)(eS,{label:"Trace Id Expression",children:(0,n.jsx)(k.Z,{tableConnection:f,control:eo,name:"traceIdExpression",placeholder:"TraceId"})}),es[34]=eo,es[35]=f,es[36]=g):g=es[36],es[37]!==em||es[38]!==ec||es[39]!==ed?(y={databaseName:ec,tableName:ed,connectionId:em},es[37]=em,es[38]=ec,es[39]=ed,es[40]=y):y=es[40],es[41]!==eo||es[42]!==y?(S=(0,n.jsx)(eS,{label:"Span Id Expression",children:(0,n.jsx)(k.Z,{tableConnection:y,control:eo,name:"spanIdExpression",placeholder:"SpanId"})}),es[41]=eo,es[42]=y,es[43]=S):S=es[43],es[44]!==em||es[45]!==ec||es[46]!==ed?(v={databaseName:ec,tableName:ed,connectionId:em},es[44]=em,es[45]=ec,es[46]=ed,es[47]=v):v=es[47],es[48]!==eo||es[49]!==v?(w=(0,n.jsx)(eS,{label:"Parent Span Id Expression",children:(0,n.jsx)(k.Z,{tableConnection:v,control:eo,name:"parentSpanIdExpression",placeholder:"ParentSpanId"})}),es[48]=eo,es[49]=v,es[50]=w):w=es[50],es[51]!==em||es[52]!==ec||es[53]!==ed?(C={databaseName:ec,tableName:ed,connectionId:em},es[51]=em,es[52]=ec,es[53]=ed,es[54]=C):C=es[54],es[55]!==eo||es[56]!==C?(_=(0,n.jsx)(eS,{label:"Span Name Expression",children:(0,n.jsx)(k.Z,{tableConnection:C,control:eo,name:"spanNameExpression",placeholder:"SpanName"})}),es[55]=eo,es[56]=C,es[57]=_):_=es[57],es[58]!==em||es[59]!==ec||es[60]!==ed?(E={databaseName:ec,tableName:ed,connectionId:em},es[58]=em,es[59]=ec,es[60]=ed,es[61]=E):E=es[61],es[62]!==eo||es[63]!==E?(N=(0,n.jsx)(eS,{label:"Span Kind Expression",children:(0,n.jsx)(k.Z,{tableConnection:E,control:eo,name:"spanKindExpression",placeholder:"SpanKind"})}),es[62]=eo,es[63]=E,es[64]=N):N=es[64],es[65]===Symbol.for("react.memo_cache_sentinel")?(z=(0,n.jsx)(j.c,{}),es[65]=z):z=es[65];let eu=`${ei} Source for logs associated with traces. Optional`;es[66]!==eo?(T=(0,n.jsx)(F.W,{control:eo,name:"logSourceId"}),es[66]=eo,es[67]=T):T=es[67],es[68]!==eu||es[69]!==T?(A=(0,n.jsx)(eS,{label:"Correlated Log Source",helpText:eu,children:T}),es[68]=eu,es[69]=T,es[70]=A):A=es[70];let eh=`${ei} Source for sessions associated with traces. Optional`;es[71]!==eo?($=(0,n.jsx)(F.W,{control:eo,name:"sessionSourceId"}),es[71]=eo,es[72]=$):$=es[72],es[73]!==eh||es[74]!==$?(I=(0,n.jsx)(eS,{label:"Correlated Session Source",helpText:eh,children:$}),es[73]=eh,es[74]=$,es[75]=I):I=es[75];let ex=`${ei} Source for metrics associated with traces. Optional`;return es[76]!==eo?(L=(0,n.jsx)(F.W,{control:eo,name:"metricSourceId"}),es[76]=eo,es[77]=L):L=es[77],es[78]!==ex||es[79]!==L?(H=(0,n.jsx)(eS,{label:"Correlated Metric Source",helpText:ex,children:L}),es[78]=ex,es[79]=L,es[80]=H):H=es[80],es[81]!==em||es[82]!==ec||es[83]!==ed?(V={databaseName:ec,tableName:ed,connectionId:em},es[81]=em,es[82]=ec,es[83]=ed,es[84]=V):V=es[84],es[85]!==eo||es[86]!==V?(M=(0,n.jsx)(eS,{label:"Status Code Expression",children:(0,n.jsx)(k.Z,{tableConnection:V,control:eo,name:"statusCodeExpression",placeholder:"StatusCode"})}),es[85]=eo,es[86]=V,es[87]=M):M=es[87],es[88]!==em||es[89]!==ec||es[90]!==ed?(D={databaseName:ec,tableName:ed,connectionId:em},es[88]=em,es[89]=ec,es[90]=ed,es[91]=D):D=es[91],es[92]!==eo||es[93]!==D?(O=(0,n.jsx)(eS,{label:"Status Message Expression",children:(0,n.jsx)(k.Z,{tableConnection:D,control:eo,name:"statusMessageExpression",placeholder:"StatusMessage"})}),es[92]=eo,es[93]=D,es[94]=O):O=es[94],es[95]!==em||es[96]!==ec||es[97]!==ed?(q={databaseName:ec,tableName:ed,connectionId:em},es[95]=em,es[96]=ec,es[97]=ed,es[98]=q):q=es[98],es[99]!==eo||es[100]!==q?(G=(0,n.jsx)(eS,{label:"Service Name Expression",children:(0,n.jsx)(k.Z,{tableConnection:q,control:eo,name:"serviceNameExpression",placeholder:"ServiceName"})}),es[99]=eo,es[100]=q,es[101]=G):G=es[101],es[102]!==em||es[103]!==ec||es[104]!==ed?(R={databaseName:ec,tableName:ed,connectionId:em},es[102]=em,es[103]=ec,es[104]=ed,es[105]=R):R=es[105],es[106]!==eo||es[107]!==R?(B=(0,n.jsx)(eS,{label:"Resource Attributes Expression",children:(0,n.jsx)(k.Z,{tableConnection:R,control:eo,name:"resourceAttributesExpression",placeholder:"ResourceAttributes"})}),es[106]=eo,es[107]=R,es[108]=B):B=es[108],es[109]!==em||es[110]!==ec||es[111]!==ed?(P={databaseName:ec,tableName:ed,connectionId:em},es[109]=em,es[110]=ec,es[111]=ed,es[112]=P):P=es[112],es[113]!==eo||es[114]!==P?(K=(0,n.jsx)(eS,{label:"Event Attributes Expression",children:(0,n.jsx)(k.Z,{tableConnection:P,control:eo,name:"eventAttributesExpression",placeholder:"SpanAttributes"})}),es[113]=eo,es[114]=P,es[115]=K):K=es[115],es[116]!==em||es[117]!==ec||es[118]!==ed?(W={databaseName:ec,tableName:ed,connectionId:em},es[116]=em,es[117]=ec,es[118]=ed,es[119]=W):W=es[119],es[120]!==eo||es[121]!==W?(Y=(0,n.jsx)(eS,{label:"Span Events Expression",helpText:"Expression to extract span events. Used to capture events associated with spans. Expected to be Nested ( Timestamp DateTime64(9), Name LowCardinality(String), Attributes Map(LowCardinality(String), String)",children:(0,n.jsx)(k.Z,{tableConnection:W,control:eo,name:"spanEventsValueExpression",placeholder:"Events"})}),es[120]=eo,es[121]=W,es[122]=Y):Y=es[122],es[123]!==em||es[124]!==ec||es[125]!==ed?(Q={databaseName:ec,tableName:ed,connectionId:em},es[123]=em,es[124]=ec,es[125]=ed,es[126]=Q):Q=es[126],es[127]!==eo||es[128]!==Q?(X=(0,n.jsx)(eS,{label:"Implicit Column Expression",helpText:"Column used for full text search if no property is specified in a Lucene-based search. Typically the message body of a log.",children:(0,n.jsx)(k.Z,{tableConnection:Q,control:eo,name:"implicitColumnExpression",placeholder:"SpanName"})}),es[127]=eo,es[128]=Q,es[129]=X):X=es[129],es[130]!==em||es[131]!==ec||es[132]!==ed?(U={databaseName:ec,tableName:ed,connectionId:em},es[130]=em,es[131]=ec,es[132]=ed,es[133]=U):U=es[133],es[134]!==eo||es[135]!==U?(J=(0,n.jsx)(eS,{label:"Displayed Timestamp Column",helpText:"This DateTime column is used to display and order search results.",children:(0,n.jsx)(k.Z,{tableConnection:U,control:eo,name:"displayedTimestampValueExpression",disableKeywordAutocomplete:!0})}),es[134]=eo,es[135]=U,es[136]=J):J=es[136],es[137]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,n.jsx)(j.c,{}),es[137]=ee):ee=es[137],es[138]!==e?(ea=(0,n.jsx)(ew,{...e,name:"highlightedRowAttributeExpressions",label:"Highlighted Attributes",helpText:"Expressions defining row-level attributes which are displayed in the row side panel for the selected row"}),et=(0,n.jsx)(ew,{...e,name:"highlightedTraceAttributeExpressions",label:"Highlighted Trace Attributes",helpText:"Expressions defining trace-level attributes which are displayed in the trace view for the selected trace."}),es[138]=e,es[139]=ea,es[140]=et):(ea=es[139],et=es[140]),es[141]===Symbol.for("react.memo_cache_sentinel")?(en=(0,n.jsx)(j.c,{}),es[141]=en):en=es[141],es[142]!==e?(er=(0,n.jsx)(eC,{...e}),es[142]=e,es[143]=er):er=es[143],es[144]!==b||es[145]!==g||es[146]!==S||es[147]!==w||es[148]!==_||es[149]!==N||es[150]!==A||es[151]!==I||es[152]!==H||es[153]!==M||es[154]!==O||es[155]!==G||es[156]!==B||es[157]!==i||es[158]!==K||es[159]!==Y||es[160]!==X||es[161]!==J||es[162]!==ea||es[163]!==et||es[164]!==er||es[165]!==m||es[166]!==p?(el=(0,n.jsxs)(d.B,{gap:"sm",children:[i,m,u,p,b,g,S,w,_,N,z,A,I,H,M,O,G,B,K,Y,X,J,ee,ea,et,en,er]}),es[144]=b,es[145]=g,es[146]=S,es[147]=w,es[148]=_,es[149]=N,es[150]=A,es[151]=I,es[152]=H,es[153]=M,es[154]=O,es[155]=G,es[156]=B,es[157]=i,es[158]=K,es[159]=Y,es[160]=X,es[161]=J,es[162]=ea,es[163]=et,es[164]=er,es[165]=m,es[166]=p,es[167]=el):el=es[167],el}function eI(e){let{field:a}=e,{onChange:t,value:r}=a;return(0,n.jsx)("div",{style:{width:"90%",marginBottom:8},children:(0,n.jsx)(v.A,{color:"green",defaultValue:0,min:0,max:9,marks:[{value:0,label:"Seconds"},{value:3,label:"Millisecond"},{value:6,label:"Microsecond"},{value:9,label:"Nanosecond"}],value:r,onChange:t})})}function ek({control:e}){let a=(0,Z.Kh)(),t=(0,s.FH)({control:e,name:"from.databaseName",defaultValue:ef}),r=(0,s.FH)({control:e,name:"connection"}),o=(0,s.FH)({control:e,name:"from.tableName"}),i=(0,l.useRef)(o),c=(0,M.Ge)();return(0,l.useEffect)(()=>{(async()=>{try{o&&o!==i.current&&(i.current=o,await (0,D.Al)({databaseName:t,tableName:o,connectionId:r,metadata:c})||N.$e.show({color:"red",message:`${o} is not a valid Sessions schema.`}))}catch(e){console.error(e),N.$e.show({color:"red",message:e.message})}})()},[o,t,r,c]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.B,{gap:"sm",children:[(0,n.jsx)(eS,{label:"Correlated Trace Source",helpText:`${a} Source for traces associated with sessions. Required`,children:(0,n.jsx)(F.W,{control:e,name:"traceSourceId"})}),(0,n.jsx)(eS,{label:"Timestamp Column",helpText:"DateTime column or expression that is part of your table's primary key.",children:(0,n.jsx)(k.Z,{tableConnection:{databaseName:t,tableName:o,connectionId:r},control:e,name:"timestampValueExpression",disableKeywordAutocomplete:!0})})]})})}function eF({control:e,setValue:a}){let t=(0,Z.Kh)(),r=(0,s.FH)({control:e,name:"from.databaseName",defaultValue:ef}),o=(0,s.FH)({control:e,name:"connection"}),c=(0,s.FH)({control:e,name:"metricTables"}),m=(0,l.useRef)(c),u=(0,M.Ge)();return(0,l.useEffect)(()=>{for(let[e,t]of Object.entries(ej))a(e,t)},[a]),(0,l.useEffect)(()=>{(async()=>{try{if(c&&m.current)for(let e of Object.values(i.SX)){let a=c[e],t=m.current[e];a!==t&&(await (0,D.fS)({databaseName:r,tableName:a,connectionId:o,metricType:e,metadata:u})||N.$e.show({color:"red",message:`${a} is not a valid OTEL ${e} schema.`}))}m.current=c}catch(e){console.error(e),N.$e.show({color:"red",message:e.message})}})()},[c,r,o,u]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.B,{gap:"sm",children:[Object.values(i.SX).map(a=>(0,n.jsx)(eS,{label:`${a} Table`,helpText:a===i.SX.ExponentialHistogram||a===i.SX.Summary?`Table containing ${a.toLowerCase()} metrics data. Note: not yet fully supported by ${t}`:`Table containing ${a.toLowerCase()} metrics data`,children:(0,n.jsx)(ei,{connectionId:o,database:r,control:e,name:`metricTables.${a.toLowerCase()}`})},a.toLowerCase())),(0,n.jsx)(eS,{label:"Correlated Log Source",helpText:`${t} Source for logs associated with metrics. Optional`,children:(0,n.jsx)(F.W,{control:e,name:"logSourceId"})})]})})}function eL(e){let a=(0,r.c)(12),{control:t,setValue:l,kind:s}=e;switch(s){case i.GL.Log:{let e;return a[0]!==t||a[1]!==l?(e=(0,n.jsx)(eA,{control:t,setValue:l}),a[0]=t,a[1]=l,a[2]=e):e=a[2],e}case i.GL.Trace:{let e;return a[3]!==t||a[4]!==l?(e=(0,n.jsx)(e$,{control:t,setValue:l}),a[3]=t,a[4]=l,a[5]=e):e=a[5],e}case i.GL.Session:{let e;return a[6]!==t||a[7]!==l?(e=(0,n.jsx)(ek,{control:t,setValue:l}),a[6]=t,a[7]=l,a[8]=e):e=a[8],e}case i.GL.Metric:{let e;return a[9]!==t||a[10]!==l?(e=(0,n.jsx)(eF,{control:t,setValue:l}),a[9]=t,a[10]=l,a[11]=e):e=a[11],e}}}function eH({sourceId:e,onSave:a,onCreate:t,isNew:r=!1,defaultName:o="",onCancel:m}){let{data:u}=(0,D.Fo)({id:e}),{data:x}=(0,H.ZY)(),{control:j,setValue:y,handleSubmit:v,resetField:C,setError:_,clearErrors:E}=(0,s.mN)({defaultValues:{kind:i.GL.Log,name:o,connection:x?.[0]?.id,from:{databaseName:"default",tableName:""},querySettings:u?.querySettings},values:u,resetOptions:{keepDirtyValues:!0,keepErrors:!0}}),z=(0,s.FH)({control:j,name:"connection",defaultValue:u?.connection}),T=(0,s.FH)({control:j,name:"from.databaseName",defaultValue:u?.from?.databaseName||ef}),I=(0,s.FH)({control:j,name:"from.tableName",defaultValue:u?.from?.tableName}),k=(0,s.FH)({control:j,name:"kind",defaultValue:u?.kind||i.GL.Log}),F=(0,l.useRef)(I),V=(0,M.Ge)();(0,l.useEffect)(()=>{(async()=>{try{if(I!==F.current&&(F.current=I,null!=z&&null!=T&&(k===i.GL.Metric||null!=I))){let e=await (0,D.Ys)({databaseName:T,tableName:k!==i.GL.Metric?I:"",connectionId:z,metadata:V});Object.keys(e).length>0&&N.$e.show({color:"green",message:"Automatically inferred source configuration from table schema."}),Object.entries(e).forEach(([e,a])=>{C(e,{keepDirty:!0,defaultValue:a})})}}catch(e){console.error(e)}})()},[I,z,T,k,C,V]),(0,l.useEffect)(()=>{C("connection",{defaultValue:x?.[0]?.id})},[x,C]);let Z=(0,s.FH)({control:j,name:"kind",defaultValue:u?.kind||i.GL.Log}),O=(0,D.nd)(),q=(0,D.sr)(),G=(0,D.YI)(),{data:R}=(0,D.oE)(),B=(0,s.FH)({control:j,name:"id"}),P=(0,s.FH)({control:j,name:"logSourceId"}),K=(0,s.FH)({control:j,name:"traceSourceId"}),W=(0,s.FH)({control:j,name:"metricSourceId"}),Y=(0,s.FH)({control:j,name:"traceSourceId"}),Q=(0,l.useRef)(P),J=(0,l.useRef)(K),ee=(0,l.useRef)(W),ea=(0,l.useRef)(Y);(0,l.useEffect)(()=>{(async()=>{if(!B||!R||!Z)return;let e=ey[Z];if(!e)return;let a=[];for(let{name:t,value:n}of(P!==Q.current&&(Q.current=P,a.push({name:"logSourceId",value:P??void 0})),K!==J.current&&(J.current=K,a.push({name:"traceSourceId",value:K??void 0})),W!==ee.current&&(ee.current=W,a.push({name:"metricSourceId",value:W??void 0})),Y!==ea.current&&Z===i.GL.Session&&(ea.current=Y,a.push({name:"traceSourceId",value:Y??void 0})),a))if(t in e)for(let{targetKind:a,targetField:r}of e[t]){let e=R.find(e=>e.kind===a&&e[r]===B);if(e&&e.id!==n&&await q.mutateAsync({source:{...e,[r]:void 0}}),n){let e=R.find(e=>e.id===n);e&&e.kind===a&&!e[r]&&await q.mutateAsync({source:{...e,[r]:B}})}}})()},[P,K,W,Y,Z,B,R,q]);let et=(0,i.z1)({id:!0}),er=(0,l.useCallback)(({errors:e},a)=>{let t=[];for(let n of(console.debug(`[${a}] SourceForm validation error`,JSON.stringify(e)),e)){let e=n.path.join(".");_(e,{...n});let a="Required"===n.message?`${e}: ${n.message}`:n.message;t.push(a)}N.$e.show({color:"red",message:(0,n.jsxs)(d.B,{children:[(0,n.jsx)(c.E,{size:"sm",children:(0,n.jsx)("b",{children:"Failed to create source"})}),t.map((e,a)=>(0,n.jsxs)(c.E,{size:"sm",children:[" ",e]},a))]})})},[_]),el=(0,l.useCallback)(()=>{E(),v(async e=>{let a=et.safeParse(e);a.error?er(a.error,"create"):O.mutate({source:e},{onSuccess:async e=>{let a=ey[e.kind];if(a&&R)for(let[t,n]of Object.entries(a)){let a=e[t];if(a)for(let{targetKind:t,targetField:r}of n){let n=R.find(e=>e.id===a);n&&n.kind===t&&!n[r]&&await q.mutateAsync({source:{...n,[r]:e.id}})}}t?.(e),N.$e.show({color:"green",message:"Source created"})},onError:e=>{N.$e.show({color:"red",message:`Failed to create source - ${e.message}`})}})})()},[E,er,et,v,O,t,R,q]),es=(0,l.useCallback)(()=>{E(),v(e=>{let t=et.safeParse(e);t.error?er(t.error,"save"):q.mutate({source:e},{onSuccess:()=>{a?.(),N.$e.show({color:"green",message:"Source updated"})},onError:()=>{N.$e.show({color:"red",message:"Failed to update source"})}})})()},[v,q,a,E,er,et]),eo=(0,s.FH)({control:j,name:"from.databaseName",defaultValue:u?.from?.databaseName||ef}),ec=(0,s.FH)({control:j,name:"connection",defaultValue:u?.connection}),{fields:ed,append:em,remove:eu}=(0,s.jz)({control:j,name:"querySettings"});return(0,n.jsxs)("div",{style:{},children:[(0,n.jsxs)(d.B,{gap:"md",mb:"md",children:[(0,n.jsx)(c.E,{mb:"lg",children:"Source Settings"}),(0,n.jsx)(eS,{label:"Name",children:(0,n.jsx)(ep.t4,{control:j,name:"name",rules:{required:"Name is required"}})}),(0,n.jsx)(eS,{label:"Source Data Type",children:(0,n.jsx)(s.xI,{control:j,name:"kind",render:({field:{onChange:e,value:a}})=>(0,n.jsx)(w.s.Group,{value:a,onChange:a=>e(a),withAsterisk:!0,children:(0,n.jsxs)(g.Y,{children:[(0,n.jsx)(w.s,{value:i.GL.Log,label:"Log"}),(0,n.jsx)(w.s,{value:i.GL.Trace,label:"Trace"}),L.Fm&&(0,n.jsx)(w.s,{value:i.GL.Metric,label:"OTEL Metrics"}),L.vN&&(0,n.jsx)(w.s,{value:i.GL.Session,label:"Session"})]})})})}),(0,n.jsx)(eS,{label:"Server Connection",children:(0,n.jsx)(U.r,{control:j,name:"connection"})}),(0,n.jsx)(eS,{label:"Database",children:(0,n.jsx)(en,{control:j,name:"from.databaseName",connectionId:ec})}),Z!==i.GL.Metric&&(0,n.jsx)(eS,{label:"Table",children:(0,n.jsx)(ei,{database:eo,control:j,name:"from.tableName",connectionId:ec,rules:{required:"Table is required"}})}),(0,n.jsxs)(eS,{label:(0,n.jsx)(S.M,{href:"https://clickhouse.com/docs/operations/settings/settings",size:"sm",target:"_blank",children:"Query Settings"}),helpText:"Query-level Session Settings that will be added to each query for this source.",children:[(0,n.jsx)(p.x,{columns:11,children:ed.map((e,a)=>(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(p.x.Col,{span:5,pe:0,children:(0,n.jsx)(ep.t4,{placeholder:"Setting",control:j,name:`querySettings.${a}.setting`})}),(0,n.jsx)(p.x.Col,{span:5,pe:0,children:(0,n.jsx)(ep.t4,{placeholder:"Value",control:j,name:`querySettings.${a}.value`})}),(0,n.jsx)(p.x.Col,{span:1,ps:0,children:(0,n.jsx)(h.s,{align:"center",justify:"center",gap:"sm",h:"100%",children:(0,n.jsx)(b.M,{variant:"subtle",color:"gray",title:"Remove setting",onClick:()=>eu(a),children:(0,n.jsx)(A.A,{size:16})})})})]},e.id))}),(0,n.jsxs)(f.$,{variant:"secondary",size:"sm",color:"gray",mt:"md",disabled:ed.length>=10,onClick:()=>{ed.length<10&&em({setting:"",value:""})},children:[(0,n.jsx)($.A,{size:14,className:"me-2"}),"Add Setting"]})]})]}),(0,n.jsx)(eL,{control:j,setValue:y,kind:Z}),(0,n.jsxs)(g.Y,{justify:"flex-end",mt:"lg",children:[m&&(0,n.jsx)(f.$,{variant:"secondary",onClick:m,size:"xs",children:"Cancel"}),r?(0,n.jsx)(f.$,{variant:"primary",onClick:el,size:"xs",loading:O.isPending,children:"Save New Source"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(X.A,{onDelete:()=>G.mutate({id:e??""})}),(0,n.jsx)(f.$,{variant:"primary",onClick:es,size:"xs",loading:O.isPending,children:"Save Source"})]})]})]})}},43567:(e,a,t)=>{"use strict";t.d(a,{B:()=>N});var n,r=t(6029),l=t(75155),s=t(55729),o=t(1909),i=t(88459),c=t(43517),d=t(60481),m=t(25062),u=t(78253),h=t(23935),x=t(3635),p=t(63085),b=t(34834),f=t(60665),g=t(95316),j=t(97702),y=t(6876),S=t(71781),v=t(98142),w=t(93108),C=t(92917),_=t(24207),E=((n=E||{}).Loading="loading",n.Valid="valid",n.Invalid="invalid",n);function N(e){let a,t,n,E,N,A,$,I,k,F,L,H,V,M,D,Z,O,q,G,R,B,P,K,W,Y,Q,X,U,J,ee,ea,et,en,er,el=(0,l.c)(98),{connection:es,isNew:eo,onSave:ei,onClose:ec,showCancelButton:ed,showDeleteButton:em}=e,eu=void 0!==ed&&ed,eh=void 0!==em&&em;el[0]!==es.host||el[1]!==es.hyperdxSettingPrefix||el[2]!==es.id||el[3]!==es.name||el[4]!==es.password||el[5]!==es.username?(a={defaultValues:{id:es.id,name:es.name,host:es.host,username:es.username,password:es.password,hyperdxSettingPrefix:es.hyperdxSettingPrefix}},el[0]=es.host,el[1]=es.hyperdxSettingPrefix,el[2]=es.id,el[3]=es.name,el[4]=es.password,el[5]=es.username,el[6]=a):a=el[6];let{control:ex,handleSubmit:ep,resetField:eb,getValues:ef,formState:eg}=(0,o.mN)(a),ej=(0,w.Ir)(),ey=(0,w.Zm)(),eS=(0,w.PQ)();el[7]!==es.id||el[8]!==ej||el[9]!==eo||el[10]!==ei||el[11]!==ey?(t=e=>{let a={...e,host:(0,C.KL)(e.host),hyperdxSettingPrefix:e.hyperdxSettingPrefix||null};if(eo){let{id:e,...t}=a;ej.mutate({connection:t},{onSuccess:()=>{f.$e.show({color:"green",message:"Connection created successfully"}),ei?.()},onError:T})}else ey.mutate({connection:a,id:es.id},{onSuccess:()=>{f.$e.show({color:"green",message:"Connection updated successfully"}),ei?.()},onError:z})},el[7]=es.id,el[8]=ej,el[9]=eo,el[10]=ei,el[11]=ey,el[12]=t):t=el[12];let ev=t,[ew,eC]=(0,s.useState)(!1),[e_,eE]=(0,s.useState)(!1);el[13]!==ef?(n={getValues:ef},el[13]=ef,el[14]=n):n=el[14];let{testConnectionState:eN,handleTestConnection:ez}=function({getValues:e}){let a=y.Ay.useTestConnection(),[t,n]=(0,s.useState)(null),r=(0,s.useCallback)(async()=>{let r=e("host"),l=e("username"),s=e("password"),o=(0,C.KL)(r);if(!t){if(n("loading"),v.VO)try{await (0,i.Kc)({host:o,username:l,password:s})?n("valid"):(n("invalid"),f.$e.show({color:"red",message:"Connection test failed",autoClose:5e3}))}catch(e){console.error(e),n("invalid"),f.$e.show({color:"red",message:e.message,autoClose:5e3})}else try{let e=await a.mutateAsync({host:o,username:l,password:s});e.success?n("valid"):(n("invalid"),f.$e.show({color:"red",message:e.error||"Connection test failed",autoClose:5e3}))}catch(a){let e=await a.response?.json();n("invalid"),f.$e.show({color:"red",message:e?.error??"Failed to test connection",autoClose:5e3})}setTimeout(()=>{n(null)},2e3)}},[e,a,t]);return{testConnectionState:t,handleTestConnection:r}}(n);el[15]!==ep||el[16]!==ev?(E=e=>{e.preventDefault(),ep(e=>{ev(e)})()},el[15]=ep,el[16]=ev,el[17]=E):E=el[17],el[18]===Symbol.for("react.memo_cache_sentinel")?(N=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Connection Name"}),el[18]=N):N=el[18],el[19]===Symbol.for("react.memo_cache_sentinel")?(A={required:"Connection name is required"},el[19]=A):A=el[19],el[20]!==ex?($=(0,r.jsxs)(d.a,{children:[N,(0,r.jsx)(S.t4,{"data-testid":"connection-name-input",name:"name",control:ex,placeholder:"My Clickhouse Server",rules:A})]}),el[20]=ex,el[21]=$):$=el[21],el[22]===Symbol.for("react.memo_cache_sentinel")?(I=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Host"}),el[22]=I):I=el[22],el[23]===Symbol.for("react.memo_cache_sentinel")?(k={required:"Host is required"},el[23]=k):k=el[23],el[24]!==ex?(F=(0,r.jsxs)(d.a,{children:[I,(0,r.jsx)(S.t4,{"data-testid":"connection-host-input",name:"host",control:ex,placeholder:"http://localhost:8123",rules:k})]}),el[24]=ex,el[25]=F):F=el[25],el[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Username"}),el[26]=L):L=el[26],el[27]!==ex?(H=(0,r.jsxs)(d.a,{children:[L,(0,r.jsx)(S.t4,{"data-testid":"connection-username-input",name:"username",control:ex,placeholder:"Username (default: default)"})]}),el[27]=ex,el[28]=H):H=el[28],el[29]===Symbol.for("react.memo_cache_sentinel")?(V=(0,r.jsx)(c.E,{size:"xs",mb:"xs",children:"Password"}),el[29]=V):V=el[29],el[30]!==eo||el[31]!==ew?(M=!ew&&!eo&&(0,r.jsx)(m.$,{"data-testid":"update-password-button",variant:"secondary",onClick:()=>{eC(!0)},children:"Update Password"}),el[30]=eo,el[31]=ew,el[32]=M):M=el[32],el[33]!==ex||el[34]!==eo||el[35]!==eb||el[36]!==ew?(D=(ew||eo)&&(0,r.jsxs)(u.s,{align:"center",gap:"sm",children:[(0,r.jsx)(S.aJ,{"data-testid":"connection-password-input",style:{flexGrow:1},name:"password",control:ex,placeholder:"Password (default: blank)"}),!eo&&(0,r.jsx)(m.$,{"data-testid":"cancel-password-button",variant:"secondary",onClick:()=>{eC(!1),eb("password")},children:"Cancel"})]}),el[33]=ex,el[34]=eo,el[35]=eb,el[36]=ew,el[37]=D):D=el[37],el[38]!==M||el[39]!==D?(Z=(0,r.jsxs)(d.a,{children:[V,M,D]}),el[38]=M,el[39]=D,el[40]=Z):Z=el[40],el[41]!==e_?(O=!e_&&(0,r.jsx)(h.M,{underline:"always",onClick:()=>eE(!0),size:"xs",children:(0,r.jsxs)(x.Y,{gap:"xs",children:[(0,r.jsx)(g.A,{size:14}),"Advanced Settings"]})}),el[41]=e_,el[42]=O):O=el[42],el[43]!==e_?(q=e_&&(0,r.jsx)(m.$,{onClick:()=>eE(!1),size:"xs",variant:"subtle",children:"Hide Advanced Settings"}),el[43]=e_,el[44]=q):q=el[44],el[45]!==O||el[46]!==q?(G=(0,r.jsxs)(d.a,{children:[O,q]}),el[45]=O,el[46]=q,el[47]=G):G=el[47];let eT=e_?"block":"none";el[48]!==eT?(R={display:eT},el[48]=eT,el[49]=R):R=el[49],el[50]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)(c.E,{size:"xs",children:"Query Log Setting Prefix"}),el[50]=B):B=el[50],el[51]===Symbol.for("react.memo_cache_sentinel")?(P=(0,r.jsxs)(x.Y,{gap:"xs",mb:"xs",children:[B,(0,r.jsx)(p.m,{label:"Tracks query origins by adding the current user's email to ClickHouse queries (as {prefix}_user in system.query_log). Requires 'custom_settings_prefixes' in your ClickHouse config.xml to include this exact value, otherwise queries will be rejected.",color:"dark",c:"white",multiline:!0,maw:400,children:(0,r.jsx)(j.A,{size:16,className:"cursor-pointer"})})]}),el[51]=P):P=el[51],el[52]!==ex?(K=(0,r.jsx)(S.t4,{"data-testid":"connection-setting-prefix-input",name:"hyperdxSettingPrefix",control:ex,placeholder:"hyperdx"}),el[52]=ex,el[53]=K):K=el[53],el[54]!==R||el[55]!==K?(W=(0,r.jsxs)(d.a,{style:R,children:[P,K]}),el[54]=R,el[55]=K,el[56]=W):W=el[56];let eA=!eg.isValid,e$="invalid"===eN?"danger":"secondary",eI="loading"===eN;el[57]!==eN?(Y="valid"===eN?(0,r.jsx)(r.Fragment,{children:"Connection successful"}):"invalid"===eN?(0,r.jsx)(r.Fragment,{children:"Unable to connect"}):"Test Connection",el[57]=eN,el[58]=Y):Y=el[58],el[59]!==ez||el[60]!==eA||el[61]!==e$||el[62]!==eI||el[63]!==Y?(Q=(0,r.jsx)(m.$,{disabled:eA,variant:e$,type:"button",onClick:ez,loading:eI,children:Y}),el[59]=ez,el[60]=eA,el[61]=e$,el[62]=eI,el[63]=Y,el[64]=Q):Q=el[64],el[65]!==eo||el[66]!==Q?(X=(0,r.jsx)(p.m,{label:"\uD83D\uDD12 Password re-entry required for security",position:"right",disabled:eo,withArrow:!0,children:Q}),el[65]=eo,el[66]=Q,el[67]=X):X=el[67],el[68]!==ec||el[69]!==eu?(U=ec&&eu&&(0,r.jsx)(m.$,{variant:"secondary",onClick:ec,children:"Cancel"}),el[68]=ec,el[69]=eu,el[70]=U):U=el[70],el[71]!==es.id||el[72]!==eS||el[73]!==eo||el[74]!==ec||el[75]!==eh?(J=!eo&&!1!==eh&&(0,r.jsx)(_.A,{onDelete:()=>eS.mutate({id:es.id},{onSuccess:()=>{ec?.()}})}),el[71]=es.id,el[72]=eS,el[73]=eo,el[74]=ec,el[75]=eh,el[76]=J):J=el[76];let ek=eo?ej.isPending:ey.isPending,eF=eo?"Create":"Save";return el[77]!==ek||el[78]!==eF?(ee=(0,r.jsxs)(m.$,{"data-testid":"connection-save-button",variant:"primary",type:"submit",loading:ek,children:[eF," Connection"]}),el[77]=ek,el[78]=eF,el[79]=ee):ee=el[79],el[80]!==U||el[81]!==J||el[82]!==ee?(ea=(0,r.jsxs)(x.Y,{gap:"xs",children:[U,J,ee]}),el[80]=U,el[81]=J,el[82]=ee,el[83]=ea):ea=el[83],el[84]!==X||el[85]!==ea?(et=(0,r.jsxs)(x.Y,{justify:"space-between",children:[X,ea]}),el[84]=X,el[85]=ea,el[86]=et):et=el[86],el[87]!==F||el[88]!==H||el[89]!==Z||el[90]!==G||el[91]!==W||el[92]!==et||el[93]!==$?(en=(0,r.jsxs)(b.B,{gap:"md",children:[$,F,H,Z,G,W,et]}),el[87]=F,el[88]=H,el[89]=Z,el[90]=G,el[91]=W,el[92]=et,el[93]=$,el[94]=en):en=el[94],el[95]!==en||el[96]!==E?(er=(0,r.jsx)("form",{"data-testid":"connection-form",onSubmit:E,children:en}),el[95]=en,el[96]=E,el[97]=er):er=el[97],er}function z(){f.$e.show({color:"red",message:"Error updating connection, please check the host and credentials and try again.",autoClose:5e3})}function T(){f.$e.show({color:"red",message:"Error creating connection, please check the host and credentials and try again.",autoClose:5e3})}},46466:(e,a,t)=>{"use strict";t.d(a,{Z:()=>N});var n=t(6029),r=t(75155),l=t(55729),s=t(75828),o=t.n(s),i=t(1909),c=t(66692),d=t(95516),m=t(15215),u=t(36417),h=t(22623),x=t(43517),p=t(63085),b=t(78253),f=t(67747),g=t(95352),j=t(78550),y=t(92917),S=t(74860),v=t(71470),w=t.n(v);let C="150px",_={lineNumbers:!1,foldGutter:!1,highlightActiveLine:!1,highlightActiveLineGutter:!1};function E({tableConnection:e,tableConnections:a,filterField:t,onChange:r,placeholder:s,onLanguageChange:i,language:v,onSubmit:E,error:N,value:z,size:T,label:A,disableKeywordAutocomplete:$,enableHotkey:I,tooltipText:k,additionalSuggestions:F=[],queryHistoryType:L,parentRef:H,allowMultiline:V=!0}){let{colorScheme:M}=(0,u.C)(),{data:D}=(0,j.Sh)((e?[e]:a)??[]),Z=(0,l.useMemo)(()=>t?D?.filter(t):D,[D,t]),[O,q]=(0,y.mk)(L),G=(0,l.useCallback)((e,a,t,n)=>{e.dispatch({changes:{from:a,to:t,insert:n}}),(0,d.N)(e),q(n),E&&E()},[E,q]),R=(0,l.useMemo)(()=>()=>({from:0,options:O.map(e=>({label:e,section:"Search History",type:"keyword",apply:(a,t,n,r)=>{G(a,n,r,e)}}))}),[O,G]),[B,P]=(0,l.useState)(!1),K=(0,l.useRef)(null),W=(0,l.useRef)(new g.xx),Y=(0,l.useCallback)(e=>{let a=e.state.doc.toString(),t=[...Z?.map(e=>e.path.length>1?`${e.path[0]}['${e.path[1]}']`:e.path[0])??[],...F],n=(0,m.ll)({dialect:m.fy.define({keywords:t.join(" ")+($?"":" AND OR NOT IN LIKE ILIKE BETWEEN ASC DESC intDiv intDivOrZero isNaN moduloOrZero abs empty notEmpty length arrayConcat has hasAll hasAny indexOf arrayCount countEqual arrayUnion arrayIntersect arrayMap arrayFilter arraySort flatten arrayCompact arrayMin arrayMax arraySum arrayAvg if multiIf floor ceiling truncate round timestamp toTimeZone toYear toMonth toWeek toDayOfYear toDayOfMonth toDayOfWeek toUnixTimestamp toTime lower upper substring trim dictGet dictGetOrDefault dictGetOrNull")})}),r=(0,d.yU)({compareCompletions:(e,a)=>0,override:[R]});e.dispatch({effects:W.current.reconfigure(a.length>0?n:r)})},[Z,F,R,$]);(0,l.useEffect)(()=>{null!=K.current&&null!=K.current.view&&Y(K.current.view)},[Y]),(0,c.vC)(["/","s"],()=>{I&&K.current?.view?.focus()},{preventDefault:!0,enableOnFormTags:!1,enableOnContentEditable:!1},[I]);let Q=(0,l.useMemo)(()=>null==H?[]:[(0,g.vX)({parent:H,tooltipSpace:e=>{let a=e.dom.getBoundingClientRect(),t=H.getBoundingClientRect();return{...a,right:a.right??0,left:t.left??a.left,top:t.top??a.top,bottom:t.bottom??a.bottom}}})],[H]),X=(0,l.useMemo)(()=>[...Q,g.Lz.baseTheme({"&.cm-editor.cm-focused":{outline:"0px solid transparent"},"&.cm-editor":{background:"transparent !important"},".cm-editor-multiline &.cm-editor":{maxHeight:C},"& .cm-tooltip-autocomplete":{whiteSpace:"nowrap",wordWrap:"break-word",maxWidth:"100%",backgroundColor:"var(--color-bg-surface) !important",border:"1px solid var(--color-border) !important",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"4px"},"& .cm-tooltip-autocomplete > ul":{fontFamily:"inherit",maxHeight:"300px"},"& .cm-tooltip-autocomplete > ul > li":{padding:"4px 8px",borderRadius:"4px",cursor:"pointer",color:"var(--color-text)"},"& .cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"var(--color-bg-highlighted) !important",color:"var(--color-text-muted) !important"},"& .cm-tooltip-autocomplete .cm-completionLabel":{color:"var(--color-text)"},"& .cm-tooltip-autocomplete .cm-completionDetail":{color:"var(--color-text-muted)",fontStyle:"normal",marginLeft:"8px"},"& .cm-tooltip-autocomplete .cm-completionInfo":{backgroundColor:"var(--color-bg-field)",border:"1px solid var(--color-border)",borderRadius:"4px",padding:"8px",color:"var(--color-text)"},"& .cm-completionIcon":{width:"16px",marginRight:"6px",opacity:.7},"& .cm-scroller":{overflowX:"hidden"},".cm-editor-multiline & .cm-scroller":{maxHeight:C,overflowY:"auto"}}),...V?[g.Lz.lineWrapping]:[],W.current.of((0,m.ll)({upperCaseKeywords:!0})),g.Nb.highest(g.w4.of([{key:"Enter",run:e=>null!=E&&(L&&K?.current?.view&&q(K?.current?.view.state.doc.toString()),E(),!0)},...V?[{key:"Shift-Enter",run:()=>!1}]:[]])),g.w4.of([{key:"Tab",run:d.$w}])],[V,E,L,q,Q]),U=(0,l.useCallback)(()=>{K?.current?.view&&(0,d.rB)(K.current.view)},[]),J=V&&B;return(0,n.jsxs)("div",{className:w().wrapper,style:{"--editor-base-height":`${"xs"===T?32:36}px`},"data-expanded":J?"true":void 0,children:[J&&(0,n.jsx)("div",{className:w().placeholder,"aria-hidden":"true"}),(0,n.jsxs)(h.t,{shadow:"none",className:o()(w().paper,N?w().error:void 0,J?w().expanded:void 0,V&&!J?w().collapseFade:void 0),ps:"4px",children:[null!=A&&(0,n.jsx)(x.E,{mx:"4px",size:"xs",fw:"bold",className:o()(w().label,"xs"===T?w().sizeXs:void 0),component:"div",children:(0,n.jsx)(p.m,{label:k,disabled:!k,children:(0,n.jsxs)(b.s,{align:"center",gap:2,children:[A,k&&(0,n.jsx)(f.A,{size:16})]})})}),(0,n.jsx)("div",{className:o()(w().cmWrapper,"xs"===T?w().sizeXs:void 0,J?void 0:w().collapsed,J?"cm-editor-multiline":void 0),children:(0,n.jsx)(g.Ay,{indentWithTab:!1,ref:K,value:z,onChange:r,theme:"dark"===M?"dark":"light",onFocus:(0,l.useCallback)(()=>{P(!0)},[P]),onBlur:(0,l.useCallback)(()=>{P(!1)},[P]),extensions:X,onCreateEditor:Y,basicSetup:_,placeholder:s,onClick:U})}),null!=i&&null!=v&&(0,n.jsx)("div",{className:w().languageSwitchWrapper,children:(0,n.jsx)(S.A,{language:v,onLanguageChange:i})})]})]})}let N=(0,l.memo)(function(e){let a,t,l,s,o,c,d=(0,r.c)(15);d[0]!==e?({placeholder:l,filterField:t,additionalSuggestions:a,queryHistoryType:o,...s}=e,d[0]=e,d[1]=a,d[2]=t,d[3]=l,d[4]=s,d[5]=o):(a=d[1],t=d[2],l=d[3],s=d[4],o=d[5]);let{field:m,fieldState:u}=(0,i.as)(s),h=m.value||s.defaultValue,x="";"string"==typeof h?x=h:void 0!==h&&console.error("SQLInlineEditor: value is not a string",h);let p=u.error?.message;return d[6]!==a||d[7]!==m.onChange||d[8]!==t||d[9]!==l||d[10]!==s||d[11]!==o||d[12]!==x||d[13]!==p?(c=(0,n.jsx)(E,{filterField:t,onChange:m.onChange,placeholder:l,value:x,error:p,additionalSuggestions:a,queryHistoryType:o,...s}),d[6]=a,d[7]=m.onChange,d[8]=t,d[9]=l,d[10]=s,d[11]=o,d[12]=x,d[13]=p,d[14]=c):c=d[14],c})},54970:(e,a,t)=>{"use strict";t.d(a,{v:()=>k});var n=t(6029),r=t(75155),l=t(55729),s=t(82641),o=t(62801),i=t(78253),c=t(94720),d=t(43517),m=t(25062),u=t(39603),h=t(92556),x=t(3635),p=t(76013),b=t(60481),f=t(92789),g=t(34834),j=t(28797),y=t(94502),S=t(17283),v=t(91758),w=t(58333),C=t(23474),_=t(23195),E=t(98142),N=t(93108),z=t(81973),T=t(92917),A=t(24314),$=t(76326),I=t.n($);function k(e){let a,t,$,k,F,L,H,V,M=(0,r.c)(53),{onAddSource:D,withCard:Z,withBorder:O,cardClassName:q,variant:G,showEmptyState:R}=e,B=void 0===Z||Z,P=void 0===O||O,K=void 0===G?"compact":G,W=void 0===R||R,{data:Y,isLoading:Q,error:X,refetch:U}=(0,N.ZY)(),{data:J,isLoading:ee,error:ea,refetch:et}=(0,z.oE)(),[en,er]=(0,l.useState)(null),[el,es]=(0,l.useState)(!1),eo=X||ea;M[0]!==U||M[1]!==et?(a=()=>{U(),et()},M[0]=U,M[1]=et,M[2]=a):a=M[2];let ei=a,ec="compact"===K?"sm":"md",ed="compact"===K?"xs":"sm",em="compact"===K?11:14,eu="compact"===K?"xs":"sm",eh=B?o.Z:l.Fragment;M[3]!==q||M[4]!==P||M[5]!==B?(t=B?{withBorder:P,p:"md",radius:"sm",className:q??I().sourcesCard}:{},M[3]=q,M[4]=P,M[5]=B,M[6]=t):t=M[6];let ex=t;if(Q||ee){let e,a;return M[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)(i.s,{justify:"center",align:"center",py:"xl",children:[(0,n.jsx)(c.a,{size:"sm"}),(0,n.jsx)(d.E,{size:"sm",c:"dimmed",ml:"sm",children:"Loading sources..."})]}),M[7]=e):e=M[7],M[8]!==eh||M[9]!==ex?(a=(0,n.jsx)(eh,{...ex,children:e}),M[8]=eh,M[9]=ex,M[10]=a):a=M[10],a}if(eo){let e,a,t,r,l,s;M[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(j.A,{size:16}),M[11]=e):e=M[11];let o=eo instanceof Error?eo.message:"An error occurred while loading data sources.";return M[12]!==o?(a=(0,n.jsx)(d.E,{size:"sm",mb:"sm",children:o}),M[12]=o,M[13]=a):a=M[13],M[14]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(y.A,{size:14}),M[14]=t):t=M[14],M[15]!==ei?(r=(0,n.jsx)(m.$,{size:"xs",variant:"danger",leftSection:t,onClick:ei,children:"Retry"}),M[15]=ei,M[16]=r):r=M[16],M[17]!==r||M[18]!==a?(l=(0,n.jsxs)(u.F,{icon:e,title:"Failed to load sources",color:"red",variant:"light",children:[a,r]}),M[17]=r,M[18]=a,M[19]=l):l=M[19],M[20]!==eh||M[21]!==l||M[22]!==ex?(s=(0,n.jsx)(eh,{...ex,children:l}),M[20]=eh,M[21]=l,M[22]=ex,M[23]=s):s=M[23],s}let ep=!J||0===J.length;return M[24]!==el||M[25]!==ep||M[26]!==W?($=ep&&!el&&W&&(0,n.jsxs)(i.s,{direction:"column",align:"center",py:"xl",gap:"sm",children:[(0,n.jsx)(S.A,{size:32,color:"var(--color-text-muted)"}),(0,n.jsx)(h.h,{size:"sm",ta:"center",c:"var(--color-text-muted)",children:"No data sources configured yet."}),(0,n.jsx)(d.E,{size:"xs",ta:"center",c:"var(--color-text-muted)",children:"Add a source to start querying your data."})]}),M[24]=el,M[25]=ep,M[26]=W,M[27]=$):$=M[27],M[28]!==eu||M[29]!==Y||M[30]!==en||M[31]!==em||M[32]!==J||M[33]!==ed||M[34]!==ec?(k=J?.map((e,a)=>(0,n.jsxs)(l.Fragment,{children:[(0,n.jsxs)(i.s,{justify:"space-between",align:"center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.E,{size:ec,fw:500,children:e.name}),(0,n.jsx)(d.E,{size:ed,c:"dimmed",mt:4,children:(0,n.jsxs)(x.Y,{gap:"xs",children:[(0,T.Zr)(e.kind),(0,n.jsxs)(x.Y,{gap:4,children:[(0,n.jsx)(v.A,{size:em}),Y?.find(a=>a.id===e.connection)?.name]}),(0,n.jsx)(x.Y,{gap:4,children:e.from&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.A,{size:em}),e.from.databaseName,e.kind===s.GL.Metric?"":".",e.from.tableName]})})]})})]}),(0,n.jsx)(p.M,{variant:"secondary",size:eu,onClick:()=>er(en===e.id?null:e.id),children:en===e.id?(0,n.jsx)(w.A,{size:em+2}):(0,n.jsx)(C.A,{size:em+2})})]}),en===e.id&&(0,n.jsx)(b.a,{mt:"xs",children:(0,n.jsx)(A.Eb,{sourceId:e.id,onSave:()=>er(null)})}),a<(J?.length??0)-1&&(0,n.jsx)(f.c,{})]},e.id)),M[28]=eu,M[29]=Y,M[30]=en,M[31]=em,M[32]=J,M[33]=ed,M[34]=ec,M[35]=k):k=M[35],M[36]!==el||M[37]!==J?(F=el&&(0,n.jsxs)(n.Fragment,{children:[J&&J.length>0&&(0,n.jsx)(f.c,{}),(0,n.jsx)(A.Eb,{isNew:!0,onCreate:()=>es(!1),onCancel:()=>es(!1)})]}),M[36]=el,M[37]=J,M[38]=F):F=M[38],M[39]!==eu||M[40]!==el||M[41]!==D||M[42]!==J?(L=!E.VO&&!el&&(0,n.jsx)(i.s,{justify:"flex-end",pt:J&&J.length>0?"md":0,children:(0,n.jsx)(m.$,{variant:"secondary",size:eu,leftSection:(0,n.jsx)(_.A,{size:14}),onClick:()=>{es(!0),D?.()},children:"Add source"})}),M[39]=eu,M[40]=el,M[41]=D,M[42]=J,M[43]=L):L=M[43],M[44]!==L||M[45]!==$||M[46]!==k||M[47]!==F?(H=(0,n.jsxs)(g.B,{gap:"md",children:[$,k,F,L]}),M[44]=L,M[45]=$,M[46]=k,M[47]=F,M[48]=H):H=M[48],M[49]!==eh||M[50]!==H||M[51]!==ex?(V=(0,n.jsx)(eh,{...ex,children:H}),M[49]=eh,M[50]=H,M[51]=ex,M[52]=V):V=M[52],V}},62453:(e,a,t)=>{"use strict";t.d(a,{r:()=>i});var n=t(6029),r=t(75155),l=t(91758),s=t(9211),o=t(93108);function i(e){let a,t,i,d,m,u,h=(0,r.c)(11);h[0]!==e?({size:t,...a}=e,h[0]=e,h[1]=a,h[2]=t):(a=h[1],t=h[2]);let{data:x}=(0,o.ZY)();h[3]!==x?(i=x?.map(c),h[3]=x,h[4]=i):i=h[4];let p=i;return h[5]===Symbol.for("react.memo_cache_sentinel")?(d={withinPortal:!1},h[5]=d):d=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(l.A,{size:16}),h[6]=m):m=h[6],h[7]!==a||h[8]!==t||h[9]!==p?(u=(0,n.jsx)(s.A,{...a,allowDeselect:!1,data:p,comboboxProps:d,searchable:!0,placeholder:"Connection",leftSection:m,maxDropdownHeight:280,size:t}),h[7]=a,h[8]=t,h[9]=p,h[10]=u):u=h[10],u}function c(e){return{value:e.id,label:e.name}}},71470:e=>{e.exports={wrapper:"SQLInlineEditor_wrapper__pT7MN",placeholder:"SQLInlineEditor_placeholder__Lx1ui",paper:"SQLInlineEditor_paper__Gtsf3",error:"SQLInlineEditor_error__RXa7x",expanded:"SQLInlineEditor_expanded__yWAQc",label:"SQLInlineEditor_label__shxMn",sizeXs:"SQLInlineEditor_sizeXs__ianH0",cmWrapper:"SQLInlineEditor_cmWrapper__u4wLo",collapsed:"SQLInlineEditor_collapsed__9rkFt",languageSwitchWrapper:"SQLInlineEditor_languageSwitchWrapper__gsIbr",collapseFade:"SQLInlineEditor_collapseFade__3N8c7"}},71781:(e,a,t)=>{"use strict";t.d(a,{M7:()=>d,aJ:()=>u,mh:()=>h,t4:()=>m});var n=t(6029),r=t(75155);t(55729);var l=t(1909),s=t(59029),o=t(96061),i=t(45544),c=t(47268);function d(e){let a,t,o,i,c,d,m=(0,r.c)(12);return m[0]!==e?({name:t,control:a,rules:i,...o}=e,m[0]=e,m[1]=a,m[2]=t,m[3]=o,m[4]=i):(a=m[1],t=m[2],o=m[3],i=m[4]),m[5]!==o?(c=e=>{let{field:a,fieldState:t}=e,{error:r}=t;return(0,n.jsx)(s.k,{...o,...a,error:r?.message})},m[5]=o,m[6]=c):c=m[6],m[7]!==a||m[8]!==t||m[9]!==i||m[10]!==c?(d=(0,n.jsx)(l.xI,{name:t,control:a,rules:i,render:c}),m[7]=a,m[8]=t,m[9]=i,m[10]=c,m[11]=d):d=m[11],d}function m(e){let a,t,s,i,c,d,m=(0,r.c)(12);return m[0]!==e?({name:t,control:a,rules:i,...s}=e,m[0]=e,m[1]=a,m[2]=t,m[3]=s,m[4]=i):(a=m[1],t=m[2],s=m[3],i=m[4]),m[5]!==s?(c=e=>{let{field:a,fieldState:t}=e,{error:r}=t;return(0,n.jsx)(o.p,{...s,...a,error:r?.message})},m[5]=s,m[6]=c):c=m[6],m[7]!==a||m[8]!==t||m[9]!==i||m[10]!==c?(d=(0,n.jsx)(l.xI,{name:t,control:a,rules:i,render:c}),m[7]=a,m[8]=t,m[9]=i,m[10]=c,m[11]=d):d=m[11],d}function u(e){let a,t,s,o,c,d,m=(0,r.c)(12);return m[0]!==e?({name:t,control:a,rules:o,...s}=e,m[0]=e,m[1]=a,m[2]=t,m[3]=s,m[4]=o):(a=m[1],t=m[2],s=m[3],o=m[4]),m[5]!==s?(c=e=>{let{field:a,fieldState:t}=e,{error:r}=t;return(0,n.jsx)(i.y,{...s,...a,error:r?.message})},m[5]=s,m[6]=c):c=m[6],m[7]!==a||m[8]!==t||m[9]!==o||m[10]!==c?(d=(0,n.jsx)(l.xI,{name:t,control:a,rules:o,render:c}),m[7]=a,m[8]=t,m[9]=o,m[10]=c,m[11]=d):d=m[11],d}function h(e){let a,t,s,o,i,d,m=(0,r.c)(12);return m[0]!==e?({name:t,control:a,rules:o,...s}=e,m[0]=e,m[1]=a,m[2]=t,m[3]=s,m[4]=o):(a=m[1],t=m[2],s=m[3],o=m[4]),m[5]!==s?(i=e=>{let{field:a,fieldState:t}=e,{value:r,...l}=a,{error:o}=t;return(0,n.jsx)(c.S,{...s,...l,checked:r,error:o?.message})},m[5]=s,m[6]=i):i=m[6],m[7]!==a||m[8]!==t||m[9]!==o||m[10]!==i?(d=(0,n.jsx)(l.xI,{name:t,control:a,rules:o,render:i}),m[7]=a,m[8]=t,m[9]=o,m[10]=i,m[11]=d):d=m[11],d}},74860:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var n=t(6029),r=t(75155),l=t(38206),s=t(23474);let o=[{value:"sql",label:"SQL"},{value:"lucene",label:"Lucene"}];function i(e){let a,t,i,c,d=(0,r.c)(7),{language:m,onLanguageChange:u}=e;return d[0]!==u?(a=e=>{("sql"===e||"lucene"===e)&&u(e)},d[0]=u,d[1]=a):a=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(s.A,{size:14}),i={input:{border:"none",background:"transparent",minHeight:28,fontWeight:500},dropdown:{minWidth:96}},d[2]=t,d[3]=i):(t=d[2],i=d[3]),d[4]!==m||d[5]!==a?(c=(0,n.jsx)(l.l,{size:"xs",value:m,onChange:a,data:o,w:80,rightSection:t,styles:i,"aria-label":"Query language"}),d[4]=m,d[5]=a,d[6]=c):c=d[6],c}},76326:e=>{e.exports={sourcesCard:"Sources_sourcesCard__m5aMQ"}},86761:(e,a,t)=>{"use strict";t.d(a,{A:()=>j});var n=t(6029),r=t(75155),l=t(55729),s=t(82641),o=t(43517),i=t(63085),c=t(22623),d=t(27166),m=t(64488),u=t(6620),h=t(94502),x=t(78550),p=t(88339);let b=e=>{let a,t,l,s=(0,r.c)(11),{onClick:c,isEnabled:d,tableCount:m,iconStyles:h,variant:x}=e,p=void 0===x?"icon":x,b=d?m>1?"Show Table Schemas":"Show Table Schema":"Select a table to view its schema";return s[0]!==d||s[1]!==c?(a=()=>d&&c(),s[0]=d,s[1]=c,s[2]=a):a=s[2],s[3]!==h||s[4]!==d||s[5]!==p?(t="text"===p?(0,n.jsx)(o.E,{fw:500,size:"xs",className:"text-sucess-hover",style:{cursor:d?"pointer":"default",...h},children:"Schema"}):(0,n.jsx)(u.A,{size:16}),s[3]=h,s[4]=d,s[5]=p,s[6]=t):t=s[6],s[7]!==a||s[8]!==t||s[9]!==b?(l=(0,n.jsx)(i.m,{label:b,color:"dark",position:"right",onClick:a,children:t}),s[7]=a,s[8]=t,s[9]=b,s[10]=l):l=s[10],l},f=e=>{let a,t,l,s=(0,r.c)(8),{databaseName:o,tableName:i,connectionId:d}=e;s[0]!==d||s[1]!==o||s[2]!==i?(a={databaseName:o,tableName:i,connectionId:d},s[0]=d,s[1]=o,s[2]=i,s[3]=a):a=s[3];let{data:m,isLoading:u}=(0,x.Z2)(a);return s[4]===Symbol.for("react.memo_cache_sentinel")?(t={overflow:"hidden"},s[4]=t):t=s[4],s[5]!==m?.create_table_query||s[6]!==u?(l=(0,n.jsx)(c.t,{flex:"auto",shadow:"none",radius:"sm",p:"xs",style:t,children:u?(0,n.jsx)("div",{className:"d-inline-block",children:(0,n.jsx)(h.A,{className:"spin-animate"})}):(0,n.jsx)(p.V,{data:m?.create_table_query??"Schema is not available",enableCopy:!!m?.create_table_query,copyButtonSize:"xs"})}),s[5]=m?.create_table_query,s[6]=u,s[7]=l):l=s[7],l},g={[s.SX.Sum]:"Sum",[s.SX.Gauge]:"Gauge",[s.SX.Histogram]:"Histogram",[s.SX.Summary]:"Summary",[s.SX.ExponentialHistogram]:"Exponential Histogram"},j=e=>{let a,t,o,i,c,u=(0,r.c)(34),{source:h,iconStyles:x,variant:p}=e,f=void 0===p?"icon":p,[j,w]=(0,l.useState)(!1),C=h?.kind==="metric";if(u[0]!==C||u[1]!==h){let e,t;if(a=[],h&&C){let e,t,n;u[3]===Symbol.for("react.memo_cache_sentinel")?(e=Object.values(s.SX),u[3]=e):e=u[3],u[4]!==h?(t=e.map(e=>({metricType:e,tableName:h.metricTables?.[e]})).filter(y),u[4]=h,u[5]=t):t=u[5],u[6]!==h||u[7]!==t?(n=t.map(e=>{let{metricType:a,tableName:t}=e;return{databaseName:h.from.databaseName,tableName:t,connectionId:h.connection,title:g[a]}}),u[6]=h,u[7]=t,u[8]=n):n=u[8],a.push(...n)}else if(h&&h.from.tableName){let e,t=h.name??h.from.tableName;u[9]!==h.connection||u[10]!==h.from.databaseName||u[11]!==h.from.tableName||u[12]!==t?(e={databaseName:h.from.databaseName,tableName:h.from.tableName,connectionId:h.connection,title:t},u[9]=h.connection,u[10]=h.from.databaseName,u[11]=h.from.tableName,u[12]=t,u[13]=e):e=u[13],a.push(e)}u[14]!==h?.materializedViews?(e=h?.materializedViews??[],u[14]=h?.materializedViews,u[15]=e):e=u[15];let n=e;if(u[16]!==n||u[17]!==h){let e;u[19]!==h?(e=e=>{let{tableName:a,databaseName:t}=e;return{databaseName:t,tableName:a,connectionId:h.connection,title:`${a} (MV)`}},u[19]=h,u[20]=e):e=u[20],t=n.map(e),u[16]=n,u[17]=h,u[18]=t}else t=u[18];a.push(...t),u[0]=C,u[1]=h,u[2]=a}else a=u[2];let _=!!h&&a.length>0;return u[21]===Symbol.for("react.memo_cache_sentinel")?(t=()=>w(!0),u[21]=t):t=u[21],u[22]!==x||u[23]!==_||u[24]!==a.length||u[25]!==f?(o=(0,n.jsx)(b,{isEnabled:_,onClick:t,iconStyles:x,tableCount:a.length,variant:f}),u[22]=x,u[23]=_,u[24]=a.length,u[25]=f,u[26]=o):o=u[26],u[27]!==_||u[28]!==j||u[29]!==a?(i=_&&(0,n.jsx)(d.a,{opened:j,onClose:()=>w(!1),size:"auto",title:a.length>1?"Table Schemas":"Table Schema",children:(0,n.jsxs)(m.t,{defaultValue:`${a[0]?.databaseName}.${a[0]?.tableName}.${a[0]?.title}`,children:[(0,n.jsx)(m.t.List,{children:a.map(S)}),a.map(v)]})}),u[27]=_,u[28]=j,u[29]=a,u[30]=i):i=u[30],u[31]!==o||u[32]!==i?(c=(0,n.jsxs)(n.Fragment,{children:[o,i]}),u[31]=o,u[32]=i,u[33]=c):c=u[33],c};function y(e){let{tableName:a}=e;return!!a}function S(e){return(0,n.jsx)(m.t.Tab,{value:`${e.databaseName}.${e.tableName}.${e.title}`,children:e.title},`${e.databaseName}.${e.tableName}.${e.title}`)}function v(e){return(0,n.jsx)(m.t.Panel,{value:`${e.databaseName}.${e.tableName}.${e.title}`,pt:"sm",children:(0,n.jsx)(f,{...e})},`${e.databaseName}.${e.tableName}.${e.title}`)}}}]);